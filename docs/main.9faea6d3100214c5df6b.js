(self.webpackChunkfirebase_angular_crud=self.webpackChunkfirebase_angular_crud||[]).push([[179],{8255:et=>{function De(F){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+F+"'");throw c.code="MODULE_NOT_FOUND",c})}De.keys=()=>[],De.resolve=De,De.id=8255,et.exports=De},3018:(et,De,F)=>{"use strict";F.d(De,{deG:()=>qu,tb:()=>my,AFp:()=>ZI,ip1:()=>ef,CZH:()=>tf,hGG:()=>fD,z2F:()=>sf,sBO:()=>vT,Sil:()=>rf,_Vd:()=>Ea,EJc:()=>yy,SBq:()=>Rt,qLn:()=>Xd,vpe:()=>Da,gxx:()=>ap,tBr:()=>ua,XFs:()=>Se,OlP:()=>On,zs3:()=>sn,ZZ4:()=>Hp,aQg:()=>F_,soG:()=>td,YKP:()=>zb,v3s:()=>Ey,h0i:()=>vc,PXZ:()=>J1,R0b:()=>ps,FiY:()=>so,Lbi:()=>Lw,g9A:()=>gy,Qsj:()=>O_,FYo:()=>cr,JOm:()=>ha,Tiy:()=>jb,q3G:()=>Dn,tp0:()=>oo,EAV:()=>rD,Rgc:()=>zp,dDg:()=>jw,DyG:()=>Hu,q4F:()=>qb,GfV:()=>P_,s_b:()=>Yp,ifc:()=>nn,eFA:()=>Aa,G48:()=>nM,Gpc:()=>ge,X6Q:()=>KI,_c5:()=>ux,VLi:()=>$w,c2e:()=>_y,zSh:()=>Zm,wAp:()=>Le,vHH:()=>pe,EiD:()=>Cl,mCW:()=>Xu,qzn:()=>wi,JVY:()=>Xg,pB0:()=>Hd,eBb:()=>qy,L6k:()=>em,LAX:()=>Qu,cg1:()=>xb,Tjo:()=>sx,kL8:()=>ls,yhl:()=>nu,dqk:()=>j,sIi:()=>uc,CqO:()=>ob,QGY:()=>Rl,F4k:()=>Eh,RDi:()=>kr,AaK:()=>Q,z3N:()=>Os,qOj:()=>jv,TTD:()=>bd,_Bn:()=>Bp,xp6:()=>tE,uIk:()=>gp,ekj:()=>d_,Suo:()=>gI,Xpm:()=>Ee,lG2:()=>Ft,Yz7:()=>hn,cJS:()=>jr,oAB:()=>Un,Yjl:()=>Pr,Y36:()=>Al,_UZ:()=>Tp,qZA:()=>wh,TgZ:()=>Bo,EpF:()=>vC,n5z:()=>za,Ikx:()=>__,LFG:()=>qn,$8M:()=>ni,NdJ:()=>a_,CRH:()=>ry,oxw:()=>uu,Q6J:()=>o_,s9C:()=>pc,DdM:()=>nI,VKq:()=>dw,iGM:()=>pI,CHM:()=>Ru,LSH:()=>as,kYT:()=>Wn,YNc:()=>oC,_uU:()=>bb,Oqu:()=>p_,hij:()=>_a});var c=F(9765),Z=F(5319),O=F(7574),ae=F(6682),oe=F(2441);var ue=F(1307);function ne(){return new c.xQ}function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function ee(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Q(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Q).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Te=V({__forward_ref__:V});function ge(i){return i.__forward_ref__=ge,i.toString=function(){return Q(this())},i}function Y(i){return ve(i)?i():i}function ve(i){return"function"==typeof i&&i.hasOwnProperty(Te)&&i.__forward_ref__===ge}class pe extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function Ve(i){return"string"==typeof i?i:null==i?"":String(i)}function Pt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ve(i)}function It(i,s){const o=s?` in ${s}`:"";throw new pe("201",`No provider for ${Pt(i)} found${o}`)}function dn(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function hn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function jr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Re(i){return fn(i,Vt)||fn(i,qr)}function fn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Tn(i){return i&&(i.hasOwnProperty(Gn)||i.hasOwnProperty(st))?i[Gn]:null}const Vt=V({\u0275prov:V}),Gn=V({\u0275inj:V}),qr=V({ngInjectableDef:V}),st=V({ngInjectorDef:V});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let Zt;function tn(i){const s=Zt;return Zt=i,s}function $t(i,s,o){const u=Re(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Se.Optional?null:void 0!==s?s:void It(Q(i),"Injector")}function Qe(i){return{toString:i}.toString()}var wr=(()=>((wr=wr||{})[wr.OnPush=0]="OnPush",wr[wr.Default=1]="Default",wr))(),nn=(()=>((nn=nn||{})[nn.Emulated=0]="Emulated",nn[nn.None=2]="None",nn[nn.ShadowDom=3]="ShadowDom",nn))();const en="undefined"!=typeof globalThis&&globalThis,vs="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=en||"undefined"!=typeof global&&global||vs||q,$e={},je=[],Qt=V({\u0275cmp:V}),xn=V({\u0275dir:V}),Rn=V({\u0275pipe:V}),nr=V({\u0275mod:V}),Nt=V({\u0275loc:V}),ie=V({\u0275fac:V}),G=V({__NG_ELEMENT_ID__:V});let H=0;function Ee(i){return Qe(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===wr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||je,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||nn.Emulated,id:"c",styles:i.styles||je,_:null,setInput:null,schemas:i.schemas||null,tView:null},l=i.directives,h=i.features,g=i.pipes;return u.id+=H++,u.inputs=rr(i.inputs,o),u.outputs=rr(i.outputs),h&&h.forEach(_=>_(u)),u.directiveDefs=l?()=>("function"==typeof l?l():l).map(_t):null,u.pipeDefs=g?()=>("function"==typeof g?g():g).map(Et):null,u})}function _t(i){return zn(i)||function(i){return i[xn]||null}(i)}function Et(i){return function(i){return i[Rn]||null}(i)}const jt={};function Un(i){return Qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||je,declarations:i.declarations||je,imports:i.imports||je,exports:i.exports||je,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(jt[i.id]=i.type),s})}function Wn(i,s){return Qe(()=>{const o=Er(i,!0);o.declarations=s.declarations||je,o.imports=s.imports||je,o.exports=s.exports||je})}function rr(i,s){if(null==i)return $e;const o={};for(const u in i)if(i.hasOwnProperty(u)){let l=i[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,s&&(s[l]=h)}return o}const Ft=Ee;function Pr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function zn(i){return i[Qt]||null}function Er(i,s){const o=i[nr]||null;if(!o&&!0===s)throw new Error(`Type ${Q(i)} does not have '\u0275mod' property.`);return o}function ws(i){return Array.isArray(i)&&"object"==typeof i[1]}function cn(i){return Array.isArray(i)&&!0===i[1]}function wu(i){return 0!=(8&i.flags)}function Qo(i){return 2==(2&i.flags)}function Oa(i){return 1==(1&i.flags)}function ti(i){return null!==i.template}function Cf(i){return 0!=(512&i[2])}function _i(i,s){return i.hasOwnProperty(ie)?i[ie]:null}class yi{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function bd(){return bo}function bo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Yc),jg}function jg(){const i=Pa(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===$e)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function Yc(i,s,o,u){const l=Pa(i)||function(i,s){return i[Df]=s}(i,{previous:$e,current:null}),h=l.current||(l.current={}),g=l.previous,_=this.declaredInputs[o],b=g[_];h[_]=new yi(b&&b.currentValue,s,g===$e),i[u]=s}bd.ngInherit=!0;const Df="__ngSimpleChanges__";function Pa(i){return i[Df]||null}let Gs;function kr(i){Gs=i}function Mn(i){return!!i.listen}const Du={createRenderer:(i,s)=>void 0!==Gs?Gs:"undefined"!=typeof document?document:void 0};function vt(i){for(;Array.isArray(i);)i=i[0];return i}function Au(i,s){return vt(s[i])}function Gr(i,s){return vt(s[i.index])}function Yn(i,s){return i.data[s]}function Fr(i,s){const o=s[i];return ws(o)?o:o[0]}function Jo(i){return 4==(4&i[2])}function wo(i){return 128==(128&i[2])}function Ts(i,s){return null==s?null:i[s]}function Su(i){i[18]=0}function Xo(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const ut={lFrame:ra(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fa(){return ut.bindingsEnabled}function Ae(){return ut.lFrame.lView}function Ot(){return ut.lFrame.tView}function Ru(i){return ut.lFrame.contextLView=i,i[8]}function Nn(){let i=nl();for(;null!==i&&64===i.type;)i=i.parent;return i}function nl(){return ut.lFrame.currentTNode}function ts(i,s){const o=ut.lFrame;o.currentTNode=i,o.isParent=s}function Co(){return ut.lFrame.isParent}function Ys(){return ut.isInCheckNoChangesMode}function Vi(i){ut.isInCheckNoChangesMode=i}function Wr(){const i=ut.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ns(){return ut.lFrame.bindingIndex++}function Ua(i,s){const o=ut.lFrame;o.bindingIndex=o.bindingRootIndex=i,na(s)}function na(i){ut.lFrame.currentDirectiveIndex=i}function ku(){return ut.lFrame.currentQueryIndex}function Ed(i){ut.lFrame.currentQueryIndex=i}function Rf(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Fu(i,s,o){if(o&Se.SkipSelf){let l=s,h=i;for(;!(l=l.parent,null!==l||o&Se.Host||(l=Rf(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;s=l,i=h}const u=ut.lFrame=Cd();return u.currentTNode=s,u.lView=i,!0}function To(i){const s=Cd(),o=i[1];ut.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Cd(){const i=ut.lFrame,s=null===i?null:i.child;return null===s?ra(i):s}function ra(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function il(){const i=ut.lFrame;return ut.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Td=il;function Id(){const i=il();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Tr(){return ut.lFrame.selectedIndex}function Ui(i){ut.lFrame.selectedIndex=i}function vn(){const i=ut.lFrame;return Yn(i.tView,i.selectedIndex)}function Za(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:D}=h;g&&(i.contentHooks||(i.contentHooks=[])).push(-o,g),_&&((i.contentHooks||(i.contentHooks=[])).push(o,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,_)),b&&(i.viewHooks||(i.viewHooks=[])).push(-o,b),T&&((i.viewHooks||(i.viewHooks=[])).push(o,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,T)),null!=D&&(i.destroyHooks||(i.destroyHooks=[])).push(o,D)}}function ia(i,s,o){cl(i,s,3,o)}function ul(i,s,o,u){(3&i[2])===o&&cl(i,s,o,u)}function Ds(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function cl(i,s,o,u){const h=null!=u?u:-1,g=s.length-1;let _=0;for(let b=void 0!==u?65535&i[18]:0;b<g;b++)if("number"==typeof s[b+1]){if(_=s[b],null!=u&&_>=u)break}else s[b]<0&&(i[18]+=65536),(_<h||-1==h)&&(ll(i,o,s,b),i[18]=(4294901760&i[18])+b+2),b++}function ll(i,s,o,u){const l=o[u]<0,h=o[u+1],_=i[l?-o[u]:o[u]];if(l){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}class Ba{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ja(i,s,o){const u=Mn(i);let l=0;for(;l<o.length;){const h=o[l];if("number"==typeof h){if(0!==h)break;l++;const g=o[l++],_=o[l++],b=o[l++];u?i.setAttribute(s,_,b,g):s.setAttributeNS(g,_,b)}else{const g=h,_=o[++l];Js(g)?u&&i.setProperty(s,g,_):u?i.setAttribute(s,g,_):s.setAttribute(g,_),l++}}return l}function Do(i){return 3===i||4===i||6===i}function Js(i){return 64===i.charCodeAt(0)}function Ao(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const l=s[u];"number"==typeof l?o=l:0===o||Ad(i,o,l,null,-1===o||2===o?s[++u]:null)}}return i}function Ad(i,s,o,u,l){let h=0,g=i.length;if(-1===s)g=-1;else for(;h<i.length;){const _=i[h++];if("number"==typeof _){if(_===s){g=-1;break}if(_>s){g=h-1;break}}}for(;h<i.length;){const _=i[h];if("number"==typeof _)break;if(_===o){if(null===u)return void(null!==l&&(i[h+1]=l));if(u===i[h+1])return void(i[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==g&&(i.splice(g,0,s),h=g+1),i.splice(h++,0,o),null!==u&&i.splice(h++,0,u),null!==l&&i.splice(h++,0,l)}function Uu(i){return-1!==i}function qa(i){return 32767&i}function So(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let Zu=!0;function $a(i){const s=Zu;return Zu=i,s}let Xe=0;function sa(i,s){const o=ju(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,gr(u.data,i),gr(s,null),gr(u.blueprint,null));const l=Ss(i,s),h=i.injectorIndex;if(Uu(l)){const g=qa(l),_=So(l,s),b=_[1].data;for(let T=0;T<8;T++)s[h+T]=_[g+T]|b[g+T]}return s[h+8]=l,h}function gr(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ju(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ss(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,l=s;for(;null!==l;){const h=l[1],g=h.type;if(u=2===g?h.declTNode:1===g?l[6]:null,null===u)return-1;if(o++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Qn(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(G)&&(u=o[G]),null==u&&(u=o[G]=Xe++);const l=255&u;s.data[i+(l>>5)]|=1<<l}(i,s,o)}function Ha(i,s,o){if(o&Se.Optional)return i;It(s,"NodeInjector")}function Sd(i,s,o,u){if(o&Se.Optional&&void 0===u&&(u=null),0==(o&(Se.Self|Se.Host))){const l=i[9],h=tn(void 0);try{return l?l.get(s,u,o&Se.Optional):$t(s,u,o&Se.Optional)}finally{tn(h)}}return Ha(u,s,o)}function Kt(i,s,o,u=Se.Default,l){if(null!==i){const h=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(G)?i[G]:void 0;return"number"==typeof s?s>=0?255&s:Ga:s}(o);if("function"==typeof h){if(!Fu(s,i,u))return u&Se.Host?Ha(l,o,u):Sd(s,o,u,l);try{const g=h(u);if(null!=g||u&Se.Optional)return g;It(o)}finally{Td()}}else if("number"==typeof h){let g=null,_=ju(i,s),b=-1,T=u&Se.Host?s[16][6]:null;for((-1===_||u&Se.SkipSelf)&&(b=-1===_?Ss(i,s):s[_+8],-1!==b&&xo(u,!1)?(g=s[1],_=qa(b),s=So(b,s)):_=-1);-1!==_;){const D=s[1];if(Md(h,_,D.data)){const N=Rd(_,s,o,g,u,T);if(N!==xd)return N}b=s[_+8],-1!==b&&xo(u,s[1].data[_+8]===T)&&Md(h,_,s)?(g=D,_=qa(b),s=So(b,s)):_=-1}}}return Sd(s,o,u,l)}const xd={};function Ga(){return new vi(Nn(),Ae())}function Rd(i,s,o,u,l,h){const g=s[1],_=g.data[i+8],D=Xs(_,g,o,null==u?Qo(_)&&Zu:u!=g&&0!=(3&_.type),l&Se.Host&&h===_);return null!==D?Wa(s,g,D,_):xd}function Xs(i,s,o,u,l){const h=i.providerIndexes,g=s.data,_=1048575&h,b=i.directiveStart,D=h>>20,P=l?_+D:i.directiveEnd;for(let B=u?_:_+D;B<P;B++){const z=g[B];if(B<b&&o===z||B>=b&&z.type===o)return B}if(l){const B=g[b];if(B&&ti(B)&&B.type===o)return b}return null}function Wa(i,s,o,u){let l=i[o];const h=s.data;if(function(i){return i instanceof Ba}(l)){const g=l;g.resolving&&function(i,s){throw new pe("200",`Circular dependency in DI detected for ${i}`)}(Pt(h[o]));const _=$a(g.canSeeViewProviders);g.resolving=!0;const b=g.injectImpl?tn(g.injectImpl):null;Fu(i,u,Se.Default);try{l=i[o]=g.factory(void 0,h,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=s.type.prototype;if(u){const g=bo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,g)}l&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,l),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==b&&tn(b),$a(_),g.resolving=!1,Td()}}return l}function Md(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function xo(i,s){return!(i&Se.Self||i&Se.Host&&s)}class vi{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,u){return Kt(this._tNode,this._lView,s,u,o)}}function za(i){return Qe(()=>{const s=i.prototype.constructor,o=s[ie]||eo(s),u=Object.prototype;let l=Object.getPrototypeOf(i.prototype).constructor;for(;l&&l!==u;){const h=l[ie]||eo(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function eo(i){return ve(i)?()=>{const s=eo(Y(i));return s&&s()}:_i(i)}function ni(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(Do(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===s)return o[l+1];l+=2}}}return null}(Nn(),i)}const rs="__parameters__";function to(i,s,o){return Qe(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const l in u)this[l]=u[l]}}}(s);function l(...h){if(this instanceof l)return u.apply(this,h),this;const g=new l(...h);return _.annotation=g,_;function _(b,T,D){const N=b.hasOwnProperty(rs)?b[rs]:Object.defineProperty(b,rs,{value:[]})[rs];for(;N.length<=D;)N.push(null);return(N[D]=N[D]||[]).push(g),b}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=i,l.annotationCls=l,l})}class On{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=hn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qu=new On("AnalyzeForEntryComponents"),Hu=Function;function ri(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),ri(u,s)):s!==i&&s.push(u)}return s}function Bi(i,s){i.forEach(o=>Array.isArray(o)?Bi(o,s):s(o))}function ss(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function No(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function C(i,s,o){let u=x(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let l=i.length;if(l==s)i.push(o,u);else if(1===l)i.push(u,i[0]),i[0]=o;else{for(l--,i.push(i[l-1],i[l]);l>s;)i[l]=i[l-2],l--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function I(i,s){const o=x(i,s);if(o>=0)return i[1|o]}function x(i,s){return function(i,s,o){let u=0,l=i.length>>o;for(;l!==u;){const h=u+(l-u>>1),g=i[h<<o];if(s===g)return h<<o;g>s?l=h:u=h+1}return~(l<<o)}(i,s,1)}const os={},Qa="__NG_DI_FLAG__",bi="ngTempTokenPath",xs=/\n/gm,Vf="__source",Vd=V({provide:String,useValue:V});let Ja;function aa(i){const s=Ja;return Ja=i,s}function Uf(i,s=Se.Default){if(void 0===Ja)throw new Error("inject() must be called from an injection context");return null===Ja?$t(i,void 0,s):Ja.get(i,s&Se.Optional?null:void 0,s)}function qn(i,s=Se.Default){return(Zt||Uf)(Y(i),s)}function Po(i){const s=[];for(let o=0;o<i.length;o++){const u=Y(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let l,h=Se.Default;for(let g=0;g<u.length;g++){const _=u[g],b=D0(_);"number"==typeof b?-1===b?l=_.token:h|=b:l=_}s.push(qn(l,h))}else s.push(qn(u))}return s}function Wu(i,s){return i[Qa]=s,i.prototype[Qa]=s,i}function D0(i){return i[Qa]}function or(i,s,o,u){const l=i[bi];throw s[Vf]&&l.unshift(s[Vf]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let l=Q(s);if(Array.isArray(s))l=s.map(Q).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let _=s[g];h.push(g+":"+("string"==typeof _?JSON.stringify(_):Q(_)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${i.replace(xs,"\n  ")}`}("\n"+i.message,l,o,u),i.ngTokenPath=l,i[bi]=null,i}const ua=Wu(to("Inject",i=>({token:i})),-1),so=Wu(to("Optional"),8),oo=Wu(to("SkipSelf"),4);let eu;function Fo(i){var s;return(null===(s=function(){if(void 0===eu&&(eu=null,j.trustedTypes))try{eu=j.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return eu}())||void 0===s?void 0:s.createHTML(i))||i}class tu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class By extends tu{getTypeName(){return"HTML"}}class jf extends tu{getTypeName(){return"Style"}}class jy extends tu{getTypeName(){return"Script"}}class Jg extends tu{getTypeName(){return"URL"}}class qf extends tu{getTypeName(){return"ResourceURL"}}function Os(i){return i instanceof tu?i.changingThisBreaksApplicationSecurity:i}function wi(i,s){const o=nu(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function nu(i){return i instanceof tu&&i.getTypeName()||null}function Xg(i){return new By(i)}function em(i){return new jf(i)}function qy(i){return new jy(i)}function Qu(i){return new Jg(i)}function Hd(i){return new qf(i)}class Ju{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Fo(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class nm{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Fo(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Fo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let l=o.length-1;0<l;l--){const g=o.item(l).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const rm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$f=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xu(i){return(i=String(i)).match(rm)||i.match($f)?i:"unsafe:"+i}function Ps(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function El(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const im=Ps("area,br,col,hr,img,wbr"),$y=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=Ps("rp,rt"),S=El(im,El($y,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),El(v,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),El(v,$y)),R=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),K=Ps("srcset"),ke=El(R,K,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),at=Ps("script,style,template");class Wt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!S.hasOwnProperty(o))return this.sanitizedSomething=!0,!at.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),g=h.name,_=g.toLowerCase();if(!ke.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=h.value;R[_]&&(b=Xu(b)),K[_]&&(i=b,b=(i=String(i)).split(",").map(s=>Xu(s.trim())).join(", ")),this.buf.push(" ",g,'="',Lo(b),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();S.hasOwnProperty(o)&&!im.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Lo(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const pn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vr=/([^\#-~ |!])/g;function Lo(i){return i.replace(/&/g,"&amp;").replace(pn,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Vr,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let la;function Cl(i,s){let o=null;try{la=la||function(i){const s=new nm(i);return function(){try{return!!(new window.DOMParser).parseFromString(Fo(""),"text/html")}catch(i){return!1}}()?new Ju(s):s}(i);let u=s?String(s):"";o=la.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=la.getInertBodyElement(u)}while(u!==h);return Fo((new Wt).sanitizeChildren(zd(o)||o))}finally{if(o){const u=zd(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function zd(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function as(i){const s=function(){const i=Ae();return i&&i[12]}();return s?s.sanitize(Dn.URL,i)||"":wi(i,"URL")?Os(i):Xu(Ve(i))}const cm="__ngContext__";function An(i,s){i[cm]=s}function lm(i){const s=function(i){return i[cm]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function fm(i){return i.ngOriginalError}function Ky(i,...s){i.error(...s)}class Xd{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),l=(i=s)&&i.ngErrorLogger||Ky;var i;l(this._console,"ERROR",s),o&&l(this._console,"ORIGINAL ERROR",o),u&&l(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(fm(s)):null}_findOriginalError(s){let o=s&&fm(s);for(;o&&fm(o);)o=fm(o);return o||null}}const U0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function da(i){return i instanceof Function?i():i}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();function Qy(i,s){return undefined(i,s)}function th(i){const s=i[3];return cn(s)?s[3]:s}function _m(i){return j0(i[13])}function ev(i){return j0(i[4])}function j0(i){for(;null!==i&&!cn(i);)i=i[4];return i}function nh(i,s,o,u,l){if(null!=u){let h,g=!1;cn(u)?h=u:ws(u)&&(g=!0,u=u[0]);const _=vt(u);0===i&&null!==o?null==l?bm(s,o,_):fa(s,o,_,l||null,!0):1===i&&null!==o?fa(s,o,_,l||null,!0):2===i?function(i,s,o){const u=wm(i,s);u&&function(i,s,o,u){Mn(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,_,g):3===i&&s.destroyNode(_),null!=h&&function(i,s,o,u,l){const h=o[7];h!==vt(o)&&nh(s,i,u,h,l);for(let _=10;_<o.length;_++){const b=o[_];Qf(b[1],b,i,s,u,h)}}(s,i,h,o,l)}}function nv(i,s,o){return Mn(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function $0(i,s){const o=i[9],u=o.indexOf(s),l=s[3];1024&s[2]&&(s[2]&=-1025,Xo(l,-1)),o.splice(u,1)}function iv(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const l=u[17];null!==l&&l!==i&&$0(l,u),s>0&&(i[o-1][4]=u[4]);const h=No(i,10+s);!function(i,s){Qf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const g=h[19];null!==g&&g.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function H0(i,s){if(!(256&s[2])){const o=s[11];Mn(o)&&o.destroyNode&&Qf(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return vm(i[1],i);for(;s;){let o=null;if(ws(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)ws(s)&&vm(s[1],s),s=s[3];null===s&&(s=i),ws(s)&&vm(s[1],s),o=s&&s[4]}s=o}}(s)}}function vm(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const l=s[o[u]];if(!(l instanceof Ba)){const h=o[u+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const _=l[h[g]],b=h[g+1];try{b.call(_)}finally{}}else try{h.call(l)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const g=o[h+1],_="function"==typeof g?g(s):vt(s[g]),b=u[l=o[h+2]],T=o[h+3];"boolean"==typeof T?_.removeEventListener(o[h],b,T):T>=0?u[l=T]():u[l=-T].unsubscribe(),h+=2}else{const g=u[l=o[h+1]];o[h].call(g)}if(null!==u){for(let h=l+1;h<u.length;h++)u[h]();s[7]=null}}(i,s),1===s[1].type&&Mn(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&cn(s[3])){o!==s[3]&&$0(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function Ti(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const l=i.data[u.directiveStart].encapsulation;if(l===nn.None||l===nn.Emulated)return null}return Gr(u,o)}(i,s.parent,o)}function fa(i,s,o,u,l){Mn(i)?i.insertBefore(s,o,u,l):s.insertBefore(o,u,l)}function bm(i,s,o){Mn(i)?i.appendChild(s,o):s.appendChild(o)}function tc(i,s,o,u,l){null!==u?fa(i,s,o,u,l):bm(i,s,o)}function wm(i,s){return Mn(i)?i.parentNode(s):s.parentNode}let sv=function(i,s,o){return 40&i.type?Gr(i,o):null};function Yf(i,s,o,u){const l=Ti(i,u,s),h=s[11],_=function(i,s,o){return sv(i,s,o)}(u.parent||s[6],u,s);if(null!=l)if(Array.isArray(o))for(let b=0;b<o.length;b++)tc(h,l,o[b],_,!1);else tc(h,l,o,_,!1)}function sh(i,s){if(null!==s){const o=s.type;if(3&o)return Gr(s,i);if(4&o)return iu(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return sh(i,u);{const l=i[s.index];return cn(l)?iu(-1,l):vt(l)}}if(32&o)return Qy(s,i)()||vt(i[s.index]);{const u=vA(i,s);return null!==u?Array.isArray(u)?u[0]:sh(th(i[16]),u):sh(i,s.next)}}return null}function vA(i,s){return null!==s?i[16][6].projection[s.projection]:null}function iu(i,s){const o=10+i+1;if(o<s.length){const u=s[o],l=u[1].firstChild;if(null!==l)return sh(u,l)}return s[7]}function cv(i,s,o,u,l,h,g){for(;null!=o;){const _=u[o.index],b=o.type;if(g&&0===s&&(_&&An(vt(_),u),o.flags|=4),64!=(64&o.flags))if(8&b)cv(i,s,o.child,u,l,h,!1),nh(s,i,l,_,h);else if(32&b){const T=Qy(o,u);let D;for(;D=T();)nh(s,i,l,D,h);nh(s,i,l,_,h)}else 16&b?lv(i,s,u,o,l,h):nh(s,i,l,_,h);o=g?o.projectionNext:o.next}}function Qf(i,s,o,u,l,h){cv(o,u,i.firstChild,s,l,h,!1)}function lv(i,s,o,u,l,h){const g=o[16],b=g[6].projection[u.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)nh(s,i,l,b[T],h);else cv(i,s,b,g[3],l,h,!0)}function z0(i,s,o){Mn(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function Cm(i,s,o){Mn(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function K0(i,s,o){let u=i.length;for(;;){const l=i.indexOf(s,o);if(-1===l)return l;if(0===l||i.charCodeAt(l-1)<=32){const h=s.length;if(l+h===u||i.charCodeAt(l+h)<=32)return l}o=l+1}}const Y0="ng-template";function dv(i,s,o){let u=0;for(;u<i.length;){let l=i[u++];if(o&&"class"===l){if(l=i[u],-1!==K0(l.toLowerCase(),s,0))return!0}else if(1===l){for(;u<i.length&&"string"==typeof(l=i[u++]);)if(l.toLowerCase()===s)return!0;return!1}}return!1}function Q0(i){return 4===i.type&&i.value!==Y0}function CA(i,s,o){return s===(4!==i.type||o?i.value:Y0)}function J0(i,s,o){let u=4;const l=i.attrs||[],h=function(i){for(let s=0;s<i.length;s++)if(Do(i[s]))return s;return i.length}(l);let g=!1;for(let _=0;_<s.length;_++){const b=s[_];if("number"!=typeof b){if(!g)if(4&u){if(u=2|1&u,""!==b&&!CA(i,b,o)||""===b&&1===s.length){if(Vo(u))return!1;g=!0}}else{const T=8&u?b:s[++_];if(8&u&&null!==i.attrs){if(!dv(i.attrs,T,o)){if(Vo(u))return!1;g=!0}continue}const N=gR(8&u?"class":b,l,Q0(i),o);if(-1===N){if(Vo(u))return!1;g=!0;continue}if(""!==T){let P;P=N>h?"":l[N+1].toLowerCase();const B=8&u?P:null;if(B&&-1!==K0(B,T,0)||2&u&&T!==P){if(Vo(u))return!1;g=!0}}}}else{if(!g&&!Vo(u)&&!Vo(b))return!1;if(g&&Vo(b))continue;g=!1,u=b|1&u}}return Vo(u)||g}function Vo(i){return 0==(1&i)}function gR(i,s,o,u){if(null===s)return-1;let l=0;if(u||!o){let h=!1;for(;l<s.length;){const g=s[l];if(g===i)return l;if(3===g||6===g)h=!0;else{if(1===g||2===g){let _=s[++l];for(;"string"==typeof _;)_=s[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=h?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function X0(i,s,o=!1){for(let u=0;u<s.length;u++)if(J0(i,s[u],o))return!0;return!1}function eE(i,s){return i?":not("+s.trim()+")":s}function Jf(i){let s=i[0],o=1,u=2,l="",h=!1;for(;o<i.length;){let g=i[o];if("string"==typeof g)if(2&u){const _=i[++o];l+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?l+="."+g:4&u&&(l+=" "+g);else""!==l&&!Vo(g)&&(s+=eE(h,l),l=""),u=g,h=h||!Vo(u);o++}return""!==l&&(s+=eE(h,l)),s}const At={};function tE(i){hv(Ot(),Ae(),Tr()+i,Ys())}function hv(i,s,o,u){if(!u)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&ia(s,h,o)}else{const h=i.preOrderHooks;null!==h&&ul(s,h,0,o)}Ui(o)}function Tm(i,s){return i<<17|s<<2}function ao(i){return i>>17&32767}function ii(i){return 2|i}function pa(i){return(131068&i)>>2}function ah(i,s){return-131069&i|s<<2}function rE(i){return 1|i}function uE(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const l=o[u],h=o[u+1];if(-1!==h){const g=i.data[h];Ed(l),g.contentQueries(2,s[h],h)}}}function sc(i,s,o,u,l,h,g,_,b,T){const D=s.blueprint.slice();return D[0]=l,D[2]=140|u,Su(D),D[3]=D[15]=i,D[8]=o,D[10]=g||i&&i[10],D[11]=_||i&&i[11],D[12]=b||i&&i[12]||null,D[9]=T||i&&i[9]||null,D[6]=h,D[16]=2==s.type?i[16]:D,D}function Tl(i,s,o,u,l){let h=i.data[s];if(null===h)h=function(i,s,o,u,l){const h=nl(),g=Co(),b=i.data[s]=function(i,s,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,o,s,u,l);return null===i.firstChild&&(i.firstChild=b),null!==h&&(g?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(i,s,o,u,l),ut.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const g=function(){const i=ut.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return ts(h,!0),h}function uh(i,s,o,u){if(0===o)return-1;const l=s.length;for(let h=0;h<o;h++)s.push(u),i.blueprint.push(u),i.data.push(null);return l}function np(i,s,o){To(s);try{const u=i.viewQuery;null!==u&&op(1,u,o);const l=i.template;null!==l&&Nm(i,s,l,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&uE(i,s),i.staticViewQueries&&op(2,i.viewQuery,o);const h=i.components;null!==h&&function(i,s){for(let o=0;o<s.length;o++)xR(i,s[o])}(s,h)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Id()}}function ch(i,s,o,u){const l=s[2];if(256==(256&l))return;To(s);const h=Ys();try{Su(s),function(i){ut.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Nm(i,s,o,2,u);const g=3==(3&l);if(!h)if(g){const T=i.preOrderCheckHooks;null!==T&&ia(s,T,null)}else{const T=i.preOrderHooks;null!==T&&ul(s,T,0,null),Ds(s,0)}if(function(i){for(let s=_m(i);null!==s;s=ev(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const l=o[u],h=l[3];0==(1024&l[2])&&Xo(h,1),l[2]|=1024}}}(s),function(i){for(let s=_m(i);null!==s;s=ev(s))for(let o=10;o<s.length;o++){const u=s[o],l=u[1];wo(u)&&ch(l,u,l.template,u[8])}}(s),null!==i.contentQueries&&uE(i,s),!h)if(g){const T=i.contentCheckHooks;null!==T&&ia(s,T)}else{const T=i.contentHooks;null!==T&&ul(s,T,1),Ds(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ui(~l);else{const h=l,g=o[++u],_=o[++u];Ua(g,h),_(2,s[h])}}}finally{Ui(-1)}}(i,s);const _=i.components;null!==_&&function(i,s){for(let o=0;o<s.length;o++)EE(i,s[o])}(s,_);const b=i.viewQuery;if(null!==b&&op(2,b,u),!h)if(g){const T=i.viewCheckHooks;null!==T&&ia(s,T)}else{const T=i.viewHooks;null!==T&&ul(s,T,2),Ds(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Xo(s[3],-1))}finally{Id()}}function lE(i,s,o,u){const l=s[10],h=!Ys(),g=Jo(s);try{h&&!g&&l.begin&&l.begin(),g&&np(i,s,u),ch(i,s,o,u)}finally{h&&!g&&l.end&&l.end()}}function Nm(i,s,o,u,l){const h=Tr(),g=2&u;try{Ui(-1),g&&s.length>20&&hv(i,s,20,Ys()),o(u,l)}finally{Ui(h)}}function rp(i,s,o){!Fa()||(function(i,s,o,u){const l=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||sa(o,s),An(u,s);const g=o.initialInputs;for(let _=l;_<h;_++){const b=i.data[_],T=ti(b);T&&vE(s,o,b);const D=Wa(s,i,_,o);An(D,s),null!==g&&UA(0,_-l,D,b,0,g),T&&(Fr(o.index,s)[8]=D)}}(i,s,o,Gr(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,l=o.directiveEnd,g=o.index,_=ut.lFrame.currentDirectiveIndex;try{Ui(g);for(let b=u;b<l;b++){const T=i.data[b],D=s[b];na(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&mE(T,D)}}finally{Ui(-1),na(_)}}(i,s,o))}function Om(i,s,o=Gr){const u=s.localNames;if(null!==u){let l=s.index+1;for(let h=0;h<u.length;h+=2){const g=u[h+1],_=-1===g?o(s,i):i[g];i[l++]=_}}}function lh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Pm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Pm(i,s,o,u,l,h,g,_,b,T){const D=20+u,N=D+l,P=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:At);return o}(D,N),B="function"==typeof T?T():T;return P[1]={type:i,blueprint:P,template:o,queries:null,viewQuery:_,declTNode:s,data:P.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:B,incompleteFirstPass:!1}}function wv(i,s,o,u){const l=Um(s);null===o?l.push(u):(l.push(o),i.firstCreatePass&&qA(i).push(u,l.length-1))}function Fm(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const l=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,l):o[u]=[s,l]}return o}function ks(i,s,o,u,l,h,g,_){const b=Gr(s,o);let D,T=s.inputs;!_&&null!=T&&(D=T[u])?(AE(i,o,D,u,l),Qo(s)&&function(i,s){const o=Fr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),l=null!=g?g(l,s.value||"",u):l,Mn(h)?h.setProperty(b,u,l):Js(u)||(b.setProperty?b.setProperty(u,l):b[u]=l))}function dh(i,s,o,u){let l=!1;if(Fa()){const h=function(i,s,o){const u=i.directiveRegistry;let l=null;if(u)for(let h=0;h<u.length;h++){const g=u[h];X0(o,g.selectors,!1)&&(l||(l=[]),Qn(sa(o,s),i,g.type),ti(g)?(_E(i,o),l.unshift(g)):l.push(g))}return l}(i,s,o),g=null===u?null:{"":-1};if(null!==h){l=!0,yE(o,i.data.length,h.length);for(let D=0;D<h.length;D++){const N=h[D];N.providersResolver&&N.providersResolver(N)}let _=!1,b=!1,T=uh(i,s,h.length,null);for(let D=0;D<h.length;D++){const N=h[D];o.mergedAttrs=Ao(o.mergedAttrs,N.hostAttrs),ip(i,o,s,T,N),VA(T,N,g),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const P=N.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),_=!0),!b&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),b=!0),T++}!function(i,s){const u=s.directiveEnd,l=i.data,h=s.attrs,g=[];let _=null,b=null;for(let T=s.directiveStart;T<u;T++){const D=l[T],N=D.inputs,P=null===h||Q0(s)?null:ZA(N,h);g.push(P),_=Fm(N,T,_),b=Fm(D.outputs,T,b)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=_,s.outputs=b}(i,o)}g&&function(i,s,o){if(s){const u=i.localNames=[];for(let l=0;l<s.length;l+=2){const h=o[s[l+1]];if(null==h)throw new pe("301",`Export of name '${s[l+1]}' not found!`);u.push(s[l],h)}}}(o,u,g)}return o.mergedAttrs=Ao(o.mergedAttrs,o.attrs),l}function gE(i,s,o,u,l,h){const g=h.hostBindings;if(g){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(_)!=b&&_.push(b),_.push(u,l,g)}}function mE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function _E(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function VA(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;ti(s)&&(o[""]=i)}}function yE(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function ip(i,s,o,u,l){i.data[u]=l;const h=l.factory||(l.factory=_i(l.type)),g=new Ba(h,ti(l),null);i.blueprint[u]=g,o[u]=g,gE(i,s,0,u,uh(i,o,l.hostVars,At),l)}function vE(i,s,o){const u=Gr(s,i),l=lh(o),h=i[10],g=Iv(i,sc(i,l,null,o.onPush?64:16,u,s,h,h.createRenderer(u,o),null,null));i[s.index]=g}function Zo(i,s,o,u,l,h){const g=Gr(i,s);!function(i,s,o,u,l,h,g){if(null==h)Mn(i)?i.removeAttribute(s,l,o):s.removeAttribute(l);else{const _=null==g?Ve(h):g(h,u||"",l);Mn(i)?i.setAttribute(s,l,_,o):o?s.setAttributeNS(o,l,_):s.setAttribute(l,_)}}(s[11],g,h,i.value,o,u,l)}function UA(i,s,o,u,l,h){const g=h[s];if(null!==g){const _=u.setInput;for(let b=0;b<g.length;){const T=g[b++],D=g[b++],N=g[b++];null!==_?u.setInput(o,N,T,D):o[D]=N}}}function ZA(i,s){let o=null,u=0;for(;u<s.length;){const l=s[u];if(0!==l)if(5!==l){if("number"==typeof l)break;i.hasOwnProperty(l)&&(null===o&&(o=[]),o.push(l,i[l],s[u+1])),u+=2}else u+=2;else u+=4}return o}function Tv(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function EE(i,s){const o=Fr(s,i);if(wo(o)){const u=o[1];80&o[2]?ch(u,o,u.template,o[8]):o[5]>0&&Vm(o)}}function Vm(i){for(let u=_m(i);null!==u;u=ev(u))for(let l=10;l<u.length;l++){const h=u[l];if(1024&h[2]){const g=h[1];ch(g,h,g.template,h[8])}else h[5]>0&&Vm(h)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Fr(o[u],i);wo(l)&&l[5]>0&&Vm(l)}}function xR(i,s){const o=Fr(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),np(u,o,o[8])}function Iv(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function CE(i){for(;i;){i[2]|=64;const s=th(i);if(Cf(i)&&!s)return i;i=s}return null}function Av(i,s,o){const u=s[10];u.begin&&u.begin();try{ch(i,s,i.template,o)}catch(l){throw $A(s,l),l}finally{u.end&&u.end()}}function Sv(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=lm(o),l=u[1];lE(l,u,l.template,o)}}(i[8])}function op(i,s,o){Ed(0),s(i,o)}const RR=(()=>Promise.resolve(null))();function Um(i){return i[7]||(i[7]=[])}function qA(i){return i.cleanup||(i.cleanup=[])}function $A(i,s){const o=i[9],u=o?o.get(Xd,null):null;u&&u.handleError(s)}function AE(i,s,o,u,l){for(let h=0;h<o.length;){const g=o[h++],_=o[h++],b=s[g],T=i.data[g];null!==T.setInput?T.setInput(b,l,u,_):b[_]=l}}function su(i,s,o){const u=Au(s,i);!function(i,s,o){Mn(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Rv(i,s,o){let u=o?i.styles:null,l=o?i.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?h=_:1==h?l=le(l,_):2==h&&(u=le(u,_+": "+s[++g]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=l:i.classesWithoutHost=l}const ap=new On("INJECTOR",-1);class GA{get(s,o=os){if(o===os){const u=new Error(`NullInjectorError: No provider for ${Q(s)}!`);throw u.name="NullInjectorError",u}return o}}const Zm=new On("Set Injector scope."),Bm={},NR={};let Mv;function Nv(){return void 0===Mv&&(Mv=new GA),Mv}function Ov(i,s=null,o=null,u){return new xE(i,o,s||Nv(),u)}class xE{constructor(s,o,u,l=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Bi(o,_=>this.processProvider(_,s,o)),Bi([s],_=>this.processInjectorType(_,[],h)),this.records.set(ap,up(void 0,this));const g=this.records.get(Zm);this.scope=null!=g?g.value:null,this.source=l||("object"==typeof s?null:Q(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=os,u=Se.Default){this.assertNotDestroyed();const l=aa(this),h=tn(void 0);try{if(!(u&Se.SkipSelf)){let _=this.records.get(s);if(void 0===_){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof On)&&Re(s);_=b&&this.injectableDefInScope(b)?up(jm(s),Bm):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(u&Se.Self?Nv():this.parent).get(s,o=u&Se.Optional&&o===os?null:o)}catch(g){if("NullInjectorError"===g.name){if((g[bi]=g[bi]||[]).unshift(Q(s)),l)throw g;return or(g,s,"R3InjectorError",this.source)}throw g}finally{tn(h),aa(l)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,l)=>s.push(Q(l))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=Y(s)))return!1;let l=Tn(s);const h=null==l&&s.ngModule||void 0,g=void 0===h?s:h,_=-1!==u.indexOf(g);if(void 0!==h&&(l=Tn(h)),null==l)return!1;if(null!=l.imports&&!_){let D;u.push(g);try{Bi(l.imports,N=>{this.processInjectorType(N,o,u)&&(void 0===D&&(D=[]),D.push(N))})}finally{}if(void 0!==D)for(let N=0;N<D.length;N++){const{ngModule:P,providers:B}=D[N];Bi(B,z=>this.processProvider(z,P,B||je))}}this.injectorDefTypes.add(g);const b=_i(g)||(()=>new g);this.records.set(g,up(b,Bm));const T=l.providers;if(null!=T&&!_){const D=s;Bi(T,N=>this.processProvider(N,D,T))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,u){let l=hh(s=Y(s))?s:Y(s&&s.provide);const h=oc(i=s)?up(void 0,i.useValue):up(qm(i),Bm);var i;if(hh(s)||!0!==s.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=up(void 0,Bm,!0),g.factory=()=>Po(g.multi),this.records.set(l,g)),l=s,g.multi.push(s)}this.records.set(l,h)}hydrate(s,o){return o.value===Bm&&(o.value=NR,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Y(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function jm(i){const s=Re(i),o=null!==s?s.factory:_i(i);if(null!==o)return o;if(i instanceof On)throw new Error(`Token ${Q(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Q(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[Vt]||i[qr]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function qm(i,s,o){let u;if(hh(i)){const l=Y(i);return _i(l)||jm(l)}if(oc(i))u=()=>Y(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Po(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>qn(Y(i.useExisting));else{const l=Y(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return _i(l)||jm(l);u=()=>new l(...Po(i.deps))}return u}function up(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function oc(i){return null!==i&&"object"==typeof i&&Vd in i}function hh(i){return"function"==typeof i}const PE=function(i,s,o){return function(i,s=null,o=null,u){const l=Ov(i,s,o,u);return l._resolveInjectorDefTypes(),l}({name:o},s,i,o)};let sn=(()=>{class i{static create(o,u){return Array.isArray(o)?PE(o,u,""):PE(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=os,i.NULL=new GA,i.\u0275prov=hn({token:i,providedIn:"any",factory:()=>qn(ap)}),i.__NG_ELEMENT_ID__=-1,i})();function Bv(i,s){Za(lm(i)[1],Nn())}function jv(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let l;if(ti(i))l=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");l=s.\u0275dir}if(l){if(o){u.push(l);const g=i;g.inputs=dp(i.inputs),g.declaredInputs=dp(i.declaredInputs),g.outputs=dp(i.outputs);const _=l.hostBindings;_&&rS(i,_);const b=l.viewQuery,T=l.contentQueries;if(b&&JE(i,b),T&&nS(i,T),ee(i.inputs,l.inputs),ee(i.declaredInputs,l.declaredInputs),ee(i.outputs,l.outputs),ti(l)&&l.data.animation){const D=i.data;D.animation=(D.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let g=0;g<h.length;g++){const _=h[g];_&&_.ngInherit&&_(i),_===jv&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const l=i[u];l.hostVars=s+=l.hostVars,l.hostAttrs=Ao(l.hostAttrs,o=Ao(o,l.hostAttrs))}}(u)}function dp(i){return i===$e?{}:i===je?[]:i}function JE(i,s){const o=i.viewQuery;i.viewQuery=o?(u,l)=>{s(u,l),o(u,l)}:s}function nS(i,s){const o=i.contentQueries;i.contentQueries=o?(u,l,h)=>{s(u,l,h),o(u,l,h)}:s}function rS(i,s){const o=i.hostBindings;i.hostBindings=o?(u,l)=>{s(u,l),o(u,l)}:s}let ac=null;function ph(){if(!ac){const i=j.Symbol;if(i&&i.iterator)ac=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ac=u)}}}return ac}function uc(i){return!!fp(i)&&(Array.isArray(i)||!(i instanceof Map)&&ph()in i)}function fp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function co(i,s,o){return i[s]=o}function ai(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function gp(i,s,o,u){const l=Ae();return ai(l,ns(),s)&&(Ot(),Zo(vn(),l,i,s,o,u)),gp}function mh(i,s,o,u){return ai(i,ns(),o)?s+Ve(o)+u:At}function oC(i,s,o,u,l,h,g,_){const b=Ae(),T=Ot(),D=i+20,N=T.firstCreatePass?function(i,s,o,u,l,h,g,_,b){const T=s.consts,D=Tl(s,i,4,g||null,Ts(T,_));dh(s,o,D,Ts(T,b)),Za(s,D);const N=D.tViews=Pm(2,D,u,l,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,D),N.queries=s.queries.embeddedTView(D)),D}(D,T,b,s,o,u,l,h,g):T.data[D];ts(N,!1);const P=b[11].createComment("");Yf(T,b,P,N),An(P,b),Iv(b,b[D]=Tv(P,b,P,N)),Oa(N)&&rp(T,b,N),null!=g&&Om(b,N,_)}function Al(i,s=Se.Default){const o=Ae();return null===o?qn(i,s):Kt(Nn(),o,Y(i),s)}function o_(i,s,o){const u=Ae();return ai(u,ns(),s)&&ks(Ot(),vn(),u,i,s,u[11],o,!1),o_}function ib(i,s,o,u,l){const g=l?"class":"style";AE(i,o,s.inputs[g],g,u)}function Bo(i,s,o,u){const l=Ae(),h=Ot(),g=20+i,_=l[11],b=l[g]=nv(_,s,ut.lFrame.currentNamespace),T=h.firstCreatePass?function(i,s,o,u,l,h,g){const _=s.consts,T=Tl(s,i,2,l,Ts(_,h));return dh(s,o,T,Ts(_,g)),null!==T.attrs&&Rv(T,T.attrs,!1),null!==T.mergedAttrs&&Rv(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(g,h,l,0,s,o,u):h.data[g];ts(T,!0);const D=T.mergedAttrs;null!==D&&ja(_,b,D);const N=T.classes;null!==N&&Cm(_,b,N);const P=T.styles;null!==P&&z0(_,b,P),64!=(64&T.flags)&&Yf(h,l,b,T),0===ut.lFrame.elementDepthCount&&An(b,l),ut.lFrame.elementDepthCount++,Oa(T)&&(rp(h,l,T),function(i,s,o){if(wu(s)){const l=s.directiveEnd;for(let h=s.directiveStart;h<l;h++){const g=i.data[h];g.contentQueries&&g.contentQueries(1,o[h],h)}}}(h,T,l)),null!==u&&Om(l,T)}function wh(){let i=Nn();Co()?ut.lFrame.isParent=!1:(i=i.parent,ts(i,!1));const s=i;ut.lFrame.elementDepthCount--;const o=Ot();o.firstCreatePass&&(Za(o,i),wu(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&ib(o,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&ib(o,s,Ae(),s.stylesWithoutHost,!1)}function Tp(i,s,o,u){Bo(i,s,o,u),wh()}function vC(){return Ae()}function Rl(i){return!!i&&"function"==typeof i.then}function Eh(i){return!!i&&"function"==typeof i.subscribe}const ob=Eh;function a_(i,s,o,u){const l=Ae(),h=Ot(),g=Nn();return function(i,s,o,u,l,h,g,_){const b=Oa(u),D=i.firstCreatePass&&qA(i),N=s[8],P=Um(s);let B=!0;if(3&u.type||_){const te=Gr(u,s),Oe=_?_(te):te,we=P.length,rt=_?mt=>_(vt(mt[u.index])):u.index;if(Mn(o)){let mt=null;if(!_&&b&&(mt=function(i,s,o,u){const l=i.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const g=l[h];if(g===o&&l[h+1]===u){const _=s[7],b=l[h+2];return _.length>b?_[b]:null}"string"==typeof g&&(h+=2)}return null}(i,s,l,u.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=h,mt.__ngLastListenerFn__=h,B=!1;else{h=Ml(u,s,N,h,!1);const qt=o.listen(Oe,l,h);P.push(h,qt),D&&D.push(l,rt,we,we+1)}}else h=Ml(u,s,N,h,!0),Oe.addEventListener(l,h,g),P.push(h),D&&D.push(l,rt,we,g)}else h=Ml(u,s,N,h,!1);const z=u.outputs;let ce;if(B&&null!==z&&(ce=z[l])){const te=ce.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const En=s[ce[Oe]][ce[Oe+1]].subscribe(h),ms=P.length;P.push(h,En),D&&D.push(l,u.index,ms,-(ms+1))}}}(h,l,l[11],g,i,s,!!o,u),a_}function EC(i,s,o,u){try{return!1!==o(u)}catch(l){return $A(i,l),!1}}function Ml(i,s,o,u,l){return function h(g){if(g===Function)return u;const _=2&i.flags?Fr(i.index,s):s;0==(32&s[2])&&CE(_);let b=EC(s,0,u,g),T=h.__ngNextListenerFn__;for(;T;)b=EC(s,0,T,g)&&b,T=T.__ngNextListenerFn__;return l&&!1===b&&(g.preventDefault(),g.returnValue=!1),b}}function uu(i=1){return function(i){return(ut.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ut.lFrame.contextLView))[8]}(i)}function pc(i,s,o){return ab(i,"",s,"",o),pc}function ab(i,s,o,u,l){const h=Ae(),g=mh(h,s,o,u);return g!==At&&ks(Ot(),vn(),h,i,g,h[11],l,!1),ab}function SC(i,s,o,u,l){const h=i[o+1],g=null===s;let _=u?ao(h):pa(h),b=!1;for(;0!==_&&(!1===b||g);){const D=i[_+1];pS(i[_],s)&&(b=!0,i[_+1]=u?rE(D):ii(D)),_=u?ao(D):pa(D)}b&&(i[o+1]=u?ii(h):rE(h))}function pS(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&x(i,s)>=0}function d_(i,s){return function(i,s,o,u){const l=Ae(),h=Ot(),g=function(i){const s=ut.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);h.firstUpdatePass&&function(i,s,o,u){const l=i.data;if(null===l[o+1]){const h=l[Tr()],g=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(h,u)&&null===s&&!g&&(s=!1),s=function(i,s,o,u){const l=function(i){const s=ut.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=u?s.residualClasses:s.residualStyles;if(null===l)0===(u?s.classBindings:s.styleBindings)&&(o=Ap(o=Dh(null,i,s,o,u),s.attrs,u),h=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==l)if(o=Dh(l,i,s,o,u),null===h){let b=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==pa(u))return i[ao(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=Dh(null,i,s,b[1],u),b=Ap(b,s.attrs,u),function(i,s,o,u){i[ao(o?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else h=function(i,s,o){let u;const l=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<l;h++)u=Ap(u,i[h].hostAttrs,o);return Ap(u,s.attrs,o)}(i,s,u)}return void 0!==h&&(u?s.residualClasses=h:s.residualStyles=h),o}(l,h,s,u),function(i,s,o,u,l,h){let g=h?s.classBindings:s.styleBindings,_=ao(g),b=pa(g);i[u]=o;let D,T=!1;if(Array.isArray(o)){const N=o;D=N[1],(null===D||x(N,D)>0)&&(T=!0)}else D=o;if(l)if(0!==b){const P=ao(i[_+1]);i[u+1]=Tm(P,_),0!==P&&(i[P+1]=ah(i[P+1],u)),i[_+1]=function(i,s){return 131071&i|s<<17}(i[_+1],u)}else i[u+1]=Tm(_,0),0!==_&&(i[_+1]=ah(i[_+1],u)),_=u;else i[u+1]=Tm(b,0),0===_?_=u:i[b+1]=ah(i[b+1],u),b=u;T&&(i[u+1]=ii(i[u+1])),SC(i,D,u,!0),SC(i,D,u,!1),function(i,s,o,u,l){const h=l?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&x(h,s)>=0&&(o[u+1]=rE(o[u+1]))}(s,D,i,u,h),g=Tm(_,b),h?s.classBindings=g:s.styleBindings=g}(l,h,s,o,g,u)}}(h,i,g,u),s!==At&&ai(l,g,s)&&function(i,s,o,u,l,h,g,_){if(!(3&s.type))return;const b=i.data,T=b[_+1];Sh(function(i){return 1==(1&i)}(T)?f_(b,s,o,l,pa(T),g):void 0)||(Sh(h)||function(i){return 2==(2&i)}(T)&&(h=f_(b,null,o,l,_,g)),function(i,s,o,u,l){const h=Mn(i);if(s)l?h?i.addClass(o,u):o.classList.add(u):h?i.removeClass(o,u):o.classList.remove(u);else{let g=-1===u.indexOf("-")?void 0:ha.DashCase;if(null==l)h?i.removeStyle(o,u,g):o.style.removeProperty(u);else{const _="string"==typeof l&&l.endsWith("!important");_&&(l=l.slice(0,-10),g|=ha.Important),h?i.setStyle(o,u,l,g):o.style.setProperty(u,l,_?"important":"")}}}(u,g,Au(Tr(),o),l,h))}(h,h.data[Tr()],l,l[11],i,l[g+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Q(Os(i)))),i}(s,o),u,g)}(i,s,null,!0),d_}function Dh(i,s,o,u,l){let h=null;const g=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<g&&(h=s[_],u=Ap(u,h.hostAttrs,l),h!==i);)_++;return null!==i&&(o.directiveStylingLast=_),u}function Ap(i,s,o){const u=o?1:2;let l=-1;if(null!==s)for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?l=g:l===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),C(i,g,!!o||s[++h]))}return void 0===i?null:i}function f_(i,s,o,u,l,h){const g=null===s;let _;for(;l>0;){const b=i[l],T=Array.isArray(b),D=T?b[1]:b,N=null===D;let P=o[l+1];P===At&&(P=N?je:void 0);let B=N?I(P,u):D===u?P:void 0;if(T&&!Sh(B)&&(B=I(b,u)),Sh(B)&&(_=B,g))return _;const z=i[l+1];l=g?ao(z):pa(z)}if(null!==s){let b=h?s.residualClasses:s.residualStyles;null!=b&&(_=I(b,u))}return _}function Sh(i){return void 0!==i}function bb(i,s=""){const o=Ae(),u=Ot(),l=i+20,h=u.firstCreatePass?Tl(u,l,1,s,null):u.data[l],g=o[l]=function(i,s){return Mn(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Yf(u,o,g,h),ts(h,!1)}function p_(i){return _a("",i,""),p_}function _a(i,s,o){const u=Ae(),l=mh(u,i,s,o);return l!==At&&su(u,Tr(),l),_a}function __(i,s,o){const u=Ae();return ai(u,ns(),s)&&ks(Ot(),vn(),u,i,s,u[11],o,!0),__}const Nl=void 0;var DS=["en",[["a","p"],["AM","PM"],Nl],[["AM","PM"],Nl,Nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nl,"{1} 'at' {0}",Nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Nh={};function xb(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=jC(s);if(o)return o;const u=s.split("-")[0];if(o=jC(u),o)return o;if("en"===u)return DS;throw new Error(`Missing locale data for the locale "${i}".`)}function ls(i){return xb(i)[Le.PluralCase]}function jC(i){return i in Nh||(Nh[i]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[i]),Nh[i]}var Le=(()=>((Le=Le||{})[Le.LocaleId=0]="LocaleId",Le[Le.DayPeriodsFormat=1]="DayPeriodsFormat",Le[Le.DayPeriodsStandalone=2]="DayPeriodsStandalone",Le[Le.DaysFormat=3]="DaysFormat",Le[Le.DaysStandalone=4]="DaysStandalone",Le[Le.MonthsFormat=5]="MonthsFormat",Le[Le.MonthsStandalone=6]="MonthsStandalone",Le[Le.Eras=7]="Eras",Le[Le.FirstDayOfWeek=8]="FirstDayOfWeek",Le[Le.WeekendRange=9]="WeekendRange",Le[Le.DateFormat=10]="DateFormat",Le[Le.TimeFormat=11]="TimeFormat",Le[Le.DateTimeFormat=12]="DateTimeFormat",Le[Le.NumberSymbols=13]="NumberSymbols",Le[Le.NumberFormats=14]="NumberFormats",Le[Le.CurrencyCode=15]="CurrencyCode",Le[Le.CurrencySymbol=16]="CurrencySymbol",Le[Le.CurrencyName=17]="CurrencyName",Le[Le.Currencies=18]="Currencies",Le[Le.Directionality=19]="Directionality",Le[Le.PluralCase=20]="PluralCase",Le[Le.ExtraData=21]="ExtraData",Le))();const bt="en-US";let HC=bt;function Zr(i){dn(i,"Expected localeId to be defined"),"string"==typeof i&&(HC=i.toLowerCase().replace(/_/g,"-"))}function S_(i,s,o,u,l){if(i=Y(i),Array.isArray(i))for(let h=0;h<i.length;h++)S_(i[h],s,o,u,l);else{const h=Ot(),g=Ae();let _=hh(i)?i:Y(i.provide),b=qm(i);const T=Nn(),D=1048575&T.providerIndexes,N=T.directiveStart,P=T.providerIndexes>>20;if(hh(i)||!i.multi){const B=new Ba(b,l,Al),z=x_(_,s,l?D:D+P,N);-1===z?(Qn(sa(T,g),h,_),yc(h,i,s.length),s.push(_),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(B),g.push(B)):(o[z]=B,g[z]=B)}else{const B=x_(_,s,D+P,N),z=x_(_,s,D,D+P),ce=B>=0&&o[B],te=z>=0&&o[z];if(l&&!te||!l&&!ce){Qn(sa(T,g),h,_);const Oe=function(i,s,o,u,l){const h=new Ba(i,o,Al);return h.multi=[],h.index=s,h.componentProviders=0,Vb(h,l,u&&!o),h}(l?ZS:Zp,o.length,l,u,b);!l&&te&&(o[z].providerFactory=Oe),yc(h,i,s.length,0),s.push(_),T.directiveStart++,T.directiveEnd++,l&&(T.providerIndexes+=1048576),o.push(Oe),g.push(Oe)}else yc(h,i,B>-1?B:z,Vb(o[l?z:B],b,!l&&u));!l&&u&&te&&o[z].componentProviders++}}}function yc(i,s,o,u){const l=hh(s);if(l||function(i){return!!i.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const _=i.destroyHooks||(i.destroyHooks=[]);if(!l&&s.multi){const b=_.indexOf(o);-1===b?_.push(o,[u,g]):_[b+1].push(u,g)}else _.push(o,g)}}}function Vb(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function x_(i,s,o,u){for(let l=o;l<u;l++)if(s[l]===i)return l;return-1}function Zp(i,s,o,u){return Ub(this.multi,[])}function ZS(i,s,o,u){const l=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Wa(o,o[1],this.providerFactory.index,u);h=_.slice(0,g),Ub(l,h);for(let b=g;b<_.length;b++)h.push(_[b])}else h=[],Ub(l,h);return h}function Ub(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Bp(i,s=[]){return o=>{o.providersResolver=(u,l)=>function(i,s,o){const u=Ot();if(u.firstCreatePass){const l=ti(i);S_(o,u.data,u.blueprint,l,!0),S_(s,u.data,u.blueprint,l,!1)}}(u,l?l(i):i,s)}}class uT{}const cT="ngComponent";class lT{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Q(i)}. Did you add it to @NgModule.entryComponents?`);return s[cT]=i,s}(s)}}let Ea=(()=>{class i{}return i.NULL=new lT,i})();function jp(...i){}function Ca(i,s){return new Rt(Gr(i,s))}const Nr=function(){return Ca(Nn(),Ae())};let Rt=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Nr,i})();function Bb(i){return i instanceof Rt?i.nativeElement:i}class cr{}let O_=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>hT(),i})();const hT=function(){const i=Ae(),o=Fr(Nn().index,i);return function(i){return i[11]}(ws(o)?o:i)};let jb=(()=>{class i{}return i.\u0275prov=hn({token:i,providedIn:"root",factory:()=>null}),i})();class P_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const qb=new P_("12.2.15");class $b{constructor(){}supports(s){return uc(s)}create(s){return new HS(s)}}const $S=(i,s)=>s;class HS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||$S}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const g=!u||o&&o.currentIndex<$p(u,l,h)?o:u,_=$p(g,l,h),b=g.currentIndex;if(g===u)l--,u=u._nextRemoved;else if(o=o._next,null==g.previousIndex)l++;else{h||(h=[]);const T=_-l,D=b-l;if(T!=D){for(let P=0;P<T;P++){const B=P<h.length?h[P]:h[P]=0,z=B+P;D<=z&&z<T&&(h[P]=B+1)}h[g.previousIndex]=D-T}}_!==b&&s(g,_,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!uc(s))throw new Error(`Error trying to diff '${Q(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l,h,g,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],g=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,h,g,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,g,_),u=!0),o=o._next}else l=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[ph()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,_=>{g=this._trackByFn(l,_),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,_,g,l)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,g,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,l){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,l)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,l)):s=this._addAfter(new k_(o,u),h,l),s}_verifyReinsertion(s,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?s=this._reinsertAfter(h,s._prev,l):s.currentIndex!=l&&(s.currentIndex=l,this._addToMoves(s,l)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const l=s._prevRemoved,h=s._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const l=null===o?this._itHead:o._next;return s._next=l,s._prev=o,null===l?this._itTail=s:l._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Bh),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bh),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class k_{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qp{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Bh{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new qp,this.map.set(o,u)),u.add(s)}get(s,o){const l=this.map.get(s);return l?l.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $p(i,s,o){const u=i.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+s+l}class Hb{constructor(){}supports(s){return s instanceof Map||fp(s)}create(){return new fT}}class fT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||fp(s)))throw new Error(`Error trying to diff '${Q(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const l=this._records.get(s);this._maybeAddToChanges(l,o);const h=l._prev,g=l._next;return h&&(h._next=g),g&&(g._prev=h),l._next=null,l._prev=null,l}const u=new pT(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class pT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gT(){return new Hp([new $b])}let Hp=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||gT()),deps:[[i,new oo,new so]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=hn({token:i,providedIn:"root",factory:gT}),i})();function _T(){return new F_([new Hb])}let F_=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||_T()),deps:[[i,new oo,new so]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=hn({token:i,providedIn:"root",factory:_T}),i})();function L_(i,s,o,u,l=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&u.push(vt(h)),cn(h))for(let _=10;_<h.length;_++){const b=h[_],T=b[1].firstChild;null!==T&&L_(b[1],b,T,u)}const g=o.type;if(8&g)L_(i,s,o.child,u);else if(32&g){const _=Qy(o,s);let b;for(;b=_();)u.push(b)}else if(16&g){const _=vA(s,o);if(Array.isArray(_))u.push(..._);else{const b=th(s[16]);L_(b[1],b,_,u,!0)}}o=l?o.projectionNext:o.next}return u}class du{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return L_(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(cn(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(iv(s,u),No(o,u))}this._attachedToViewContainer=!1}H0(this._lView[1],this._lView)}onDestroy(s){wv(this._lView[1],this._lView,null,s)}markForCheck(){CE(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Av(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){Vi(!0);try{Av(i,s,o)}finally{Vi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Qf(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class yT extends du{constructor(s){super(s),this._view=s}detectChanges(){Sv(this._view)}checkNoChanges(){!function(i){Vi(!0);try{Sv(i)}finally{Vi(!1)}}(this._view)}get context(){return null}}const Gb=function(i){return function(i,s,o){if(Qo(i)&&!o){const u=Fr(i.index,s);return new du(u,u)}return 47&i.type?new du(s[16],s):null}(Nn(),Ae(),16==(16&i))};let vT=(()=>{class i{}return i.__NG_ELEMENT_ID__=Gb,i})();const Wb=[new Hb],Wp=new Hp([new $b]),wT=new F_(Wb),zS=function(){return Kp(Nn(),Ae())};let zp=(()=>{class i{}return i.__NG_ELEMENT_ID__=zS,i})();const V_=zp,CT=class extends V_{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=sc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),np(o,u,s),new du(u)}};function Kp(i,s){return 4&i.type?new CT(s,i,Ca(i,s)):null}class vc{}class zb{}const TT=function(){return IT(Nn(),Ae())};let Yp=(()=>{class i{}return i.__NG_ELEMENT_ID__=TT,i})();const XS=Yp,Ul=class extends XS{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ss(this._hostTNode,this._hostLView);if(Uu(s)){const o=So(s,this._hostLView),u=qa(s);return new vi(o[1].data[u+8],o)}return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Zl(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const l=s.createEmbeddedView(o||{});return this.insert(l,u),l}createComponent(s,o,u,l,h){const g=u||this.parentInjector;if(!h&&null==s.ngModule&&g){const b=g.get(vc,null);b&&(h=b)}const _=s.create(g,l,void 0,h);return this.insert(_.hostView,o),_}insert(s,o){const u=s._lView,l=u[1];if(cn(u[3])){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const N=u[3],P=new Ul(N,N[6],N[3]);P.detach(P.indexOf(s))}}const h=this._adjustIndex(o),g=this._lContainer;!function(i,s,o,u){const l=10+u,h=o.length;u>0&&(o[l-1][4]=s),u<h-10?(s[4]=o[l],ss(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const g=s[17];null!==g&&o!==g&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(g,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(l,u,g,h);const _=iu(h,g),b=u[11],T=wm(b,g[7]);return null!==T&&function(i,s,o,u,l,h){u[0]=l,u[6]=s,Qf(i,u,o,1,l,h)}(l,g[6],b,u,T,_),s.attachToViewContainerRef(),ss(Kb(g),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Zl(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=iv(this._lContainer,o);u&&(No(Kb(this._lContainer),o),H0(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=iv(this._lContainer,o);return u&&null!=No(Kb(this._lContainer),o)?new du(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Zl(i){return i[8]}function Kb(i){return i[8]||(i[8]=[])}function IT(i,s){let o;const u=s[i.index];if(cn(u))o=u;else{let l;if(8&i.type)l=vt(u);else{const h=s[11];l=h.createComment("");const g=Gr(i,s);fa(h,wm(h,g),l,function(i,s){return Mn(i)?i.nextSibling(s):s.nextSibling}(h,g),!1)}s[i.index]=o=Tv(u,s,l,i),Iv(s,o)}return new Ul(o,i,s)}const xc={};class Br extends Ea{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=zn(s);return new QT(o,this.ngModule)}}function YT(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const g1=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>U0});class QT extends uT{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(Jf).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return YT(this.componentDef.inputs)}get outputs(){return YT(this.componentDef.outputs)}create(s,o,u,l){const h=(l=l||this.ngModule)?function(i,s){return{get:(o,u,l)=>{const h=i.get(o,xc,l);return h!==xc||u===xc?h:s.get(o,u,l)}}}(s,l.injector):s,g=h.get(cr,Du),_=h.get(jb,null),b=g.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",D=u?function(i,s,o){if(Mn(i))return i.selectRootElement(s,o===nn.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(b,u,this.componentDef.encapsulation):nv(g.createRenderer(null,this.componentDef),T,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),N=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||U0,clean:RR,playerHandler:s||null,flags:0}}(),B=Pm(0,null,null,1,0,null,null,null,null,null),z=sc(null,B,P,N,null,null,g,b,_,h);let ce,te;To(z);try{const Oe=function(i,s,o,u,l,h){const g=o[1];o[20]=i;const b=Tl(g,20,2,"#host",null),T=b.mergedAttrs=s.hostAttrs;null!==T&&(Rv(b,T,!0),null!==i&&(ja(l,i,T),null!==b.classes&&Cm(l,i,b.classes),null!==b.styles&&z0(l,i,b.styles)));const D=u.createRenderer(i,s),N=sc(o,lh(s),null,s.onPush?64:16,o[20],b,u,D,h||null,null);return g.firstCreatePass&&(Qn(sa(b,o),g,s.type),_E(g,b),yE(b,o.length,1)),Iv(o,N),o[20]=N}(D,this.componentDef,z,g,b);if(D)if(u)ja(b,D,["ng-version",qb.full]);else{const{attrs:we,classes:rt}=function(i){const s=[],o=[];let u=1,l=2;for(;u<i.length;){let h=i[u];if("string"==typeof h)2===l?""!==h&&s.push(h,i[++u]):8===l&&o.push(h);else{if(!Vo(l))break;l=h}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);we&&ja(b,D,we),rt&&rt.length>0&&Cm(b,D,rt.join(" "))}if(te=Yn(B,20),void 0!==o){const we=te.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const mt=o[rt];we.push(null!=mt?Array.from(mt):null)}}ce=function(i,s,o,u,l){const h=o[1],g=function(i,s,o){const u=Nn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ip(i,u,s,uh(i,s,1,null),o));const l=Wa(s,i,u.directiveStart,u);An(l,s);const h=Gr(u,s);return h&&An(h,s),l}(h,o,s);if(u.components.push(g),i[8]=g,l&&l.forEach(b=>b(g,s)),s.contentQueries){const b=Nn();s.contentQueries(1,g,b.directiveStart)}const _=Nn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ui(_.index),gE(o[1],_,0,_.directiveStart,_.directiveEnd,s),mE(s,g)),g}(Oe,this.componentDef,z,P,[Bv]),np(B,z,null)}finally{Id()}return new XT(this.componentType,ce,Ca(te,z),z,te)}}class XT extends class{}{constructor(s,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new yT(l),this.componentType=s}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Rc=new Map;class lw extends vc{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Br(this);const u=Er(s),l=s[Nt]||null;l&&Zr(l),this._bootstrapComponents=da(u.bootstrap),this._r3Injector=Ov(s,o,[{provide:vc,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],Q(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=sn.THROW_IF_NOT_FOUND,u=Se.Default){return s===sn||s===vc||s===ap?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class J_ extends zb{constructor(s){super(),this.moduleType=s,null!==Er(s)&&function(i){const s=new Set;!function o(u){const l=Er(u,!0),h=l.id;null!==h&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Q(s)} vs ${Q(s.name)}`)}(h,Rc.get(h),u),Rc.set(h,u));const g=da(l.imports);for(const _ of g)s.has(_)||(s.add(_),o(_))}(i)}(s)}create(s){return new lw(this.moduleType,s)}}function nI(i,s,o){const u=Wr()+i,l=Ae();return l[u]===At?co(l,u,o?s.call(o):s()):function(i,s){return i[s]}(l,u)}function dw(i,s,o,u){return function(i,s,o,u,l,h){const g=s+o;return ai(i,g,l)?co(i,g+1,h?u.call(h,l):u(l)):function(i,s){const o=i[s];return o===At?void 0:o}(i,g+1)}(Ae(),Wr(),i,s,o,u)}function ty(i){return s=>{setTimeout(i,void 0,s)}}const Da=class extends c.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var l,h,g;let _=s,b=o||(()=>null),T=u;if(s&&"object"==typeof s){const N=s;_=null===(l=N.next)||void 0===l?void 0:l.bind(N),b=null===(h=N.error)||void 0===h?void 0:h.bind(N),T=null===(g=N.complete)||void 0===g?void 0:g.bind(N)}this.__isAsync&&(b=ty(b),_&&(_=ty(_)),T&&(T=ty(T)));const D=super.subscribe({next:_,error:b,complete:T});return s instanceof Z.w&&s.add(D),D}};function mw(){return this._results[ph()]()}class ny{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ph(),u=ny.prototype;u[o]||(u[o]=mw)}get changes(){return this._changes||(this._changes=new Da)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const l=ri(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let l=i[u],h=s[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Jh{constructor(s){this.queryList=s,this.matches=null}clone(){return new Jh(this.queryList)}setDirty(){this.queryList.setDirty()}}class ug{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const g=o.getByIndex(h);l.push(this.queries[g.indexInDeclarationView].clone())}return new ug(l)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Xl(s,o).matches&&this.queries[o].setDirty()}}class yw{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class Nc{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(s,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Nc(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class cg{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new cg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(s,o,E1(o,h)),this.matchTNodeWithReadOption(s,o,Xs(o,s,h,!1,!1))}else u===zp?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Xs(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Rt||l===Yp||l===zp&&4&o.type)this.addMatch(o.index,-2);else{const h=Xs(o,s,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function E1(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function dI(i,s,o,u){return-1===o?function(i,s){return 11&i.type?Ca(i,s):4&i.type?Kp(i,s):null}(s,i):-2===o?function(i,s,o){return o===Rt?Ca(s,i):o===zp?Kp(s,i):o===Yp?IT(s,i):void 0}(i,s,u):Wa(i,i[1],o,s)}function fI(i,s,o,u){const l=s[19].queries[u];if(null===l.matches){const h=i.data,g=o.matches,_=[];for(let b=0;b<g.length;b+=2){const T=g[b];_.push(T<0?null:dI(s,h[T],g[b+1],o.metadata.read))}l.matches=_}return l.matches}function lg(i,s,o,u){const l=i.queries.getByIndex(o),h=l.matches;if(null!==h){const g=fI(i,s,l,o);for(let _=0;_<h.length;_+=2){const b=h[_];if(b>0)u.push(g[_/2]);else{const T=h[_+1],D=s[-b];for(let N=10;N<D.length;N++){const P=D[N];P[17]===P[3]&&lg(P[1],P,T,u)}if(null!==D[9]){const N=D[9];for(let P=0;P<N.length;P++){const B=N[P];lg(B[1],B,T,u)}}}}}return u}function pI(i){const s=Ae(),o=Ot(),u=ku();Ed(u+1);const l=Xl(o,u);if(i.dirty&&Jo(s)===(2==(2&l.metadata.flags))){if(null===l.matches)i.reset([]);else{const h=l.crossesNgTemplate?lg(o,s,u,[]):fI(o,s,l,u);i.reset(h,Bb),i.notifyOnChanges()}return!0}return!1}function gI(i,s,o,u){const l=Ot();if(l.firstCreatePass){const h=Nn();(function(i,s,o){null===i.queries&&(i.queries=new Nc),i.queries.track(new cg(s,o))})(l,new yw(s,o,u),h.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(l,i),2==(2&o)&&(l.staticContentQueries=!0)}!function(i,s,o){const u=new ny(4==(4&o));wv(i,s,u,u.destroy),null===s[19]&&(s[19]=new ug),s[19].queries.push(new Jh(u))}(l,Ae(),o)}function ry(){return i=Ae(),s=ku(),i[19].queries[s].queryList;var i,s}function Xl(i,s){return i.queries.getByIndex(s)}const ef=new On("Application Initializer");let tf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=jp,this.reject=jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Rl(h))o.push(h);else if(ob(h)){const g=new Promise((_,b)=>{h.subscribe({complete:_,error:b})});o.push(g)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(qn(ef,8))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();const ZI=new On("AppId"),L1={provide:ZI,useFactory:function(){return`${py()}${py()}${py()}`},deps:[]};function py(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gy=new On("Platform Initializer"),Lw=new On("Platform ID"),my=new On("appBootstrapListener");let _y=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();const td=new On("LocaleId"),yy=new On("DefaultCurrencyCode");class Z1{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const vy=function(i){return new J_(i)},B1=vy,q1=function(i){return Promise.resolve(vy(i))},qI=function(i){const s=vy(i),u=da(Er(i).declarations).reduce((l,h)=>{const g=zn(h);return g&&l.push(new QT(g)),l},[]);return new Z1(s,u)},$1=qI,Uw=function(i){return Promise.resolve(qI(i))};let rf=(()=>{class i{constructor(){this.compileModuleSync=B1,this.compileModuleAsync=q1,this.compileModuleAndAllComponentsSync=$1,this.compileModuleAndAllComponentsAsync=Uw}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();const by=(()=>Promise.resolve(0))();function zt(i){"undefined"==typeof Zone?by.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ps{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let i=j.requestAnimationFrame,s=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(j,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,po(i),i.isCheckStableRunning=!0,Zw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),po(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,g,_)=>{try{return Bw(i),o.invokeTask(l,h,g,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),WI(i)}},onInvoke:(o,u,l,h,g,_,b)=>{try{return Bw(i),o.invoke(l,h,g,_,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),WI(i)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,po(i),Zw(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,l){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+l,s,yg,jp,jp);try{return h.runTask(g,o,u)}finally{h.cancelTask(g)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const yg={};function Zw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function po(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Bw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function WI(i){i._nesting--,Zw(i)}class wy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,l){return s.apply(o,u)}}let jw=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),zt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zt(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,l){return[]}}return i.\u0275fac=function(o){return new(o||i)(qn(ps))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})(),qw=(()=>{class i{constructor(){this._applications=new Map,Hw.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Hw.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();class G1{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function $w(i){Hw=i}let Hw=new G1,zI=!0,$n=!1;function KI(){return $n=!0,zI}function nM(){if($n)throw new Error("Cannot enable prod mode after platform setup.");zI=!1}let mn;const QI=new On("AllowMultipleToken");class J1{constructor(s,o){this.name=s,this.token=o}}function Aa(i,s,o=[]){const u=`Platform: ${s}`,l=new On(u);return(h=[])=>{let g=kc();if(!g||g.injector.get(QI,!1))if(i)i(o.concat(h).concat({provide:l,useValue:!0}));else{const _=o.concat(h).concat({provide:l,useValue:!0},{provide:Zm,useValue:"platform"});!function(i){if(mn&&!mn.destroyed&&!mn.injector.get(QI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mn=i.get(vg);const s=i.get(gy,null);s&&s.forEach(o=>o())}(sn.create({providers:_,name:u}))}return function(i){const s=kc();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(l)}}function kc(){return mn&&!mn.destroyed?mn:null}let vg=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const _=function(i,s){let o;return o="noop"===i?new wy:("zone.js"===i?void 0:i)||new ps({enableLongStackTrace:KI(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:ps,useValue:_}];return _.run(()=>{const T=sn.create({providers:b,parent:this.injector,name:o.moduleType.name}),D=o.create(T),N=D.injector.get(Xd,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const P=_.onError.subscribe({next:B=>{N.handleError(B)}});D.onDestroy(()=>{af(this._modules,D),P.unsubscribe()})}),function(i,s,o){try{const u=o();return Rl(u)?u.catch(l=>{throw s.runOutsideAngular(()=>i.handleError(l)),l}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(N,_,()=>{const P=D.injector.get(tf);return P.runInitializers(),P.donePromise.then(()=>(Zr(D.injector.get(td,bt)||bt),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const l=Gw({},u);return function(i,s,o){const u=new J_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(sf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(qn(sn))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();function Gw(i,s){return Array.isArray(s)?s.reduce(Gw,i):Object.assign(Object.assign({},i),s)}let sf=(()=>{class i{constructor(o,u,l,h,g){this._zone=o,this._injector=u,this._exceptionHandler=l,this._componentFactoryResolver=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new O.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),b=new O.y(T=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),zt(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{D.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ae.T)(_,b.pipe(i=>(0,ue.x)()(function(i,s){return function(u){let l;l="function"==typeof i?i:function(){return i};const h=Object.create(u,oe.N);return h.source=u,h.subjectFactory=l,h}}(ne)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=o instanceof uT?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(l.componentType);const h=function(i){return i.isBoundToModule}(l)?void 0:this._injector.get(vc),_=l.create(sn.NULL,[],u||l.selector,h),b=_.location.nativeElement,T=_.injector.get(jw,null),D=T&&_.injector.get(qw);return T&&D&&D.registerApplication(b,T),_.onDestroy(()=>{this.detachView(_.hostView),af(this.components,_),D&&D.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;af(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(my,[]).concat(this._bootstrapListeners).forEach(l=>l(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(qn(ps),qn(sn),qn(Xd),qn(Ea),qn(tf))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();function af(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class Ey{}class Ww{}const zw={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let rD=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||zw}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,l]=o.split("#");return void 0===l&&(l="default"),F(8255)(u).then(h=>h[l]).then(h=>Fc(h,u,l)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,l]=o.split("#"),h="NgFactory";return void 0===l&&(l="default",h=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(g=>g[l+h]).then(g=>Fc(g,u,l))}}return i.\u0275fac=function(o){return new(o||i)(qn(rf),qn(Ww,8))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();function Fc(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const sx=function(i){return null},ux=Aa(null,"core",[{provide:Lw,useValue:"unknown"},{provide:vg,deps:[sn]},{provide:qw,deps:[]},{provide:_y,deps:[]}]),Ay=[{provide:sf,useClass:sf,deps:[ps,sn,Xd,Ea,tf]},{provide:g1,deps:[ps],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:tf,useClass:tf,deps:[[new so,ef]]},{provide:rf,useClass:rf,deps:[]},L1,{provide:Hp,useFactory:function(){return Wp},deps:[]},{provide:F_,useFactory:function(){return wT},deps:[]},{provide:td,useFactory:function(i){return Zr(i=i||"undefined"!=typeof $localize&&$localize.locale||bt),i},deps:[[new ua(td),new so,new oo]]},{provide:yy,useValue:"USD"}];let fD=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(qn(sf))},i.\u0275mod=Un({type:i}),i.\u0275inj=jr({providers:Ay}),i})()},8939:(et,De,F)=>{"use strict";F.d(De,{hO:()=>Q,xv:()=>ne,Dh:()=>ue,GT:()=>se,cc:()=>le,on:()=>L,pX:()=>oe});var c=F(3018),Z=F(7841),O=F(6436);et=F.hmd(et);const ae=["ngOnDestroy"],oe=(ve,me,pe,Ne={})=>new Proxy(ve,{get:(ze,Ve)=>pe.runOutsideAngular(()=>{var Pt;if(ve[Ve])return(null===(Pt=null==Ne?void 0:Ne.spy)||void 0===Pt?void 0:Pt.get)&&Ne.spy.get(Ve,ve[Ve]),ve[Ve];if(ae.indexOf(Ve)>-1)return()=>{};const ft=me.toPromise().then(_n=>{const wt=_n&&_n[Ve];return"function"==typeof wt?wt.bind(_n):wt&&wt.then?wt.then(It=>pe.run(()=>It)):pe.run(()=>wt)});return new Proxy(()=>{},{get:(_n,wt)=>ft[wt],apply:(_n,wt,It)=>ft.then(dt=>{var ot;const kt=dt&&dt(...It);return(null===(ot=null==Ne?void 0:Ne.spy)||void 0===ot?void 0:ot.apply)&&Ne.spy.apply(Ve,It,kt),kt})})})}),se=(ve,me)=>{me.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Ne=>{Object.defineProperty(ve.prototype,Ne,Object.getOwnPropertyDescriptor(pe.prototype||pe,Ne))})})};class ye{constructor(me){return me}}const ue=new c.OlP("angularfire2.app.options"),ne=new c.OlP("angularfire2.app.name");function L(ve,me,pe){const ze="object"==typeof pe&&pe||{};ze.name=ze.name||"string"==typeof pe&&pe||"[DEFAULT]";const Pt=Z.Z.apps.filter(ft=>ft&&ft.name===ze.name)[0]||me.runOutsideAngular(()=>Z.Z.initializeApp(ve,ze));try{JSON.stringify(ve)!==JSON.stringify(Pt.options)&&V("error",`${Pt.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ft){}return new ye(Pt)}const V=(ve,...me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ve](...me)},ee={provide:ye,useFactory:L,deps:[ue,c.R0b,[new c.FiY,ne]]};let Q=(()=>{class ve{constructor(pe){Z.Z.registerVersion("angularfire",O.q4.full,"core"),Z.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Z.Z.registerVersion("angular",c.q4F.full,pe.toString())}static initializeApp(pe,Ne){return{ngModule:ve,providers:[{provide:ue,useValue:pe},{provide:ne,useValue:Ne}]}}}return ve.\u0275fac=function(pe){return new(pe||ve)(c.LFG(c.Lbi))},ve.\u0275mod=c.oAB({type:ve}),ve.\u0275inj=c.cJS({providers:[ee]}),ve})();function le(ve,me,pe,Ne,ze){const[,Ve,Pt]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===ve)||[];if(Ve)return function(ve,me){try{return ve.toString()===me.toString()}catch(pe){return ve===me}}(ze,Pt)||(Y("error",`${me} was already initialized on the ${pe} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:ze,was:Pt})),Ve;{const ft=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ve,ft,ze]),ft}}const ge=!!et.hot,Y=(ve,...me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[ve](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6436:(et,De,F)=>{"use strict";F.d(De,{q4:()=>Wg,iC:()=>Kr,fc:()=>Fd,HU:()=>Bi,vb:()=>Ka,JM:()=>Hu});var c=F(3018),Z=F(2329),O=F(8239),ae=F(8026),oe=F(3854),se=F(3910),ye=F(5422),ue=F(6676);const ne="@firebase/installations",L="0.5.5",ee=`w:${L}`,Q="FIS_v2",me=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Ne({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function ze(C){return{token:C.token,requestStatus:2,expiresIn:dt(C.expiresIn),creationTime:Date.now()}}function Ve(C,I){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(C,I){const U=(yield I.json()).error;return me.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ft({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function _n(C,{refreshToken:I}){const x=ft(C);return x.append("Authorization",function(C){return`${Q} ${C}`}(I)),x}function wt(C){return It.apply(this,arguments)}function It(){return(It=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function dt(C){return Number(C.replace("s","000"))}function kt(C,I){return Je.apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(C,{fid:I}){const x=Ne(C),de={method:"POST",headers:ft(C),body:JSON.stringify({fid:I,authVersion:Q,appId:C.appId,sdkVersion:ee})},xe=yield wt(()=>fetch(x,de));if(xe.ok){const Ke=yield xe.json();return{fid:Ke.fid||I,registrationStatus:2,refreshToken:Ke.refreshToken,authToken:ze(Ke.authToken)}}throw yield Ve("Create Installation",xe)})).apply(this,arguments)}function tr(C){return new Promise(I=>{setTimeout(I,C)})}const ys=/^[cdef][\w-]{21}$/;function lr(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return ys.test(x)?x:""}catch(C){return""}}function Wi(C){return`${C.appName}!${C.appId}`}const zi=new Map;function gi(C,I){const x=Wi(C);Sn(x,I),function(C,I){const x=(!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=C=>{Sn(C.data.key,C.data.fid)}),Xt);x&&x.postMessage({key:C,fid:I}),0===zi.size&&Xt&&(Xt.close(),Xt=null)}(x,I)}function Sn(C,I){const x=zi.get(C);if(x)for(const U of x)U(I)}let Xt=null;const fn="firebase-installations-store";let Hn=null;function mi(){return Hn||(Hn=(0,ue.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(fn)}})),Hn}function Tn(C,I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(C,I){const x=Wi(C),J=(yield mi()).transaction(fn,"readwrite"),de=J.objectStore(fn),xe=yield de.get(x);return yield de.put(I,x),yield J.complete,(!xe||xe.fid!==I.fid)&&gi(C,I.fid),I})).apply(this,arguments)}function Gn(C){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(C){const I=Wi(C),U=(yield mi()).transaction(fn,"readwrite");yield U.objectStore(fn).delete(I),yield U.complete})).apply(this,arguments)}function st(C,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,O.Z)(function*(C,I){const x=Wi(C),J=(yield mi()).transaction(fn,"readwrite"),de=J.objectStore(fn),xe=yield de.get(x),Ke=I(xe);return void 0===Ke?yield de.delete(x):yield de.put(Ke,x),yield J.complete,Ke&&(!xe||xe.fid!==Ke.fid)&&gi(C,Ke.fid),Ke})).apply(this,arguments)}function Zt(C){return on.apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(C){let I;const x=yield st(C,U=>{const J=tn(U),de=$t(C,J);return I=de.registrationPromise,de.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function tn(C){return nn(C||{fid:lr(),registrationStatus:0})}function $t(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(me.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,I){return Qe.apply(this,arguments)}(C,x)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:wr(C)}:{installationEntry:I}}function Qe(){return(Qe=(0,O.Z)(function*(C,I){try{return Tn(C,yield kt(C,I))}catch(x){throw pe(x)&&409===x.customData.serverCode?yield Gn(C):yield Tn(C,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function wr(C){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(C){let I=yield Yt(C);for(;1===I.registrationStatus;)yield tr(100),I=yield Yt(C);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield Zt(C);return U||x}return I})).apply(this,arguments)}function Yt(C){return st(C,I=>{if(!I)throw me.create("installation-not-found");return nn(I)})}function nn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function vs(C,I){return q.apply(this,arguments)}function q(){return(q=(0,O.Z)(function*({appConfig:C,platformLoggerProvider:I},x){const U=W(C,x),J=_n(C,x),de=I.getImmediate({optional:!0});de&&J.append("x-firebase-client",de.getPlatformInfoString());const Ke={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee}})},We=yield wt(()=>fetch(U,Ke));if(We.ok)return ze(yield We.json());throw yield Ve("Generate Auth Token",We)})).apply(this,arguments)}function W(C,{fid:I}){return`${Ne(C)}/${I}/authTokens:generate`}function j(C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(C,I=!1){let x;const U=yield st(C.appConfig,de=>{if(!Rn(de))throw me.create("not-registered");const xe=de.authToken;if(!I&&nr(xe))return de;if(1===xe.requestStatus)return x=re(C,I),de;{if(!navigator.onLine)throw me.create("app-offline");const Ke=ie(de);return x=Qt(C,Ke),Ke}});return x?yield x:U.authToken})).apply(this,arguments)}function re(C,I){return $e.apply(this,arguments)}function $e(){return($e=(0,O.Z)(function*(C,I){let x=yield je(C.appConfig);for(;1===x.authToken.requestStatus;)yield tr(100),x=yield je(C.appConfig);const U=x.authToken;return 0===U.requestStatus?j(C,I):U})).apply(this,arguments)}function je(C){return st(C,I=>{if(!Rn(I))throw me.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Qt(C,I){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(C,I){try{const x=yield vs(C,I),U=Object.assign(Object.assign({},I),{authToken:x});return yield Tn(C.appConfig,U),x}catch(x){if(!pe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Tn(C.appConfig,U)}else yield Gn(C.appConfig);throw x}})).apply(this,arguments)}function Rn(C){return void 0!==C&&2===C.registrationStatus}function nr(C){return 2===C.requestStatus&&!function(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function ie(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Ee(){return(Ee=(0,O.Z)(function*(C){const I=C,{installationEntry:x,registrationPromise:U}=yield Zt(I.appConfig);return U?U.catch(console.error):j(I).catch(console.error),x.fid})).apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(C,I=!1){const x=C;return yield Et(x.appConfig),(yield j(x,I)).token})).apply(this,arguments)}function Et(C){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(C){const{registrationPromise:I}=yield Zt(C);I&&(yield I)})).apply(this,arguments)}function Er(C){return me.create("missing-app-config-values",{valueName:C})}const hd="installations";(0,ae._registerComponent)(new se.wA(hd,C=>{const I=C.getProvider("app").getImmediate();return{app:I,appConfig:function(C){if(!C||!C.options)throw Er("App Configuration");if(!C.name)throw Er("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!C.options[x])throw Er(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I),platformLoggerProvider:(0,ae._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new se.wA("installations-internal",C=>{const I=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(I,hd).getImmediate();return{getId:()=>function(C){return Ee.apply(this,arguments)}(x),getToken:J=>function(C){return _t.apply(this,arguments)}(x,J)}},"PRIVATE")),(0,ae.registerVersion)(ne,L),(0,ae.registerVersion)(ne,L,"esm2017");const Hr="@firebase/remote-config",Kn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fd{constructor(I,x,U,J){this.client=I,this.storage=x,this.storageCache=U,this.logger=J}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,J=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(I.cacheMaxAgeMillis,U))return J;I.eTag=J&&J.eTag;const de=yield x.client.fetch(I),xe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&xe.push(x.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(xe),de})()}}function ws(C=navigator){return C.languages&&C.languages[0]||C.language}class cn{constructor(I,x,U,J,de,xe){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=U,this.projectId=J,this.apiKey=de,this.appId=xe}fetch(I){var x=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:x.appId,language_code:ws()},Ht={method:"POST",headers:Ke,body:JSON.stringify(We)},Gt=fetch(xe,Ht),Dr=new Promise((Oo,xs)=>{I.signal.addEventListener(()=>{const Dt=new Error("The operation was aborted.");Dt.name="AbortError",xs(Dt)})});let Ar;try{yield Promise.race([Gt,Dr]),Ar=yield Gt}catch(Oo){let xs="fetch-client-network";throw"AbortError"===Oo.name&&(xs="fetch-timeout"),Kn.create(xs,{originalErrorMessage:Oo.message})}let _r=Ar.status;const os=Ar.headers.get("ETag")||void 0;let Qa,bi;if(200===Ar.status){let Oo;try{Oo=yield Ar.json()}catch(xs){throw Kn.create("fetch-client-parse",{originalErrorMessage:xs.message})}Qa=Oo.entries,bi=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===bi?_r=500:"NO_CHANGE"===bi?_r=304:("NO_TEMPLATE"===bi||"EMPTY_CONFIG"===bi)&&(Qa={}),304!==_r&&200!==_r)throw Kn.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:os,config:Qa}})()}}class Oa{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:U}){var J=this;return(0,O.Z)(function*(){yield function(C,I){return new Promise((x,U)=>{const J=Math.max(I-Date.now(),0),de=setTimeout(x,J);C.addEventListener(()=>{clearTimeout(de),U(Kn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const de=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),de}catch(de){if(!function(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(de))throw de;const xe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(xe),J.attemptFetch(I,xe)}})()}}class pd{constructor(I,x,U,J,de){this.app=I,this._client=x,this._storageCache=U,this._storage=J,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Eu(C,I){const x=C.target.error||void 0;return Kn.create(I,{originalErrorMessage:x&&x.message})}const Es="app_namespace_store";class md{constructor(I,x,U,J=function(){return new Promise((C,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{I(Eu(U,"storage-open"))},x.onsuccess=U=>{C(U.target.result)},x.onupgradeneeded=U=>{const J=U.target.result;switch(U.oldVersion){case 0:J.createObjectStore(Es,{keyPath:"compositeKey"})}}}catch(x){I(Kn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((J,de)=>{const Ke=U.transaction([Es],"readonly").objectStore(Es),We=x.createCompositeKey(I);try{const Ht=Ke.get(We);Ht.onerror=Gt=>{de(Eu(Gt,"storage-get"))},Ht.onsuccess=Gt=>{const Dr=Gt.target.result;J(Dr?Dr.value:void 0)}}catch(Ht){de(Kn.create("storage-get",{originalErrorMessage:Ht&&Ht.message}))}})})()}set(I,x){var U=this;return(0,O.Z)(function*(){const J=yield U.openDbPromise;return new Promise((de,xe)=>{const We=J.transaction([Es],"readwrite").objectStore(Es),Ht=U.createCompositeKey(I);try{const Gt=We.put({compositeKey:Ht,value:x});Gt.onerror=Dr=>{xe(Eu(Dr,"storage-set"))},Gt.onsuccess=()=>{de()}}catch(Gt){xe(Kn.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(I){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((J,de)=>{const Ke=U.transaction([Es],"readwrite").objectStore(Es),We=x.createCompositeKey(I);try{const Ht=Ke.delete(We);Ht.onerror=Gt=>{de(Eu(Gt,"storage-delete"))},Ht.onsuccess=()=>{J()}}catch(Ht){de(Kn.create("storage-delete",{originalErrorMessage:Ht&&Ht.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Zg{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const x=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),de=yield x;de&&(I.lastFetchStatus=de);const xe=yield U;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Ke=yield J;Ke&&(I.activeConfig=Ke)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Tf(){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new se.wA("remote-config",function(I,{instanceIdentifier:x}){const U=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,oe.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:de,apiKey:xe,appId:Ke}=U.options;if(!de)throw Kn.create("registration-project-id");if(!xe)throw Kn.create("registration-api-key");if(!Ke)throw Kn.create("registration-app-id");const We=new md(Ke,U.name,x=x||"firebase"),Ht=new Zg(We),Gt=new ye.Yd(Hr);Gt.logLevel=ye.in.ERROR;const Dr=new cn(J,ae.SDK_VERSION,x,de,xe,Ke),Ar=new Oa(Dr,We),_r=new fd(Ar,We,Ht,Gt),os=new pd(U,_r,Ht,We,Gt);return function(C){const I=(0,oe.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(os),os},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Hr,"0.3.4"),(0,ae.registerVersion)(Hr,"0.3.4","esm2017");const Bg="/firebase-messaging-sw.js",yd="/firebase-cloud-messaging-push-scope",Kc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vo="google.c.a.c_id",Qi="google.c.a.c_l",vd="google.c.a.ts",If="google.c.a.e";var _i=(()=>{return(C=_i||(_i={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",_i;var C})();function yi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bd(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),J=new Uint8Array(U.length);for(let de=0;de<U.length;++de)J[de]=U.charCodeAt(de);return J}const bo="fcm_token_details_db",Yc="fcm_token_object_Store";function Df(C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(bo))return null;let I=null;return(yield(0,ue.openDb)(bo,5,function(){var U=(0,O.Z)(function*(J){var de;if(J.oldVersion<2||!J.objectStoreNames.contains(Yc))return;const xe=J.transaction.objectStore(Yc),Ke=yield xe.index("fcmSenderId").get(C);if(yield xe.clear(),Ke)if(2===J.oldVersion){const We=Ke;if(!We.auth||!We.p256dh||!We.endpoint)return;I={token:We.fcmToken,createTime:null!==(de=We.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:yi(We.vapidKey)}}}else if(3===J.oldVersion){const We=Ke;I={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:yi(We.auth),p256dh:yi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:yi(We.vapidKey)}}}else if(4===J.oldVersion){const We=Ke;I={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:yi(We.auth),p256dh:yi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:yi(We.vapidKey)}}}});return function(J){return U.apply(this,arguments)}}())).close(),yield(0,ue.deleteDb)(bo),yield(0,ue.deleteDb)("fcm_vapid_details_db"),yield(0,ue.deleteDb)("undefined"),Qc(I)?I:null})).apply(this,arguments)}function Qc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const fr="firebase-messaging-store";let Hs=null;function Jc(){return Hs||(Hs=(0,ue.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(fr)}})),Hs}function Gs(C){return kr.apply(this,arguments)}function kr(){return(kr=(0,O.Z)(function*(C){const I=Du(C),U=yield(yield Jc()).transaction(fr).objectStore(fr).get(I);if(U)return U;{const J=yield Df(C.appConfig.senderId);if(J)return yield Xi(C,J),J}})).apply(this,arguments)}function Xi(C,I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,O.Z)(function*(C,I){const x=Du(C),J=(yield Jc()).transaction(fr,"readwrite");return yield J.objectStore(fr).put(I,x),yield J.complete,I})).apply(this,arguments)}function Mn(C){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*(C){const I=Du(C),U=(yield Jc()).transaction(fr,"readwrite");yield U.objectStore(fr).delete(I),yield U.complete})).apply(this,arguments)}function Du({appConfig:C}){return C.appId}const vt=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xf(C,I){return ka.apply(this,arguments)}function ka(){return(ka=(0,O.Z)(function*(C,I){const x=yield Fr(C),U=wo(I),J={method:"POST",headers:x,body:JSON.stringify(U)};let de;try{de=yield(yield fetch(Ws(C.appConfig),J)).json()}catch(xe){throw vt.create("token-subscribe-failed",{errorInfo:xe})}if(de.error)throw vt.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw vt.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Au(C,I){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(C,I){const x=yield Fr(C),U=wo(I.subscriptionOptions),J={method:"PATCH",headers:x,body:JSON.stringify(U)};let de;try{de=yield(yield fetch(`${Ws(C.appConfig)}/${I.token}`,J)).json()}catch(xe){throw vt.create("token-update-failed",{errorInfo:xe})}if(de.error)throw vt.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw vt.create("token-update-no-token");return de.token})).apply(this,arguments)}function el(C,I){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,O.Z)(function*(C,I){const U={method:"DELETE",headers:yield Fr(C)};try{const de=yield(yield fetch(`${Ws(C.appConfig)}/${I}`,U)).json();if(de.error)throw vt.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(J){throw vt.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Ws({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fr(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*({appConfig:C,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function wo({p256dh:C,auth:I,endpoint:x,vapidKey:U}){const J={web:{endpoint:x,auth:I,p256dh:C}};return U!==Kc&&(J.web.applicationPubKey=U),J}const tl=6048e5;function Ts(C){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(C){const I=yield Fa(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:yi(I.getKey("auth")),p256dh:yi(I.getKey("p256dh"))},U=yield Gs(C.firebaseDependencies);if(U){if(xu(U.subscriptionOptions,x))return Date.now()>=U.createTime+tl?wd(C,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield el(C.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Eo(C.firebaseDependencies,x)}return Eo(C.firebaseDependencies,x)})).apply(this,arguments)}function Xo(C){return ut.apply(this,arguments)}function ut(){return(ut=(0,O.Z)(function*(C){const I=yield Gs(C.firebaseDependencies);I&&(yield el(C.firebaseDependencies,I.token),yield Mn(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function wd(C,I){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(C,I){try{const x=yield Au(C.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Xi(C.firebaseDependencies,U),x}catch(x){throw yield Xo(C),x}})).apply(this,arguments)}function Eo(C,I){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(C,I){const U={token:yield xf(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Xi(C,U),U.token})).apply(this,arguments)}function Fa(C,I){return zs.apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bd(I)})})).apply(this,arguments)}function xu(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Ae(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function(C,I){if(!I.notification)return;C.notification={};const x=I.notification.title;x&&(C.notification.title=x);const U=I.notification.body;U&&(C.notification.body=U);const J=I.notification.image;J&&(C.notification.image=J)}(I,C),function(C,I){!I.data||(C.data=I.data)}(I,C),function(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const x=I.fcmOptions.link;x&&(C.fcmOptions.link=x);const U=I.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(I,C),I}function nl(C){return"object"==typeof C&&!!C&&vo in C}function Ks(C,I){const x=[];for(let U=0;U<C.length;U++)x.push(C.charAt(U)),U<I.length&&x.push(I.charAt(U));return x.join("")}function Co(C){return vt.create("missing-app-config-values",{valueName:C})}Ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ta{constructor(I,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(C){if(!C||!C.options)throw Co("App Configuration Object");if(!C.name)throw Co("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const U of I)if(!x[U])throw Co(U);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Mu(C){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Bg,{scope:yd}),C.swRegistration.update().catch(()=>{})}catch(I){throw vt.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Ys(C,I){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield Mu(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Wr(C,I){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Kc)})).apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(C,I){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield Wr(C,null==I?void 0:I.vapidKey),yield Ys(C,null==I?void 0:I.serviceWorkerRegistration),Ts(C)})).apply(this,arguments)}function Is(C,I,x){return Va.apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(C,I,x){const U=rl(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[vo],message_name:x[Qi],message_time:x[vd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rl(C){switch(C){case _i.NOTIFICATION_CLICKED:return"notification_open";case _i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ou(){return(Ou=(0,O.Z)(function*(C,I){const x=I.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===_i.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ae(x)):C.onMessageHandler.next(Ae(x)));const U=x.data;nl(U)&&"1"===U[If]&&(yield Is(C,x.messageType,U))})).apply(this,arguments)}const na="@firebase/messaging";function Fu(){return To.apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new se.wA("messaging",C=>{const I=new ta(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,I){return Ou.apply(this,arguments)}(I,x)),I},"PUBLIC")),(0,ae._registerComponent)(new se.wA("messaging-internal",C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,I){return ns.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,ae.registerVersion)(na,"0.9.7"),(0,ae.registerVersion)(na,"0.9.7","esm2017");const Ui="analytics",vn="firebase_id",al="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vu="https://www.googletagmanager.com/gtag/js",pr=new ye.Yd("@firebase/analytics");function Dd(C){return Promise.all(C.map(I=>I.catch(x=>x)))}function Za(C,I){const x=document.createElement("script");x.src=`${Vu}?l=${C}&id=${I}`,x.async=!0,document.head.appendChild(x)}function ul(C,I,x,U,J,de){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(C,I,x,U,J,de){const xe=U[J];try{if(xe)yield I[xe];else{const We=(yield Dd(x)).find(Ht=>Ht.measurementId===J);We&&(yield I[We.appId])}}catch(Ke){pr.error(Ke)}C("config",J,de)})).apply(this,arguments)}function cl(C,I,x,U,J){return ll.apply(this,arguments)}function ll(){return(ll=(0,O.Z)(function*(C,I,x,U,J){try{let de=[];if(J&&J.send_to){let xe=J.send_to;Array.isArray(xe)||(xe=[xe]);const Ke=yield Dd(x);for(const We of xe){const Ht=Ke.find(Dr=>Dr.measurementId===We),Gt=Ht&&I[Ht.appId];if(!Gt){de=[];break}de.push(Gt)}}0===de.length&&(de=Object.values(I)),yield Promise.all(de),C("event",U,J||{})}catch(de){pr.error(de)}})).apply(this,arguments)}function qg(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Vu))return I;return null}const Lr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Hg=new class{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Uy(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ja(C){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*(C){var I;const{appId:x,apiKey:U}=C,J={method:"GET",headers:Uy(U)},de=al.replace("{app-id}",x),xe=yield fetch(de,J);if(200!==xe.status&&304!==xe.status){let Ke="";try{const We=yield xe.json();(null===(I=We.error)||void 0===I?void 0:I.message)&&(Ke=We.error.message)}catch(We){}throw Lr.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Ke})}return xe.json()})).apply(this,arguments)}function Js(C){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,O.Z)(function*(C,I=Hg,x){const{appId:U,apiKey:J,measurementId:de}=C.options;if(!U)throw Lr.create("no-app-id");if(!J){if(de)return{measurementId:de,appId:U};throw Lr.create("no-api-key")}const xe=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new So;return setTimeout((0,O.Z)(function*(){Ke.abort()}),void 0!==x?x:6e4),Ad({appId:U,apiKey:J,measurementId:de},xe,Ke,I)})).apply(this,arguments)}function Ad(C,I,x){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:x},U,J=Hg){const{appId:de,measurementId:xe}=C;try{yield qa(U,I)}catch(Ke){if(xe)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:de,measurementId:xe};throw Ke}try{const Ke=yield ja(C);return J.deleteThrottleMetadata(de),Ke}catch(Ke){if(!Of(Ke)){if(J.deleteThrottleMetadata(de),xe)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:de,measurementId:xe};throw Ke}const We=503===Number(Ke.customData.httpStatus)?(0,oe.$s)(x,J.intervalMillis,30):(0,oe.$s)(x,J.intervalMillis),Ht={throttleEndTimeMillis:Date.now()+We,backoffCount:x+1};return J.setThrottleMetadata(de,Ht),pr.debug(`Calling attemptFetch again in ${We} millis`),Ad(C,Ht,U,J)}})).apply(this,arguments)}function qa(C,I){return new Promise((x,U)=>{const J=Math.max(I-Date.now(),0),de=setTimeout(x,J);C.addEventListener(()=>{clearTimeout(de),U(Lr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Of(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class So{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Zu(){return $a.apply(this,arguments)}function $a(){return($a=(0,O.Z)(function*(){if(!(0,oe.hl)())return pr.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return pr.warn(Lr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(C,I,x,U,J,de,xe){var Ke;const We=Js(C);We.then(_r=>{x[_r.measurementId]=_r.appId,C.options.measurementId&&_r.measurementId!==C.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>pr.error(_r)),I.push(We);const Ht=Zu().then(_r=>{if(_r)return U.getId()}),[Gt,Dr]=yield Promise.all([We,Ht]);qg()||Za(de,Gt.measurementId),J("js",new Date);const Ar=null!==(Ke=null==xe?void 0:xe.config)&&void 0!==Ke?Ke:{};return Ar.origin="firebase",Ar.update=!0,null!=Dr&&(Ar[vn]=Dr),J("config",Gt.measurementId,Ar),Gt.measurementId})).apply(this,arguments)}class un{constructor(I){this.app=I}_delete(){return delete Xe[this.app.options.appId],Promise.resolve()}}let Xe={},As=[];const sa={};let Ss,Qn,gr="dataLayer",hl=!1;function Kt(C,I,x){!function(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((U,J)=>`(${J+1}) ${U}`).join(" "),x=Lr.create("invalid-analytics-context",{errorInfo:I});pr.warn(x.message)}}();const U=C.options.appId;if(!U)throw Lr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Lr.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xe[U])throw Lr.create("already-exists",{id:U});if(!hl){!function(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(gr);const{wrappedGtag:de,gtagCore:xe}=function(C,I,x,U,J){let de=function(...xe){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(de=window[J]),window[J]=function(C,I,x,U){function de(){return(de=(0,O.Z)(function*(xe,Ke,We){try{"event"===xe?yield cl(C,I,x,Ke,We):"config"===xe?yield ul(C,I,x,U,Ke,We):C("set",Ke)}catch(Ht){pr.error(Ht)}})).apply(this,arguments)}return function(xe,Ke,We){return de.apply(this,arguments)}}(de,C,I,x),{gtagCore:de,wrappedGtag:window[J]}}(Xe,As,sa,gr,"gtag");Qn=de,Ss=xe,hl=!0}return Xe[U]=function(C,I,x,U,J,de,xe){return Bu.apply(this,arguments)}(C,As,sa,I,Ss,gr,x),new un(C)}function Ga(){return(Ga=(0,O.Z)(function*(C,I,x,U,J){if(J&&J.global)C("event",x,U);else{const de=yield I;C("event",x,Object.assign(Object.assign({},U),{send_to:de}))}})).apply(this,arguments)}function Ro(){return rs.apply(this,arguments)}function rs(){return(rs=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}const Gg="@firebase/analytics";(0,ae._registerComponent)(new se.wA(Ui,(I,{options:x})=>Kt(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new se.wA("analytics-internal",function(I){try{const x=I.getProvider(Ui).getImmediate();return{logEvent:(U,J,de)=>function(C,I,x,U){C=(0,oe.m9)(C),function(C,I,x,U,J){return Ga.apply(this,arguments)}(Qn,Xe[C.app.options.appId],I,x,U).catch(J=>pr.error(J))}(x,U,J,de)}}catch(x){throw Lr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Gg,"0.7.5"),(0,ae.registerVersion)(Gg,"0.7.5","esm2017");var Nd=F(7771),On=F(3637),qu=F(3342),Mo=F(309),Od=F(3101);const Wg=new c.GfV("7.2.0"),gl="__angularfire_symbol__analyticsIsSupported",no="__angularfire_symbol__remoteConfigIsSupported",Pd="__angularfire_symbol__messagingIsSupported";function Hu(C,I,x){if(I){if(1===I.length)return I[0];const de=I.filter(xe=>xe.app===x);if(1===de.length)return de[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[gl]||(globalThis[gl]=Ro().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Pd]||(globalThis[Pd]=Fu().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[no]||(globalThis[no]=Tf().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Ka=(C,I)=>{const x=I?[I]:(0,Z.C6)(),U=[];return x.forEach(J=>{J.container.getProvider(C).instances.forEach(xe=>{U.includes(xe)||U.push(xe)})}),U};function Ya(){}class kd{constructor(I,x=Nd.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,U){const J=this.zone;return this.delegate.schedule(function(xe){J.runGuarded(()=>{I.apply(this,[xe])})},x,U)}}class ri{constructor(I){this.zone=I,this.task=null}call(I,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)),x.pipe((0,qu.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bi=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new kd(Zone.current)),this.insideAngular=x.run(()=>new kd(Zone.current,On.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ss(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Fd(C){return C.pipe((0,Mo.QV)(ss().outsideAngular))}function Kr(C){return ss(),function(C){return function(x){return(x=x.lift(new ri(C.ngZone))).pipe((0,Od.R)(C.outsideAngular),(0,Mo.QV)(C.insideAngular))}}(ss())(C)}},538:(et,De,F)=>{"use strict";F.d(De,{$:()=>Wr,A:()=>go,E:()=>qs,G:()=>cn,I:()=>$s,K:()=>Yi,L:()=>Gs,M:()=>Mn,N:()=>Xc,P:()=>J,Q:()=>Du,R:()=>ss,T:()=>Cs,U:()=>ka,V:()=>Au,W:()=>Fr,X:()=>Ae,Y:()=>Ru,Z:()=>nl,_:()=>ta,a:()=>Ss,a0:()=>Nu,a1:()=>Is,a2:()=>rl,a3:()=>Ou,a4:()=>Pu,a5:()=>Ed,a6:()=>Rf,a7:()=>To,a8:()=>Cd,a9:()=>Id,aA:()=>zu,aB:()=>Rs,aC:()=>dr,aG:()=>Ha,aJ:()=>vt,aa:()=>Vy,ab:()=>Ui,ae:()=>al,af:()=>pr,ag:()=>Dd,aj:()=>Su,ak:()=>Mf,am:()=>Ad,an:()=>$a,ao:()=>Ma,ap:()=>Hn,aq:()=>ir,ar:()=>bs,as:()=>Vn,at:()=>Hd,au:()=>yl,av:()=>Xt,aw:()=>Re,ax:()=>Tn,ay:()=>yn,az:()=>Ns,b:()=>gr,c:()=>_r,d:()=>Oo,e:()=>Qa,f:()=>Wu,g:()=>so,h:()=>Ms,i:()=>Nd,j:()=>Kg,k:()=>Gd,l:()=>Kr,m:()=>$f,o:()=>tr,r:()=>Lf,s:()=>Fd,u:()=>x,z:()=>Wi});var c=F(8239),Z=F(3854),O=F(8026);function ye(v,p){var m={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&p.indexOf(w)<0&&(m[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(w=Object.getOwnPropertySymbols(v);S<w.length;S++)p.indexOf(w[S])<0&&Object.prototype.propertyIsEnumerable.call(v,w[S])&&(m[w[S]]=v[w[S]])}return m}var ot=F(5422),kt=F(3910);const tr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},go={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Wi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},zi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gi=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ut=new ot.Yd("@firebase/auth");function Sn(v,...p){Ut.logLevel<=ot.in.ERROR&&Ut.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Vn(v,...p){throw jr(v,...p)}function Xt(v,...p){return jr(v,...p)}function hn(v,p,m){const w=Object.assign(Object.assign({},zi()),{[p]:m});return new Z.LL("auth","Firebase",w).create(p,{appName:v.name})}function Fi(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Vn(v,"argument-error"),hn(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jr(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return gi.create(v,...p)}function Re(v,p,...m){if(!v)throw jr(p,...m)}function fn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Sn(p),new Error(p)}function Hn(v,p){v||fn(p)}const mi=new Map;function Tn(v){Hn(v instanceof Function,"Expected a class definition");let p=mi.get(v);return p?(Hn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,mi.set(v,p),p)}function qr(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function st(){return"http:"===Se()||"https:"===Se()}function Se(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,Hn(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,Z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function $t(v,p){Hn(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ge{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wr=new tn(3e4,6e4);function an(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Yt(v,p,m,w){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(v,p,m,w,S={}){return en(v,S,(0,c.Z)(function*(){let R={},K={};w&&("GET"===p?K=w:R={body:JSON.stringify(w)});const be=(0,Z.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/json",v.languageCode&&(He["X-Firebase-Locale"]=v.languageCode),Ge.fetch()(j(v,v.config.apiHost,m,be),Object.assign({method:p,headers:He,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function en(v,p,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qe),p);try{const S=new Ce(v),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw re(v,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const be=R.ok?K.errorMessage:K.error.message,[He,ke]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw re(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===He)throw re(v,"email-already-in-use",K);const at=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw hn(v,at,ke);Vn(v,at)}}catch(S){if(S instanceof Z.ZR)throw S;Vn(v,"network-request-failed")}})).apply(this,arguments)}function q(v,p,m,w){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(v,p,m,w,S={}){const R=yield Yt(v,p,m,w,S);return"mfaPendingCredential"in R&&Vn(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function j(v,p,m,w){const S=`${p}${m}?${w}`;return v.config.emulator?$t(v.config,S):`${v.config.apiScheme}://${S}`}class Ce{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Xt(this.auth,"network-request-failed")),wr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function re(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=Xt(v,p,w);return S.customData._tokenResponse=m,S}function je(){return(je=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Qt(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rn(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Nt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function H(){return(H=(0,c.Z)(function*(v,p=!1){const m=(0,Z.m9)(v),w=yield m.getIdToken(p),S=Be(w);Re(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:S,token:w,authTime:Nt(Ee(S.auth_time)),issuedAtTime:Nt(Ee(S.iat)),expirationTime:Nt(Ee(S.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Ee(v){return 1e3*Number(v)}function Be(v){const[p,m,w]=v.split(".");if(void 0===p||void 0===m||void 0===w)return Sn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,Z.tV)(m);return S?JSON.parse(S):(Sn("Failed to decode base64 JWT payload"),null)}catch(S){return Sn("Caught error parsing JWT payload as JSON",S),null}}function Et(v,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof Z.ZR&&Un(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Un({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Wn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class rr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nt(this.lastLoginAt),this.creationTime=Nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ft(v){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),S=yield Et(v,Rn(m,{idToken:w}));Re(null==S?void 0:S.users.length,m,"internal-error");const R=S.users[0];v._notifyReloadListener(R);const K=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Er(R.providerUserInfo):[],be=mo(v.providerData,K),at=!!v.isAnonymous&&!(v.email&&R.passwordHash||(null==be?void 0:be.length)),Wt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:be,metadata:new rr(R.createdAt,R.lastLoginAt),isAnonymous:at};Object.assign(v,Wt)})).apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(v){const p=(0,Z.m9)(v);yield Ft(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function mo(v,p){return[...v.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function Er(v){return v.map(p=>{var{providerId:m}=p,w=ye(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function $r(){return($r=(0,c.Z)(function*(v,p){const m=yield en(v,{},(0,c.Z)(function*(){const w=(0,Z.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=v.config,K=j(v,S,"/v1/token",`key=${R}`),be=yield v._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(K,{method:"POST",headers:be,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Re(p.idToken,"internal-error"),Re(void 0!==p.idToken,"internal-error"),Re(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Be(v);return Re(p,"internal-error"),Re(void 0!==p.exp,"internal-error"),Re(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,c.Z)(function*(){return Re(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:K}=yield function(v,p){return $r.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(S,R,Number(K))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:S,expirationTime:R}=m,K=new Ze;return w&&(Re("string"==typeof w,"internal-error",{appName:p}),K.refreshToken=w),S&&(Re("string"==typeof S,"internal-error",{appName:p}),K.accessToken=S),R&&(Re("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ze,this.toJSON())}_performRefresh(){return fn("not implemented")}}function ht(v,p){Re("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Jt{constructor(p){var{uid:m,auth:w,stsTokenManager:S}=p,R=ye(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new rr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const w=yield Et(m,m.stsTokenManager.getToken(m.auth,p));return Re(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function(v){return H.apply(this,arguments)}(this,p)}reload(){return function(v){return Ki.apply(this,arguments)}(this)}_assign(p){this!==p&&(Re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Jt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Ft(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Et(p,function(v,p){return je.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,S,R,K,be,He,ke,at;const Wt=null!==(w=m.displayName)&&void 0!==w?w:void 0,pn=null!==(S=m.email)&&void 0!==S?S:void 0,Vr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Lo=null!==(K=m.photoURL)&&void 0!==K?K:void 0,la=null!==(be=m.tenantId)&&void 0!==be?be:void 0,Cl=null!==(He=m._redirectEventId)&&void 0!==He?He:void 0,zd=null!==(ke=m.createdAt)&&void 0!==ke?ke:void 0,sm=null!==(at=m.lastLoginAt)&&void 0!==at?at:void 0,{uid:Dn,emailVerified:om,isAnonymous:Kd,providerData:as,stsTokenManager:Hf}=m;Re(Dn&&Hf,p,"internal-error");const ru=Ze.fromJSON(this.name,Hf);Re("string"==typeof Dn,p,"internal-error"),ht(Wt,p.name),ht(pn,p.name),Re("boolean"==typeof om,p,"internal-error"),Re("boolean"==typeof Kd,p,"internal-error"),ht(Vr,p.name),ht(Lo,p.name),ht(la,p.name),ht(Cl,p.name),ht(zd,p.name),ht(sm,p.name);const Gf=new Jt({uid:Dn,auth:p,email:pn,emailVerified:om,displayName:Wt,isAnonymous:Kd,photoURL:Lo,phoneNumber:Vr,tenantId:la,stsTokenManager:ru,createdAt:zd,lastLoginAt:sm});return as&&Array.isArray(as)&&(Gf.providerData=as.map(Hy=>Object.assign({},Hy))),Cl&&(Gf._redirectEventId=Cl),Gf}static _fromIdTokenResponse(p,m,w=!1){return(0,c.Z)(function*(){const S=new Ze;S.updateFromServerResponse(m);const R=new Jt({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield Ft(R),R})()}}const Yi=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,c.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,c.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,c.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function yn(v,p,m){return`firebase:${v}:${p}:${m}`}class Cr{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:S,name:R}=this.auth;this.fullUserKey=yn(this.userKey,S.apiKey,R),this.fullPersistenceKey=yn("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Jt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Cr(Tn(Yi),p,w);const S=(yield Promise.all(m.map(function(){var ke=(0,c.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let R=S[0]||Tn(Yi);const K=yn(w,p.config.apiKey,p.name);let be=null;for(const ke of m)try{const at=yield ke._get(K);if(at){const Wt=Jt._fromJSON(p,at);ke!==R&&(be=Wt),R=ke;break}}catch(at){}const He=S.filter(ke=>ke._shouldAllowMigration);return R._shouldAllowMigration&&He.length?(R=He[0],be&&(yield R._set(K,be.toJSON())),yield Promise.all(m.map(function(){var ke=(0,c.Z)(function*(at){if(at!==R)try{yield at._remove(K)}catch(Wt){}});return function(at){return ke.apply(this,arguments)}}())),new Cr(R,p,w)):new Cr(R,p,w)})()}}function In(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ra(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Kn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(vu(p))return"Blackberry";if(ei(p))return"Webos";if(_o(p))return"Safari";if((p.includes("chrome/")||Ct(p))&&!p.includes("edge/"))return"Chrome";if(bs(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Kn(v=(0,Z.z$)()){return/firefox\//i.test(v)}function _o(v=(0,Z.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ct(v=(0,Z.z$)()){return/crios\//i.test(v)}function Ra(v=(0,Z.z$)()){return/iemobile/i.test(v)}function bs(v=(0,Z.z$)()){return/android/i.test(v)}function vu(v=(0,Z.z$)()){return/blackberry/i.test(v)}function ei(v=(0,Z.z$)()){return/webos/i.test(v)}function ir(v=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(v)}function Ma(v=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function rn(v=(0,Z.z$)()){return ir(v)||bs(v)||ei(v)||vu(v)||/windows phone/i.test(v)||Ra(v)}function Gc(v,p=[]){let m;switch(v){case"Browser":m=In((0,Z.z$)());break;case"Worker":m=`${In((0,Z.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${w}`}class Wc{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bu(this),this.idTokenSubscription=new bu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=Tn(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,R;if(!w._deleted&&(w.persistenceManager=yield Cr.create(w,p),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(K){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var w;let S=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const R=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,K=null==S?void 0:S._redirectEventId,be=yield m.tryRedirectSignIn(p);(!R||R===K)&&(null==be?void 0:be.user)&&(S=be.user)}return S?S._redirectEventId?(Re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield Ft(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const w=p?(0,Z.m9)(p):null;return w&&Re(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){if(!m._deleted)return p&&Re(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,c.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(Tn(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new Z.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,c.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&Tn(p)||m._popupRedirectResolver;Re(w,m,"argument-error"),m.redirectPersistenceManager=yield Cr.create(m,[Tn(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function dr(v){return(0,Z.m9)(v)}class bu{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,Z.ne)(m=>this.observer=m)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qs(v,p,m){const w=dr(v);Re(w._canInitEmulator,w,"emulator-config-failed"),Re(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),R=yo(p),{host:K,port:be}=function(v){const p=yo(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const R=S[1];return{host:R,port:fd(w.substr(R.length+1))}}{const[R,K]=w.split(":");return{host:R,port:fd(K)}}}(p);w.config.emulator={url:`${R}//${K}${null===be?"":`:${be}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:be,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function yo(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function fd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class cn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return fn("not implemented")}_getIdTokenResponse(p){return fn("not implemented")}_linkToIdToken(p,m){return fn("not implemented")}_getReauthenticationResolver(p){return fn("not implemented")}}function wu(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:resetPassword",an(v,p))})).apply(this,arguments)}function Oa(v,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Cf(v,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",an(v,p))})).apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPassword",an(v,p))})).apply(this,arguments)}function zc(v,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:sendOobCode",an(v,p))})).apply(this,arguments)}function Ug(v,p){return md.apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(v,p){return zc(v,p)})).apply(this,arguments)}function Zg(v,p){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.Z)(function*(v,p){return zc(v,p)})).apply(this,arguments)}function Ly(v,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(v,p){return zc(v,p)})).apply(this,arguments)}function Tf(v,p){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(v,p){return zc(v,p)})).apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithEmailLink",an(v,p))})).apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithEmailLink",an(v,p))})).apply(this,arguments)}class vo extends cn{constructor(p,m,w,S=null){super("password",w),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new vo(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new vo(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function(v,p){return Es.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(v,p){return yd.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Vn(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Oa(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,p){return Iu.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Vn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qi(v,p){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithIdp",an(v,p))})).apply(this,arguments)}class $s extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new $s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Vn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=m,R=ye(m,["providerId","signInMethod"]);if(!w||!S)return null;const K=new $s(w,S);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Qi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,Z.xO)(m)}return p}}function _i(v,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:sendVerificationCode",an(v,p))})).apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,p))})).apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(v,p){const m=yield q(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,p));if(m.temporaryProof)throw re(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Df={USER_NOT_FOUND:"user-not-found"};function Qc(){return(Qc=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Df)})).apply(this,arguments)}class Ji extends cn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ji({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ji({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(v,p){return bo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(v,p){return Yc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Qc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:R}=p;return w||m||S||R?new Ji({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:R}):null}}class Hs{constructor(p){var m,w,S,R,K,be;const He=(0,Z.zd)((0,Z.pd)(p)),ke=null!==(m=He.apiKey)&&void 0!==m?m:null,at=null!==(w=He.oobCode)&&void 0!==w?w:null,Wt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=He.mode)&&void 0!==S?S:null);Re(ke&&at&&Wt,"argument-error"),this.apiKey=ke,this.operation=Wt,this.code=at,this.continueUrl=null!==(R=He.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=He.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(be=He.tenantId)&&void 0!==be?be:null}static parseLink(p){const m=function(v){const p=(0,Z.zd)((0,Z.pd)(v)).link,m=p?(0,Z.zd)((0,Z.pd)(p)).deep_link_id:null,w=(0,Z.zd)((0,Z.pd)(v)).deep_link_id;return(w?(0,Z.zd)((0,Z.pd)(w)).link:null)||w||m||p||v}(p);try{return new Hs(m)}catch(w){return null}}}let Gs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return vo._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=Hs.parseLink(w);return Re(S,"argument-error"),vo._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class kr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Xi extends kr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Cs extends Xi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Re("providerId"in m&&"signInMethod"in m,"argument-error"),$s._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Re(p.idToken||p.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Cs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Cs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:R,nonce:K,providerId:be}=p;if(!w&&!S&&!m&&!R||!be)return null;try{return new Cs(be)._credential({idToken:m,accessToken:w,nonce:K,pendingToken:R})}catch(He){return null}}}let Mn=(()=>{class v extends Xi{constructor(){super("facebook.com")}static credential(m){return $s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Xc=(()=>{class v extends Xi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return $s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return v.credential(w,S)}catch(R){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Du=(()=>{class v extends Xi{constructor(){super("github.com")}static credential(m){return $s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class vt extends cn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,Qi(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:R}=m;return w&&S&&R&&w===S?new vt(w,R):null}static _create(p,m){return new vt(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ka extends kr{constructor(p){Re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ka.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ka.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=vt.fromJSON(p);return Re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return vt._create(w,m)}catch(S){return null}}}let Au=(()=>{class v extends Xi{constructor(){super("twitter.com")}static credential(m,w){return $s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return v.credential(w,S)}catch(R){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Gr(v,p){return el.apply(this,arguments)}function el(){return(el=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signUp",an(v,p))})).apply(this,arguments)}class Yn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,S=!1){return(0,c.Z)(function*(){const R=yield Jt._fromIdTokenResponse(p,w,S),K=Ws(w);return new Yn({user:R,providerId:K,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Ws(w);return new Yn({user:p,providerId:S,_tokenResponse:w,operationType:m})})()}}function Ws(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Fr(v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,c.Z)(function*(v){var p;const m=dr(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Yn({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Gr(m,{returnSecureToken:!0}),S=yield Yn._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class wo extends Z.ZR{constructor(p,m,w,S){var R;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,wo.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,S){return new wo(p,m,w,S)}}function tl(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?wo._fromErrorAndOperation(v,R,p,w):R})}function Ts(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Su(v,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(v,p){const m=(0,Z.m9)(v);yield es(!0,m,p);const{providerUserInfo:w}=yield Qt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Ts(w||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ut(v,p){return wd.apply(this,arguments)}function wd(){return(wd=(0,c.Z)(function*(v,p,m=!1){const w=yield Et(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Yn._forOperation(v,"link",w)})).apply(this,arguments)}function es(v,p,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(v,p,m){yield Ft(p);const S=!1===v?"provider-already-linked":"no-such-provider";Re(Ts(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function ea(v,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(v,p,m=!1){const{auth:w}=v,S="reauthenticate";try{const R=yield Et(v,tl(w,S,p,v),m);Re(R.idToken,w,"internal-error");const K=Be(R.idToken);Re(K,w,"internal-error");const{sub:be}=K;return Re(v.uid===be,w,"user-mismatch"),Yn._forOperation(v,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Vn(w,"user-mismatch"),R}})).apply(this,arguments)}function zs(v,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,c.Z)(function*(v,p,m=!1){const w="signIn",S=yield tl(v,w,p),R=yield Yn._fromIdTokenResponse(v,w,S);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ae(v,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.Z)(function*(v,p){return zs(dr(v),p)})).apply(this,arguments)}function Ru(v,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(v,p){const m=(0,Z.m9)(v);return yield es(!1,m,p.providerId),ut(m,p)})).apply(this,arguments)}function nl(v,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(v,p){return ea((0,Z.m9)(v),p)})).apply(this,arguments)}function ts(v,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(v,p){return q(v,"POST","/v1/accounts:signInWithCustomToken",an(v,p))})).apply(this,arguments)}function ta(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(v,p){const m=dr(v),w=yield ts(m,{token:p,returnSecureToken:!0}),S=yield Yn._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class La{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ys._fromServerResponse(p,m):Vn(p,"internal-error")}}class Ys extends La{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ys(m)}}function Vi(v,p,m){var w;Re((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Re(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Re(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Wr(v,p,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v),S={requestType:"PASSWORD_RESET",email:p};m&&Vi(w,S,m),yield Zg(w,S)})).apply(this,arguments)}function Nu(v,p,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(v,p,m){yield wu((0,Z.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Is(v,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(v,p){yield Cf((0,Z.m9)(v),{oobCode:p})})).apply(this,arguments)}function rl(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(v,p){const m=(0,Z.m9)(v),w=yield wu(m,{oobCode:p}),S=w.requestType;switch(Re(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(w.mfaInfo,m,"internal-error");default:Re(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=La._fromServerResponse(dr(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Ou(v,p){return na.apply(this,arguments)}function na(){return(na=(0,c.Z)(function*(v,p){const{data:m}=yield rl((0,Z.m9)(v),p);return m.email})).apply(this,arguments)}function Pu(v,p,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,c.Z)(function*(v,p,m){const w=dr(v),S=yield Gr(w,{returnSecureToken:!0,email:p,password:m}),R=yield Yn._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ed(v,p,m){return Ae((0,Z.m9)(v),Gs.credential(p,m))}function Rf(v,p,m){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Re(m.handleCodeInApp,w,"argument-error"),m&&Vi(w,S,m),yield Ly(w,S)})).apply(this,arguments)}function To(v,p){const m=Hs.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Cd(v,p,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v),S=Gs.credentialWithLink(p,m||qr());return Re(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ae(w,S)})).apply(this,arguments)}function il(v,p){return Td.apply(this,arguments)}function Td(){return(Td=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:createAuthUri",an(v,p))})).apply(this,arguments)}function Id(v,p){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,c.Z)(function*(v,p){const w={identifier:p,continueUri:st()?qr():"http://localhost"},{signinMethods:S}=yield il((0,Z.m9)(v),w);return S||[]})).apply(this,arguments)}function Vy(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.Z)(function*(v,p){const m=(0,Z.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Vi(m.auth,S,p);const{email:R}=yield Ug(m.auth,S);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ui(v,p,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Vi(w.auth,R,m);const{email:K}=yield Tf(w.auth,R);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function sl(v,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function al(v,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,Z.m9)(v),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield Et(w,sl(w.auth,R));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const be=w.providerData.find(({providerId:He})=>"password"===He);be&&(be.displayName=w.displayName,be.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function pr(v,p){return Za((0,Z.m9)(v),p,null)}function Dd(v,p){return Za((0,Z.m9)(v),null,p)}function Za(v,p,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(v,p,m){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield Et(v,Oa(w,R));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Ds{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class cl extends Ds{constructor(p,m,w,S){super(p,m,w),this.username=S}}class ll extends Ds{constructor(p,m){super(p,"facebook.com",m)}}class Qs extends cl{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ba extends Ds{constructor(p,m){super(p,"google.com",m)}}class qg extends cl{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Mf(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,m;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const K=null===(m=null===(p=Be(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Ds(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new ll(R,S);case"github.com":return new Qs(R,S);case"google.com":return new Ba(R,S);case"twitter.com":return new qg(R,S,v.screenName||null);case"custom":case"anonymous":return new Ds(R,null);default:return new Ds(R,w,S)}}(m)}class Js{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Js("enroll",p)}static _fromMfaPendingCredential(p){return new Js("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Js._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Js._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ao{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=dr(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(be=>La._fromServerResponse(w,be));Re(S.mfaPendingCredential,w,"internal-error");const K=Js._fromMfaPendingCredential(S.mfaPendingCredential);return new Ao(K,R,function(){var be=(0,c.Z)(function*(He){const ke=yield He._process(w,K);delete S.mfaInfo,delete S.mfaPendingCredential;const at=Object.assign(Object.assign({},S),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(m.operationType){case"signIn":const Wt=yield Yn._fromIdTokenResponse(w,m.operationType,at);return yield w._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return Re(m.user,w,"internal-error"),Yn._forOperation(m.user,m.operationType,at);default:Vn(w,"internal-error")}});return function(He){return be.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Ad(v,p){var m;const w=(0,Z.m9)(v),S=p;return Re(p.customData.operationType,w,"argument-error"),Re(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ao._fromError(w,S)}function Uu(v,p){return Yt(v,"POST","/v2/accounts/mfaEnrollment:start",an(v,p))}class So{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>La._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new So(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Js._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,c.Z)(function*(){const S=p,R=yield w.getSession(),K=yield Et(w.user,S._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),R=yield Et(m.user,function(v,p){return Yt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",an(v,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==w),yield m.user._updateTokensIfNecessary(R);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Zu=new WeakMap;function $a(v){const p=(0,Z.m9)(v);return Zu.has(p)||Zu.set(p,So._fromUser(p)),Zu.get(p)}const dl="__sak";class Bu{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(dl,"1"),this.storage.removeItem(dl),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const gr=(()=>{class v extends Bu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,Z.z$)();return _o(v)||ir(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=rn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),R=this.localCache[w];S!==R&&m(w,R,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((be,He,ke)=>{this.notifyListeners(be,ke)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(S);if(m.newValue!==be)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const R=()=>{const be=this.storage.getItem(S);!w&&this.localCache[S]===be||this.notifyListeners(S,be)},K=this.storage.getItem(S);(0,Z.w1)()&&10===document.documentMode&&K!==m.newValue&&m.newValue!==m.oldValue?setTimeout(R,10):R()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,R=this;return(0,c.Z)(function*(){yield S().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,c.Z)(function*(){const R=yield w().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,S=this;return(0,c.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),Ss=(()=>{class v extends Bu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let hl=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,c.Z)(function*(){const S=m,{eventId:R,eventType:K,data:be}=S.data,He=w.handlersMap[K];if(!(null==He?void 0:He.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const ke=Array.from(He).map(function(){var Wt=(0,c.Z)(function*(pn){return pn(S.origin,be)});return function(pn){return Wt.apply(this,arguments)}}()),at=yield function(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ke);S.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:at})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ha(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class Sd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var S=this;return(0,c.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,be;return new Promise((He,ke)=>{const at=Ha("",20);R.port1.start();const Wt=setTimeout(()=>{ke(new Error("unsupported_event"))},w);be={messageChannel:R,onMessage(pn){const Vr=pn;if(Vr.data.eventId===at)switch(Vr.data.status){case"ack":clearTimeout(Wt),K=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),He(Vr.data.response);break;default:clearTimeout(Wt),clearTimeout(K),ke(new Error("invalid_response"))}}},S.handlers.add(be),R.port1.addEventListener("message",be.onMessage),S.target.postMessage({eventType:p,eventId:at,data:m},[R.port2])}).finally(()=>{be&&S.removeMessageHandler(be)})})()}}function Kt(){return window}function Ga(){return void 0!==Kt().WorkerGlobalScope&&"function"==typeof Kt().importScripts}function Xs(){return(Xs=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Md="firebaseLocalStorageDb",vi="firebaseLocalStorage",za="fbase_key";class eo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ni(v,p){return v.transaction([vi],p?"readwrite":"readonly").objectStore(vi)}function rs(){const v=indexedDB.open(Md,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(vi,{keyPath:za})}catch(S){m(S)}}),v.addEventListener("success",(0,c.Z)(function*(){const w=v.result;w.objectStoreNames.contains(vi)?p(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(Md);return new eo(v).toPromise()}(),p(yield rs()))}))})}function pt(v,p,m){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(v,p,m){const w=ni(v,!0).put({[za]:p,value:m});return new eo(w).toPromise()})).apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(v,p){const m=ni(v,!1).get(p),w=yield new eo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Pf(v,p){const m=ni(v,!0).delete(p);return new eo(m).toPromise()}const Nd=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield rs()),m.db})()}_withRetries(m){var w=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(S++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Ga()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=hl._getInstance(Ga()?self:null),m.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function(){return Xs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Sd(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield rs();return yield pt(m,dl,"1"),yield Pf(m,dl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(R=>pt(R,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,c.Z)(function*(){const S=yield w._withRetries(R=>function(v,p){return to.apply(this,arguments)}(R,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(S=>Pf(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const w=yield m._withRetries(K=>{const be=ni(K,!1).getAll();return new eo(be).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:K,value:be}of w)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(be)&&(m.notifyListeners(K,be),S.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),S.push(K));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function On(v,p){return Yt(v,"POST","/v2/accounts/mfaSignIn:start",an(v,p))}function Od(){return(Od=(0,c.Z)(function*(v){return(yield Yt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=S=>{const R=Xt("internal-error");R.customData=S,m(R)},w.type="text/javascript",w.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function gl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const $u=1e12;class Pd{constructor(p){this.auth=p,this.counter=$u,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Ir(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||$u;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||$u))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var w;return null===(w=m._widgets.get(p||$u))||void 0===w||w.execute(),""})()}}class Ir{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Re(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ml=gl("rcb"),sr=new tn(3e4,6e4);class Ka{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kt().grecaptcha}load(p,m=""){return Re((v=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Kt().grecaptcha):new Promise((w,S)=>{const R=Kt().setTimeout(()=>{S(Xt(p,"network-request-failed"))},sr.get());Kt()[ml]=()=>{Kt().clearTimeout(R),delete Kt()[ml];const be=Kt().grecaptcha;if(!be)return void S(Xt(p,"internal-error"));const He=be.render;be.render=(ke,at)=>{const Wt=He(ke,at);return this.counter++,Wt},this.hostLanguage=m,w(be)},is(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:ml,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(Xt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class kd{load(p){return(0,c.Z)(function*(){return new Pd(p)})()}clearedOneInstance(){}}const ri="recaptcha",Bi={theme:"light",type:"image"};class ss{constructor(p,m=Object.assign({},Bi),w){this.parameters=m,this.type=ri,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(w),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Re(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kd:new Ka,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const K=be=>{!be||(p.tokenChangeListeners.delete(K),R(be))};p.tokenChangeListeners.add(K),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Kt()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){Re(st()&&!Ga(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(v){return Od.apply(this,arguments)}(p.auth);Re(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mr{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ji._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Fd(v,p,m){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(v,p,m){const w=dr(v),S=yield C(w,p,(0,Z.m9)(m));return new mr(S,R=>Ae(w,R))})).apply(this,arguments)}function Kr(v,p,m){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v);yield es(!1,w,"phone");const S=yield C(w.auth,p,(0,Z.m9)(m));return new mr(S,R=>Ru(w,R))})).apply(this,arguments)}function Lf(v,p,m){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v),S=yield C(w.auth,p,(0,Z.m9)(m));return new mr(S,R=>nl(w,R))})).apply(this,arguments)}function C(v,p,m){return I.apply(this,arguments)}function I(){return(I=(0,c.Z)(function*(v,p,m){var w;const S=yield m.verify();try{let R;if(Re("string"==typeof S,v,"argument-error"),Re(m.type===ri,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return Re("enroll"===K.type,v,"internal-error"),(yield Uu(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Re("signin"===K.type,v,"internal-error");const be=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return Re(be,v,"missing-multi-factor-info"),(yield On(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield _i(v,{phoneNumber:R.phoneNumber,recaptchaToken:S});return K}}finally{m._reset()}})).apply(this,arguments)}function x(v,p){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(v,p){yield ut((0,Z.m9)(v),p)})).apply(this,arguments)}let J=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=dr(m)}verifyPhoneNumber(m,w){return C(this.auth,m,(0,Z.m9)(w))}static credential(m,w){return Ji._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?Ji._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function de(v,p){return p?Tn(p):(Re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class xe extends cn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Qi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ke(v){return zs(v.auth,new xe(v),v.bypassAuthState)}function We(v){const{auth:p,user:m}=v;return Re(m,p,"internal-error"),ea(m,new xe(v),v.bypassAuthState)}function Ht(v){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return Re(m,p,"internal-error"),ut(m,new xe(v),v.bypassAuthState)})).apply(this,arguments)}class Dr{constructor(p,m,w,S,R=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:R,tenantId:K,error:be,type:He}=p;if(be)return void m.reject(be);const ke={auth:m.auth,requestUri:w,sessionId:S,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(He)(ke))}catch(at){m.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ke;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return We;default:Vn(this.auth,"internal-error")}}resolve(p){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ar=new tn(2e3,1e4);function _r(v,p,m){return os.apply(this,arguments)}function os(){return(os=(0,c.Z)(function*(v,p,m){const w=dr(v);Fi(v,p,kr);const S=de(w,m);return new Dt(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Qa(v,p,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v);Fi(w.auth,p,kr);const S=de(w.auth,m);return new Dt(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Oo(v,p,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v);Fi(w.auth,p,kr);const S=de(w.auth,m);return new Dt(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Dt=(()=>{class v extends Dr{constructor(m,w,S,R,K){super(m,w,R,K),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const w=yield m.execute();return Re(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,c.Z)(function*(){Hn(1===m.filter.length,"Popup operations only handle one event");const w=Ha();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Xt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ar.get())};m()}}return v.currentPopupAction=null,v})();const oa=new Map;class Vd extends Dr{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let w=oa.get(m.auth._key());if(!w){try{const R=(yield function(v,p){return aa.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(S){w=()=>Promise.reject(S)}oa.set(m.auth._key(),w)}return m.bypassAuthState||oa.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function aa(){return(aa=(0,c.Z)(function*(v,p){const m=Po(p),w=zg(v);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function Uf(v,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.Z)(function*(v,p){return zg(v)._set(Po(p),"true")})).apply(this,arguments)}function Rs(){oa.clear()}function zg(v){return Tn(v._redirectPersistence)}function Po(v){return yn("pendingRedirect",v.config.apiKey,v.name)}function Wu(v,p,m){return function(v,p,m){return or.apply(this,arguments)}(v,p,m)}function or(){return(or=(0,c.Z)(function*(v,p,m){const w=dr(v);Fi(v,p,kr);const S=de(w,m);return yield Uf(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Ms(v,p,m){return function(v,p,m){return ua.apply(this,arguments)}(v,p,m)}function ua(){return(ua=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v);Fi(w.auth,p,kr);const S=de(w.auth,m);yield Uf(S,w.auth);const R=yield Ku(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function so(v,p,m){return function(v,p,m){return oo.apply(this,arguments)}(v,p,m)}function oo(){return(oo=(0,c.Z)(function*(v,p,m){const w=(0,Z.m9)(v);Fi(w.auth,p,kr);const S=de(w.auth,m);yield es(!1,w,p.providerId),yield Uf(S,w.auth);const R=yield Ku(w);return S._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Kg(v,p){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,c.Z)(function*(v,p){return yield dr(v)._initializationPromise,zu(v,p,!1)})).apply(this,arguments)}function zu(v,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(v,p,m=!1){const w=dr(v),S=de(w,p),K=yield new Vd(w,S,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,p)),K})).apply(this,arguments)}function Ku(v){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(v){const p=Ha(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Ns{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!ca(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Xt(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yu(p))}saveEventToCache(p){this.cachedEventUids.add(Yu(p)),this.lastProcessedEventTime=Date.now()}}function Yu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ca({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function yl(v){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,c.Z)(function*(v,p={}){return Yt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const x0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bd=/^https?/;function jd(){return(jd=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield yl(v);for(const m of p)try{if(eu(m))return}catch(w){}Vn(v,"unauthorized-domain")})).apply(this,arguments)}function eu(v){const p=qr(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===w}if(!Bd.test(m))return!1;if(x0.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Zf=new tn(3e4,6e4);function Fo(){const v=Kt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let bl=null;function Zy(v){return bl=bl||function(v){return new Promise((p,m)=>{var w,S,R;function K(){Fo(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Fo(),m(Xt(v,"network-request-failed"))},timeout:Zf.get()})}if(null===(S=null===(w=Kt().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Kt().gapi)||void 0===R?void 0:R.load)){const be=gl("iframefcb");return Kt()[be]=()=>{gapi.load?K():m(Xt(v,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${be}`).catch(He=>m(He))}K()}}).catch(p=>{throw bl=null,p})}(v),bl}const $d=new tn(5e3,15e3),wl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tu(v){const p=v.config;Re(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?$t(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=Qg.get(v.config.apiHost);S&&(w.eid=S);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,Z.xO)(w).slice(1)}`}function jf(){return(jf=(0,c.Z)(function*(v){const p=yield Zy(v),m=Kt().gapi;return Re(m,v,"internal-error"),p.open({where:document.body,url:tu(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wl,dontclear:!0},w=>new Promise(function(){var S=(0,c.Z)(function*(R,K){yield w.restyle({setHideOnLeave:!1});const be=Xt(v,"network-request-failed"),He=Kt().setTimeout(()=>{K(be)},$d.get());function ke(){Kt().clearTimeout(He),R(w)}w.ping(ke).then(ke,()=>{K(be)})});return function(R,K){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const jy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Hd(v,p,m,w,S,R){Re(v.config.authDomain,v,"auth-domain-config-required"),Re(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:O.SDK_VERSION,eventId:S};if(p instanceof kr){p.setDefaultLanguage(v.languageCode),K.providerId=p.providerId||"",(0,Z.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[He,ke]of Object.entries(R||{}))K[He]=ke}if(p instanceof Xi){const He=p.getScopes().filter(ke=>""!==ke);He.length>0&&(K.scopes=He.join(","))}v.tenantId&&(K.tid=v.tenantId);const be=K;for(const He of Object.keys(be))void 0===be[He]&&delete be[He];return`${function({config:v}){return v.emulator?$t(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,Z.xO)(be).slice(1)}`}const Ju="webStorageSupport",Gd=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ss,this._completeRedirectFn=zu}_openPopup(p,m,w,S){var R=this;return(0,c.Z)(function*(){var K;Hn(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const be=Hd(p,m,w,qr(),S);return function(v,p,m,w=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let be="";const He=Object.assign(Object.assign({},jy),{width:w.toString(),height:S.toString(),top:R,left:K}),ke=(0,Z.z$)().toLowerCase();m&&(be=Ct(ke)?"_blank":m),Kn(ke)&&(p=p||"http://localhost",He.scrollbars="yes");const at=Object.entries(He).reduce((pn,[Vr,Lo])=>`${pn}${Vr}=${Lo},`,"");if(function(v=(0,Z.z$)()){var p;return ir(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ke)&&"_self"!==be)return function(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",be),new nu(null);const Wt=window.open(p||"",be,at);Re(Wt,v,"popup-blocked");try{Wt.focus()}catch(pn){}return new nu(Wt)}(p,be,Ha())})()}_openRedirect(p,m,w,S){var R=this;return(0,c.Z)(function*(){return yield R._originValidation(p),v=Hd(p,m,w,qr(),S),Kt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(Hn(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const w=yield function(v){return jf.apply(this,arguments)}(p),S=new Ns(p);return w.register("authEvent",R=>(Re(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ju,{type:Ju},S=>{var R;const K=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[Ju];void 0!==K&&m(!!K),Vn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return jd.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return rn()||_o()||ir()}};class Wd extends class{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return fn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Wd(p)}_finalizeEnroll(p,m,w){return function(v,p){return Yt(v,"POST","/v2/accounts/mfaEnrollment:finalize",an(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(v,p){return Yt(v,"POST","/v2/accounts/mfaSignIn:finalize",an(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $f=(()=>{class v{constructor(){}static assertion(m){return Wd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var v,Xu="@firebase/auth";class Ps{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}v="Browser",(0,O._registerComponent)(new kt.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=w.options;return(K=>{Re(S&&!S.includes(":"),"invalid-api-key",{appName:K.name}),Re(!(null==R?void 0:R.includes(":")),"argument-error",{appName:K.name});const be={apiKey:S,authDomain:R,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gc(v)},He=new Wc(K,be);return function(v,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(Tn);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(He,m),He})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new kt.wA("auth-internal",p=>{const m=dr(p.getProvider("auth").getImmediate());return new Ps(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Xu,"0.19.6",void 0),(0,O.registerVersion)(Xu,"0.19.6","esm2017")},3854:(et,De,F)=>{"use strict";F.d(De,{BH:()=>Q,LL:()=>Je,ZR:()=>kt,zI:()=>It,US:()=>se,tV:()=>ne,$s:()=>Yt,r3:()=>dn,Sg:()=>le,ne:()=>Hn,vZ:()=>Xt,ZB:()=>V,pd:()=>Re,m9:()=>vs,z$:()=>Te,jU:()=>ve,ru:()=>me,d:()=>Ne,xb:()=>Sn,w1:()=>ze,hl:()=>_n,uI:()=>ge,UG:()=>Y,b$:()=>pe,G6:()=>ft,Mn:()=>Ve,xO:()=>Fi,zd:()=>jr,eu:()=>wt});const ae=function(q){const W=[];let j=0;for(let Ce=0;Ce<q.length;Ce++){let re=q.charCodeAt(Ce);re<128?W[j++]=re:re<2048?(W[j++]=re>>6|192,W[j++]=63&re|128):55296==(64512&re)&&Ce+1<q.length&&56320==(64512&q.charCodeAt(Ce+1))?(re=65536+((1023&re)<<10)+(1023&q.charCodeAt(++Ce)),W[j++]=re>>18|240,W[j++]=re>>12&63|128,W[j++]=re>>6&63|128,W[j++]=63&re|128):(W[j++]=re>>12|224,W[j++]=re>>6&63|128,W[j++]=63&re|128)}return W},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,W){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let re=0;re<q.length;re+=3){const $e=q[re],je=re+1<q.length,Qt=je?q[re+1]:0,xn=re+2<q.length,Rn=xn?q[re+2]:0;let ie=(15&Qt)<<2|Rn>>6,G=63&Rn;xn||(G=64,je||(ie=64)),Ce.push(j[$e>>2],j[(3&$e)<<4|Qt>>4],j[ie],j[G])}return Ce.join("")},encodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(q):this.encodeByteArray(ae(q),W)},decodeString(q,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(q):function(q){const W=[];let j=0,Ce=0;for(;j<q.length;){const re=q[j++];if(re<128)W[Ce++]=String.fromCharCode(re);else if(re>191&&re<224){const $e=q[j++];W[Ce++]=String.fromCharCode((31&re)<<6|63&$e)}else if(re>239&&re<365){const xn=((7&re)<<18|(63&q[j++])<<12|(63&q[j++])<<6|63&q[j++])-65536;W[Ce++]=String.fromCharCode(55296+(xn>>10)),W[Ce++]=String.fromCharCode(56320+(1023&xn))}else{const $e=q[j++],je=q[j++];W[Ce++]=String.fromCharCode((15&re)<<12|(63&$e)<<6|63&je)}}return W.join("")}(this.decodeStringToByteArray(q,W))},decodeStringToByteArray(q,W){this.init_();const j=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let re=0;re<q.length;){const $e=j[q.charAt(re++)],Qt=re<q.length?j[q.charAt(re)]:0;++re;const Rn=re<q.length?j[q.charAt(re)]:64;++re;const Nt=re<q.length?j[q.charAt(re)]:64;if(++re,null==$e||null==Qt||null==Rn||null==Nt)throw Error();Ce.push($e<<2|Qt>>4),64!==Rn&&(Ce.push(Qt<<4&240|Rn>>2),64!==Nt&&Ce.push(Rn<<6&192|Nt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ue=function(q){return function(q){const W=ae(q);return se.encodeByteArray(W,!0)}(q).replace(/\./g,"")},ne=function(q){try{return se.decodeString(q,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function V(q,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return W}for(const j in W)!W.hasOwnProperty(j)||!ee(j)||(q[j]=V(q[j],W[j]));return q}function ee(q){return"__proto__"!==q}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,j)=>{this.resolve=W,this.reject=j})}wrapCallback(W){return(j,Ce)=>{j?this.reject(j):this.resolve(Ce),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(j):W(j,Ce))}}}function le(q,W){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=W||"demo-project",re=q.iat||0,$e=q.sub||q.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:re,exp:re+3600,auth_time:re,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(je)),""].join(".")}function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function Y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function ve(){return"object"==typeof self&&self.self===self}function me(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Te().indexOf("Electron/")>=0}function ze(){const q=Te();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ve(){return Te().indexOf("MSAppHost/")>=0}function ft(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _n(){return"object"==typeof indexedDB}function wt(){return new Promise((q,W)=>{try{let j=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Ce);re.onsuccess=()=>{re.result.close(),j||self.indexedDB.deleteDatabase(Ce),q(!0)},re.onupgradeneeded=()=>{j=!1},re.onerror=()=>{var $e;W((null===($e=re.error)||void 0===$e?void 0:$e.message)||"")}}catch(j){W(j)}})}function It(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class kt extends Error{constructor(W,j,Ce){super(j),this.code=W,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(W,j,Ce){this.service=W,this.serviceName=j,this.errors=Ce}create(W,...j){const Ce=j[0]||{},re=`${this.service}/${W}`,$e=this.errors[W],je=$e?function(q,W){return q.replace(xa,(j,Ce)=>{const re=W[Ce];return null!=re?String(re):`<${Ce}?>`})}($e,Ce):"Error";return new kt(re,`${this.serviceName}: ${je} (${re}).`,Ce)}}const xa=/\{\$([^}]+)}/g;function dn(q,W){return Object.prototype.hasOwnProperty.call(q,W)}function Sn(q){for(const W in q)if(Object.prototype.hasOwnProperty.call(q,W))return!1;return!0}function Xt(q,W){if(q===W)return!0;const j=Object.keys(q),Ce=Object.keys(W);for(const re of j){if(!Ce.includes(re))return!1;const $e=q[re],je=W[re];if(hn($e)&&hn(je)){if(!Xt($e,je))return!1}else if($e!==je)return!1}for(const re of Ce)if(!j.includes(re))return!1;return!0}function hn(q){return null!==q&&"object"==typeof q}function Fi(q){const W=[];for(const[j,Ce]of Object.entries(q))Array.isArray(Ce)?Ce.forEach(re=>{W.push(encodeURIComponent(j)+"="+encodeURIComponent(re))}):W.push(encodeURIComponent(j)+"="+encodeURIComponent(Ce));return W.length?"&"+W.join("&"):""}function jr(q){const W={};return q.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[re,$e]=Ce.split("=");W[decodeURIComponent(re)]=decodeURIComponent($e)}}),W}function Re(q){const W=q.indexOf("?");if(!W)return"";const j=q.indexOf("#",W);return q.substring(W,j>0?j:void 0)}function Hn(q,W){const j=new mi(q,W);return j.subscribe.bind(j)}class mi{constructor(W,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{W(this)}).catch(Ce=>{this.error(Ce)})}next(W){this.forEachObserver(j=>{j.next(W)})}error(W){this.forEachObserver(j=>{j.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,j,Ce){let re;if(void 0===W&&void 0===j&&void 0===Ce)throw new Error("Missing Observer.");re=function(q,W){if("object"!=typeof q||null===q)return!1;for(const j of["next","error","complete"])if(j in q&&"function"==typeof q[j])return!0;return!1}(W)?W:{next:W,error:j,complete:Ce},void 0===re.next&&(re.next=Gn),void 0===re.error&&(re.error=Gn),void 0===re.complete&&(re.complete=Gn);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(je){}}),this.observers.push(re),$e}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,W)}sendOne(W,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{j(this.observers[W])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function Yt(q,W=1e3,j=2){const Ce=W*Math.pow(j,q),re=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+re)}function vs(q){return q&&q._delegate?q._delegate:q}},2329:(et,De,F)=>{"use strict";F.d(De,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=F(8026);(0,c.registerVersion)("firebase","9.6.4","app")},7841:(et,De,F)=>{"use strict";F.d(De,{Z:()=>c.Z});var c=F(3394);c.Z.registerVersion("firebase","9.6.4","app-compat")},4828:(et,De,F)=>{"use strict";F.r(De);var c=F(8239),Z=F(3394),O=F(538),ae=F(3854),ye=(F(8026),F(5422),F(3910));function ue(){return window}function V(){return(V=(0,c.Z)(function*(ie,G,H){var Ee;const{BuildInfo:Be}=ue();(0,O.ap)(G.sessionId,"AuthEvent did not contain a session ID");const _t=yield ve(G.sessionId),Et={};return(0,O.aq)()?Et.ibi=Be.packageName:(0,O.ar)()?Et.apn=Be.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),Be.displayName&&(Et.appDisplayName=Be.displayName),Et.sessionId=_t,(0,O.at)(ie,H,G.type,void 0,null!==(Ee=G.eventId)&&void 0!==Ee?Ee:void 0,Et)})).apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(ie){const{BuildInfo:G}=ue(),H={};(0,O.aq)()?H.iosBundleId=G.packageName:(0,O.ar)()?H.androidPackageName=G.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),yield(0,O.au)(ie,H)})).apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(ie,G,H){const{cordova:Ee}=ue();let Be=()=>{};try{yield new Promise((_t,Et)=>{let jt=null;function Un(){var Ft;_t();const Pr=null===(Ft=Ee.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function Wn(){jt||(jt=window.setTimeout(()=>{Et((0,O.av)(ie,"redirect-cancelled-by-user"))},2e3))}function rr(){"visible"===(null==document?void 0:document.visibilityState)&&Wn()}G.addPassiveListener(Un),document.addEventListener("resume",Wn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",rr,!1),Be=()=>{G.removePassiveListener(Un),document.removeEventListener("resume",Wn,!1),document.removeEventListener("visibilitychange",rr,!1),jt&&window.clearTimeout(jt)}})}finally{Be()}})).apply(this,arguments)}function ve(ie){return me.apply(this,arguments)}function me(){return(me=(0,c.Z)(function*(ie){const G=pe(ie),H=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(H)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pe(ie){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const G=new ArrayBuffer(ie.length),H=new Uint8Array(G);for(let Ee=0;Ee<ie.length;Ee++)H[Ee]=ie.charCodeAt(Ee);return H}class ze extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(G)),super.onEvent(G)}initialized(){var G=this;return(0,c.Z)(function*(){yield G.initPromise})()}}function ft(ie){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(ie){const G=yield dt()._get(ot(ie));return G&&(yield dt()._remove(ot(ie))),G})).apply(this,arguments)}function It(){const ie=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const Ee=Math.floor(Math.random()*G.length);ie.push(G.charAt(Ee))}return ie.join("")}function dt(){return(0,O.ax)(O.b)}function ot(ie){return(0,O.ay)("authEvent",ie.config.apiKey,ie.name)}function tr(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[G,...H]=ie.split("?");return(0,ae.zd)(H.join("?"))}function lr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function dn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function Sn(ie=(0,ae.z$)()){return!("file:"!==dn()&&"ionic:"!==dn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function jr(){try{const ie=self.localStorage,G=O.aG();if(ie)return ie.setItem(G,"1"),ie.removeItem(G),!function(ie=(0,ae.z$)()){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,ae.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,ae.hl)()}catch(ie){return Re()&&(0,ae.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fn(){return("http:"===dn()||"https:"===dn()||(0,ae.ru)()||Sn())&&!((0,ae.b$)()||(0,ae.UG)())&&jr()&&!Re()}function Hn(){return Sn()&&"undefined"!=typeof document}function Tn(){return(Tn=(0,c.Z)(function*(){return!!Hn()&&new Promise(ie=>{const G=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ie(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=O.aw,qr="persistence";function Se(ie){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(ie){yield ie._initializationPromise;const G=tn(),H=O.ay(qr,ie.config.apiKey,ie.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(H,ie._getPersistence())})).apply(this,arguments)}function tn(){return"undefined"!=typeof window?window:null}const $t=O.aw;class Ge{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(G){var H=this;return(0,c.Z)(function*(){const Ee=G._key();let Be=H.eventManagers.get(Ee);return Be||(Be=new ze(G),H.eventManagers.set(Ee,Be),H.attachCallbackListeners(G,Be)),Be})()}_openPopup(G){(0,O.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,H,Ee,Be){var _t=this;return(0,c.Z)(function*(){!function(ie){var G,H,Ee,Be,_t,Et,jt,Un,Wn,rr;const Ft=ue();(0,O.aw)("function"==typeof(null===(G=null==Ft?void 0:Ft.universalLinks)||void 0===G?void 0:G.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(H=null==Ft?void 0:Ft.BuildInfo)||void 0===H?void 0:H.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(_t=null===(Be=null===(Ee=null==Ft?void 0:Ft.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===_t?void 0:_t.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Un=null===(jt=null===(Et=null==Ft?void 0:Ft.cordova)||void 0===Et?void 0:Et.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===Un?void 0:Un.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(rr=null===(Wn=null==Ft?void 0:Ft.cordova)||void 0===Wn?void 0:Wn.InAppBrowser)||void 0===rr?void 0:rr.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Et=yield _t._initialize(G);yield Et.initialized(),Et.resetRedirect(),(0,O.aB)(),yield _t._originValidation(G);const jt=function(ie,G,H=null){return{type:G,eventId:H,urlResponse:null,sessionId:It(),postBody:null,tenantId:ie.tenantId,error:(0,O.av)(ie,"no-auth-event")}}(G,Ee,Be);yield function(ie,G){return dt()._set(ot(ie),G)}(G,jt);const Un=yield function(ie,G,H){return V.apply(this,arguments)}(G,jt,H),Wn=yield function(ie){const{cordova:G}=ue();return new Promise(H=>{G.plugins.browsertab.isAvailable(Ee=>{let Be=null;Ee?G.plugins.browsertab.openUrl(ie):Be=G.InAppBrowser.open(ie,(0,O.ao)()?"_blank":"_system","location=yes"),H(Be)})})}(Un);return function(ie,G,H){return ge.apply(this,arguments)}(G,Et,Wn)})()}_isIframeWebStorageSupported(G,H){throw new Error("Method not implemented.")}_originValidation(G){const H=G._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function(ie){return Q.apply(this,arguments)}(G)),this.originValidationPromises[H]}attachCallbackListeners(G,H){const{universalLinks:Ee,handleOpenURL:Be,BuildInfo:_t}=ue(),Et=setTimeout((0,c.Z)(function*(){yield ft(G),H.onEvent(lr())}),500),jt=function(){var rr=(0,c.Z)(function*(Ft){clearTimeout(Et);const Pr=yield ft(G);let zn=null;Pr&&(null==Ft?void 0:Ft.url)&&(zn=function(ie,G){var H,Ee;const Be=function(ie){const G=tr(ie),H=G.link?decodeURIComponent(G.link):void 0,Ee=tr(H).link,Be=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return tr(Be).link||Be||Ee||H||ie}(G);if(Be.includes("/__/auth/callback")){const _t=tr(Be),Et=_t.firebaseError?function(ie){try{return JSON.parse(ie)}catch(G){return null}}(decodeURIComponent(_t.firebaseError)):null,jt=null===(Ee=null===(H=null==Et?void 0:Et.code)||void 0===H?void 0:H.split("auth/"))||void 0===Ee?void 0:Ee[1],Un=jt?(0,O.av)(jt):null;return Un?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Un,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Be,postBody:null}}return null}(Pr,Ft.url)),H.onEvent(zn||lr())});return function(Pr){return rr.apply(this,arguments)}}();void 0!==Ee&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,jt);const Un=Be,Wn=`${_t.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var rr=(0,c.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(Wn)&&jt({url:Ft}),"function"==typeof Un)try{Un(Ft)}catch(Pr){console.error(Pr)}});return function(Ft){return rr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(G){var H=this;return(0,c.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,H,Ee,Be){var _t=this;return(0,c.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openPopup(G,H,Ee,Be)})()}_openRedirect(G,H,Ee,Be){var _t=this;return(0,c.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openRedirect(G,H,Ee,Be)})()}_isIframeWebStorageSupported(G,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,H)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Hn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,c.Z)(function*(){if(G.underlyingResolver)return;const H=yield function(){return Tn.apply(this,arguments)}();G.underlyingResolver=H?G.cordovaResolver:G.browserResolver})()}}function Qe(ie){return ie.unwrap()}function an(ie){return nn(ie)}function nn(ie){const{_tokenResponse:G}=ie instanceof ae.ZR?ie.customData:ie;if(!G)return null;if(!(ie instanceof ae.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return O.P.credentialFromResult(ie);const H=G.providerId;if(!H||H===O.o.PASSWORD)return null;let Ee;switch(H){case O.o.GOOGLE:Ee=O.N;break;case O.o.FACEBOOK:Ee=O.M;break;case O.o.GITHUB:Ee=O.Q;break;case O.o.TWITTER:Ee=O.V;break;default:const{oauthIdToken:Be,oauthAccessToken:_t,oauthTokenSecret:Et,pendingToken:jt,nonce:Un}=G;return _t||Et||Be||jt?jt?H.startsWith("saml.")?O.aJ._create(H,jt):O.I._fromParams({providerId:H,signInMethod:H,pendingToken:jt,idToken:Be,accessToken:_t}):new O.T(H).credential({idToken:Be,accessToken:_t,rawNonce:Un}):null}return ie instanceof ae.ZR?Ee.credentialFromError(ie):Ee.credentialFromResult(ie)}function en(ie,G){return G.catch(H=>{throw H instanceof ae.ZR&&function(ie,G){var H;const Ee=null===(H=G.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new W(ie,O.am(ie,G));else if(Ee){const Be=nn(G),_t=G;Be&&(_t.credential=Be,_t.tenantId=Ee.tenantId||void 0,_t.email=Ee.email||void 0,_t.phoneNumber=Ee.phoneNumber||void 0)}}(ie,H),H}).then(H=>{const Be=H.user;return{operationType:H.operationType,credential:an(H),additionalUserInfo:O.ak(H),user:j.getOrCreate(Be)}})}function vs(ie,G){return q.apply(this,arguments)}function q(){return(q=(0,c.Z)(function*(ie,G){const H=yield G;return{verificationId:H.verificationId,confirm:Ee=>en(ie,H.confirm(Ee))}})).apply(this,arguments)}class W{constructor(G,H){this.resolver=H,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return en(Qe(this.auth),this.resolver.resolveSignIn(G))}}class j{constructor(G){this._delegate=G,this.multiFactor=O.an(G)}static getOrCreate(G){return j.USER_MAP.has(G)||j.USER_MAP.set(G,new j(G)),j.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var H=this;return(0,c.Z)(function*(){return en(H.auth,O.Y(H._delegate,G))})()}linkWithPhoneNumber(G,H){var Ee=this;return(0,c.Z)(function*(){return vs(Ee.auth,O.l(Ee._delegate,G,H))})()}linkWithPopup(G){var H=this;return(0,c.Z)(function*(){return en(H.auth,O.d(H._delegate,G,Ge))})()}linkWithRedirect(G){var H=this;return(0,c.Z)(function*(){return yield Se(O.aC(H.auth)),O.g(H._delegate,G,Ge)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var H=this;return(0,c.Z)(function*(){return en(H.auth,O.Z(H._delegate,G))})()}reauthenticateWithPhoneNumber(G,H){return vs(this.auth,O.r(this._delegate,G,H))}reauthenticateWithPopup(G){return en(this.auth,O.e(this._delegate,G,Ge))}reauthenticateWithRedirect(G){var H=this;return(0,c.Z)(function*(){return yield Se(O.aC(H.auth)),O.h(H._delegate,G,Ge)})()}sendEmailVerification(G){return O.aa(this._delegate,G)}unlink(G){var H=this;return(0,c.Z)(function*(){return yield O.aj(H._delegate,G),H})()}updateEmail(G){return O.af(this._delegate,G)}updatePassword(G){return O.ag(this._delegate,G)}updatePhoneNumber(G){return O.u(this._delegate,G)}updateProfile(G){return O.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,H){return O.ab(this._delegate,G,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}j.USER_MAP=new WeakMap;const Ce=O.aw;let re=(()=>{class ie{constructor(H,Ee){if(this.app=H,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=H.options;Ce(Be,"invalid-api-key",{appName:H.name}),Ce(Be,"invalid-api-key",{appName:H.name});const _t="undefined"!=typeof window?Ge:void 0;this._delegate=Ee.initialize({options:{persistence:je(Be,H.name),popupRedirectResolver:_t}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?j.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,Ee){O.E(this._delegate,H,Ee)}applyActionCode(H){return O.a1(this._delegate,H)}checkActionCode(H){return O.a2(this._delegate,H)}confirmPasswordReset(H,Ee){return O.a0(this._delegate,H,Ee)}createUserWithEmailAndPassword(H,Ee){var Be=this;return(0,c.Z)(function*(){return en(Be._delegate,O.a4(Be._delegate,H,Ee))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return O.a9(this._delegate,H)}isSignInWithEmailLink(H){return O.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,c.Z)(function*(){Ce(fn(),H._delegate,"operation-not-supported-in-this-environment");const Ee=yield O.j(H._delegate,Ge);return Ee?en(H._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function(ie,G){(0,O.aC)(ie)._logFramework(G)}(this._delegate,H)}onAuthStateChanged(H,Ee,Be){const{next:_t,error:Et,complete:jt}=$e(H,Ee,Be);return this._delegate.onAuthStateChanged(_t,Et,jt)}onIdTokenChanged(H,Ee,Be){const{next:_t,error:Et,complete:jt}=$e(H,Ee,Be);return this._delegate.onIdTokenChanged(_t,Et,jt)}sendSignInLinkToEmail(H,Ee){return O.a6(this._delegate,H,Ee)}sendPasswordResetEmail(H,Ee){return O.$(this._delegate,H,Ee||void 0)}setPersistence(H){var Ee=this;return(0,c.Z)(function*(){let Be;switch(function(ie,G){Gn(Object.values(Vt).includes(G),ie,"invalid-persistence-type"),(0,ae.b$)()?Gn(G!==Vt.SESSION,ie,"unsupported-persistence-type"):(0,ae.UG)()?Gn(G===Vt.NONE,ie,"unsupported-persistence-type"):Re()?Gn(G===Vt.NONE||G===Vt.LOCAL&&(0,ae.hl)(),ie,"unsupported-persistence-type"):Gn(G===Vt.NONE||jr(),ie,"unsupported-persistence-type")}(Ee._delegate,H),H){case Vt.SESSION:Be=O.a;break;case Vt.LOCAL:Be=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Vt.NONE:Be=O.K;break;default:return O.as("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return en(this._delegate,O.W(this._delegate))}signInWithCredential(H){return en(this._delegate,O.X(this._delegate,H))}signInWithCustomToken(H){return en(this._delegate,O._(this._delegate,H))}signInWithEmailAndPassword(H,Ee){return en(this._delegate,O.a5(this._delegate,H,Ee))}signInWithEmailLink(H,Ee){return en(this._delegate,O.a8(this._delegate,H,Ee))}signInWithPhoneNumber(H,Ee){return vs(this._delegate,O.s(this._delegate,H,Ee))}signInWithPopup(H){var Ee=this;return(0,c.Z)(function*(){return Ce(fn(),Ee._delegate,"operation-not-supported-in-this-environment"),en(Ee._delegate,O.c(Ee._delegate,H,Ge))})()}signInWithRedirect(H){var Ee=this;return(0,c.Z)(function*(){return Ce(fn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield Se(Ee._delegate),O.f(Ee._delegate,H,Ge)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return O.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Vt,ie})();function $e(ie,G,H){let Ee=ie;"function"!=typeof ie&&({next:Ee,error:G,complete:H}=ie);const Be=Ee;return{next:Et=>Be(Et&&j.getOrCreate(Et)),error:G,complete:H}}function je(ie,G){const H=function(ie,G){const H=tn();if(!(null==H?void 0:H.sessionStorage))return[];const Ee=O.ay(qr,ie,G);switch(H.sessionStorage.getItem(Ee)){case Vt.NONE:return[O.K];case Vt.LOCAL:return[O.i,O.a];case Vt.SESSION:return[O.a];default:return[]}}(ie,G);if("undefined"!=typeof self&&!H.includes(O.i)&&H.push(O.i),"undefined"!=typeof window)for(const Ee of[O.b,O.a])H.includes(Ee)||H.push(Ee);return H.includes(O.K)||H.push(O.K),H}class Qt{constructor(){this.providerId="phone",this._delegate=new O.P(Qe(Z.Z.auth()))}static credential(G,H){return O.P.credential(G,H)}verifyPhoneNumber(G,H){return this._delegate.verifyPhoneNumber(G,H)}unwrap(){return this._delegate}}Qt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Qt.PROVIDER_ID=O.P.PROVIDER_ID;const xn=O.aw;var ie;(ie=Z.Z).INTERNAL.registerComponent(new ye.wA("auth-compat",G=>{const H=G.getProvider("app-compat").getImmediate(),Ee=G.getProvider("auth");return new re(H,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:Qt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(G,H,Ee=Z.Z.app()){var Be;xn(null===(Be=Ee.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new O.R(G,H,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:re,AuthCredential:O.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.6")},6676:function(et,De){!function(F){"use strict";function c(Y){return Array.prototype.slice.call(Y)}function Z(Y){return new Promise(function(ve,me){Y.onsuccess=function(){ve(Y.result)},Y.onerror=function(){me(Y.error)}})}function O(Y,ve,me){var pe,Ne=new Promise(function(ze,Ve){Z(pe=Y[ve].apply(Y,me)).then(ze,Ve)});return Ne.request=pe,Ne}function ae(Y,ve,me){var pe=O(Y,ve,me);return pe.then(function(Ne){if(Ne)return new L(Ne,pe.request)})}function oe(Y,ve,me){me.forEach(function(pe){Object.defineProperty(Y.prototype,pe,{get:function(){return this[ve][pe]},set:function(Ne){this[ve][pe]=Ne}})})}function se(Y,ve,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(Y.prototype[Ne]=function(){return O(this[ve],Ne,arguments)})})}function ye(Y,ve,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(Y.prototype[Ne]=function(){return this[ve][Ne].apply(this[ve],arguments)})})}function ue(Y,ve,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(Y.prototype[Ne]=function(){return ae(this[ve],Ne,arguments)})})}function ne(Y){this._index=Y}function L(Y,ve){this._cursor=Y,this._request=ve}function V(Y){this._store=Y}function ee(Y){this._tx=Y,this.complete=new Promise(function(ve,me){Y.oncomplete=function(){ve()},Y.onerror=function(){me(Y.error)},Y.onabort=function(){me(Y.error)}})}function Q(Y,ve,me){this._db=Y,this.oldVersion=ve,this.transaction=new ee(me)}function le(Y){this._db=Y}oe(ne,"_index",["name","keyPath","multiEntry","unique"]),se(ne,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ue(ne,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(L,"_cursor",["direction","key","primaryKey","value"]),se(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Y){Y in IDBCursor.prototype&&(L.prototype[Y]=function(){var ve=this,me=arguments;return Promise.resolve().then(function(){return ve._cursor[Y].apply(ve._cursor,me),Z(ve._request).then(function(pe){if(pe)return new L(pe,ve._request)})})})}),V.prototype.createIndex=function(){return new ne(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new ne(this._store.index.apply(this._store,arguments))},oe(V,"_store",["name","keyPath","indexNames","autoIncrement"]),se(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ue(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ye(V,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},oe(ee,"_tx",["objectStoreNames","mode"]),ye(ee,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},oe(Q,"_db",["name","version","objectStoreNames"]),ye(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),le.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},oe(le,"_db",["name","version","objectStoreNames"]),ye(le,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Y){[V,ne].forEach(function(ve){Y in ve.prototype&&(ve.prototype[Y.replace("open","iterate")]=function(){var me=c(arguments),pe=me[me.length-1],Ne=this._store||this._index,ze=Ne[Y].apply(Ne,me.slice(0,-1));ze.onsuccess=function(){pe(ze.result)}})})}),[ne,V].forEach(function(Y){Y.prototype.getAll||(Y.prototype.getAll=function(ve,me){var pe=this,Ne=[];return new Promise(function(ze){pe.iterateCursor(ve,function(Ve){Ve?(Ne.push(Ve.value),void 0===me||Ne.length!=me?Ve.continue():ze(Ne)):ze(Ne)})})})}),F.openDb=function(Y,ve,me){var pe=O(indexedDB,"open",[Y,ve]),Ne=pe.request;return Ne&&(Ne.onupgradeneeded=function(ze){me&&me(new Q(Ne.result,ze.oldVersion,Ne.transaction))}),pe.then(function(ze){return new le(ze)})},F.deleteDb=function(Y){return O(indexedDB,"deleteDatabase",[Y])},Object.defineProperty(F,"__esModule",{value:!0})}(De)},7574:(et,De,F)=>{"use strict";F.d(De,{y:()=>V});var c=F(7393),O=F(9181),ae=F(6490),se=F(6554),ye=F(4487);var L=F(2494);let V=(()=>{class Q{constructor(Te){this._isScalar=!1,Te&&(this._subscribe=Te)}lift(Te){const ge=new Q;return ge.source=this,ge.operator=Te,ge}subscribe(Te,ge,Y){const{operator:ve}=this,me=function(Q,le,Te){if(Q){if(Q instanceof c.L)return Q;if(Q[O.b])return Q[O.b]()}return Q||le||Te?new c.L(Q,le,Te):new c.L(ae.c)}(Te,ge,Y);if(me.add(ve?ve.call(me,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!me.syncErrorThrowable?this._subscribe(me):this._trySubscribe(me)),L.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable&&(me.syncErrorThrowable=!1,me.syncErrorThrown))throw me.syncErrorValue;return me}_trySubscribe(Te){try{return this._subscribe(Te)}catch(ge){L.v.useDeprecatedSynchronousErrorHandling&&(Te.syncErrorThrown=!0,Te.syncErrorValue=ge),function(Q){for(;Q;){const{closed:le,destination:Te,isStopped:ge}=Q;if(le||ge)return!1;Q=Te&&Te instanceof c.L?Te:null}return!0}(Te)?Te.error(ge):console.warn(ge)}}forEach(Te,ge){return new(ge=ee(ge))((Y,ve)=>{let me;me=this.subscribe(pe=>{try{Te(pe)}catch(Ne){ve(Ne),me&&me.unsubscribe()}},ve,Y)})}_subscribe(Te){const{source:ge}=this;return ge&&ge.subscribe(Te)}[se.L](){return this}pipe(...Te){return 0===Te.length?this:function(Q){return 0===Q.length?ye.y:1===Q.length?Q[0]:function(Te){return Q.reduce((ge,Y)=>Y(ge),Te)}}(Te)(this)}toPromise(Te){return new(Te=ee(Te))((ge,Y)=>{let ve;this.subscribe(me=>ve=me,me=>Y(me),()=>ge(ve))})}}return Q.create=le=>new Q(le),Q})();function ee(Q){if(Q||(Q=L.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(et,De,F)=>{"use strict";F.d(De,{c:()=>O});var c=F(2494),Z=F(4449);const O={closed:!0,next(ae){},error(ae){if(c.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,Z.z)(ae)},complete(){}}},9765:(et,De,F)=>{"use strict";F.d(De,{Yc:()=>ye,xQ:()=>ue});var c=F(7574),Z=F(7393),O=F(5319),ae=F(7971),oe=F(8858),se=F(9181);class ye extends Z.L{constructor(V){super(V),this.destination=V}}let ue=(()=>{class L extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new ye(this)}lift(ee){const Q=new ne(this,this);return Q.operator=ee,Q}next(ee){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:Q}=this,le=Q.length,Te=Q.slice();for(let ge=0;ge<le;ge++)Te[ge].next(ee)}}error(ee){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:Q}=this,le=Q.length,Te=Q.slice();for(let ge=0;ge<le;ge++)Te[ge].error(ee);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:ee}=this,Q=ee.length,le=ee.slice();for(let Te=0;Te<Q;Te++)le[Te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new ae.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new ae.N;return this.hasError?(ee.error(this.thrownError),O.w.EMPTY):this.isStopped?(ee.complete(),O.w.EMPTY):(this.observers.push(ee),new oe.W(this,ee))}asObservable(){const ee=new c.y;return ee.source=this,ee}}return L.create=(V,ee)=>new ne(V,ee),L})();class ne extends ue{constructor(V,ee){super(),this.destination=V,this.source=ee}next(V){const{destination:ee}=this;ee&&ee.next&&ee.next(V)}error(V){const{destination:ee}=this;ee&&ee.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:ee}=this;return ee?this.source.subscribe(V):O.w.EMPTY}}},8858:(et,De,F)=>{"use strict";F.d(De,{W:()=>Z});var c=F(5319);class Z extends c.w{constructor(ae,oe){super(),this.subject=ae,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,oe=ae.observers;if(this.subject=null,!oe||0===oe.length||ae.isStopped||ae.closed)return;const se=oe.indexOf(this.subscriber);-1!==se&&oe.splice(se,1)}}},7393:(et,De,F)=>{"use strict";F.d(De,{L:()=>ye});var c=F(9105),Z=F(6490),O=F(5319),ae=F(9181),oe=F(2494),se=F(4449);class ye extends O.w{constructor(L,V,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Z.c;break;case 1:if(!L){this.destination=Z.c;break}if("object"==typeof L){L instanceof ye?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,L,V,ee)}}[ae.b](){return this}static create(L,V,ee){const Q=new ye(L,V,ee);return Q.syncErrorThrowable=!1,Q}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ue extends ye{constructor(L,V,ee,Q){super(),this._parentSubscriber=L;let le,Te=this;(0,c.m)(V)?le=V:V&&(le=V.next,ee=V.error,Q=V.complete,V!==Z.c&&(Te=Object.create(V),(0,c.m)(Te.unsubscribe)&&this.add(Te.unsubscribe.bind(Te)),Te.unsubscribe=this.unsubscribe.bind(this))),this._context=Te,this._next=le,this._error=ee,this._complete=Q}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;oe.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:ee}=oe.v;if(this._error)ee&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(V.syncErrorThrowable)ee?(V.syncErrorValue=L,V.syncErrorThrown=!0):(0,se.z)(L),this.unsubscribe();else{if(this.unsubscribe(),ee)throw L;(0,se.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const V=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,V){try{L.call(this._context,V)}catch(ee){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,se.z)(ee)}}__tryOrSetError(L,V,ee){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,ee)}catch(Q){return oe.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=Q,L.syncErrorThrown=!0,!0):((0,se.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(et,De,F)=>{"use strict";F.d(De,{w:()=>se});var c=F(9796),Z=F(1555),O=F(9105);const oe=(()=>{function ue(ne){return Error.call(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((L,V)=>`${V+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne,this}return ue.prototype=Object.create(Error.prototype),ue})();class se{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._ctorUnsubscribe=!0,this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:V,_unsubscribe:ee,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof se)L.remove(this);else if(null!==L)for(let le=0;le<L.length;++le)L[le].remove(this);if((0,O.m)(ee)){V&&(this._unsubscribe=void 0);try{ee.call(this)}catch(le){ne=le instanceof oe?ye(le.errors):[le]}}if((0,c.k)(Q)){let le=-1,Te=Q.length;for(;++le<Te;){const ge=Q[le];if((0,Z.K)(ge))try{ge.unsubscribe()}catch(Y){ne=ne||[],Y instanceof oe?ne=ne.concat(ye(Y.errors)):ne.push(Y)}}}if(ne)throw new oe(ne)}add(ne){let L=ne;if(!ne)return se.EMPTY;switch(typeof ne){case"function":L=new se(ne);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof se)){const Q=L;L=new se,L._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:V}=L;if(null===V)L._parentOrParents=this;else if(V instanceof se){if(V===this)return L;L._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return L;V.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[L]:ee.push(L),L}remove(ne){const L=this._subscriptions;if(L){const V=L.indexOf(ne);-1!==V&&L.splice(V,1)}}}var ue;function ye(ue){return ue.reduce((ne,L)=>ne.concat(L instanceof oe?L.errors:L),[])}se.EMPTY=((ue=new se).closed=!0,ue)},2494:(et,De,F)=>{"use strict";F.d(De,{v:()=>Z});let c=!1;const Z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=O},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(et,De,F)=>{"use strict";F.d(De,{IY:()=>ae,Ds:()=>se,ft:()=>ue});var c=F(7393),Z=F(7574),O=F(7444);class ae extends c.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends c.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ue(ne,L){if(L.closed)return;if(ne instanceof Z.y)return ne.subscribe(L);let V;try{V=(0,O.s)(ne)(L)}catch(ee){L.error(ee)}return V}},2441:(et,De,F)=>{"use strict";F.d(De,{c:()=>oe,N:()=>se});var c=F(9765),Z=F(7574),O=F(5319),ae=F(1307);class oe extends Z.y{constructor(V,ee){super(),this.source=V,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new O.w,V.add(this.source.subscribe(new ye(this.getSubject(),this))),V.closed&&(this._connection=null,V=O.w.EMPTY)),V}refCount(){return(0,ae.x)()(this)}}const se=(()=>{const L=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ye extends c.Yc{constructor(V,ee){super(V),this.connectable=ee}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const ee=V._connection;V._refCount=0,V._subject=null,V._connection=null,ee&&ee.unsubscribe()}}}},9193:(et,De,F)=>{"use strict";F.d(De,{E:()=>Z,c:()=>O});var c=F(7574);const Z=new c.y(oe=>oe.complete());function O(oe){return oe?function(oe){return new c.y(se=>oe.schedule(()=>se.complete()))}(oe):Z}},4402:(et,De,F)=>{"use strict";F.d(De,{D:()=>Te});var c=F(7574),Z=F(7444),O=F(5319),ae=F(6554),ye=F(4087),ue=F(377),V=F(4072),ee=F(9489);function Te(ge,Y){return Y?function(ge,Y){if(null!=ge){if(function(ge){return ge&&"function"==typeof ge[ae.L]}(ge))return function(ge,Y){return new c.y(ve=>{const me=new O.w;return me.add(Y.schedule(()=>{const pe=ge[ae.L]();me.add(pe.subscribe({next(Ne){me.add(Y.schedule(()=>ve.next(Ne)))},error(Ne){me.add(Y.schedule(()=>ve.error(Ne)))},complete(){me.add(Y.schedule(()=>ve.complete()))}}))})),me})}(ge,Y);if((0,V.t)(ge))return function(ge,Y){return new c.y(ve=>{const me=new O.w;return me.add(Y.schedule(()=>ge.then(pe=>{me.add(Y.schedule(()=>{ve.next(pe),me.add(Y.schedule(()=>ve.complete()))}))},pe=>{me.add(Y.schedule(()=>ve.error(pe)))}))),me})}(ge,Y);if((0,ee.z)(ge))return(0,ye.r)(ge,Y);if(function(ge){return ge&&"function"==typeof ge[ue.hZ]}(ge)||"string"==typeof ge)return function(ge,Y){if(!ge)throw new Error("Iterable cannot be null");return new c.y(ve=>{const me=new O.w;let pe;return me.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),me.add(Y.schedule(()=>{pe=ge[ue.hZ](),me.add(Y.schedule(function(){if(ve.closed)return;let Ne,ze;try{const Ve=pe.next();Ne=Ve.value,ze=Ve.done}catch(Ve){return void ve.error(Ve)}ze?ve.complete():(ve.next(Ne),this.schedule())}))})),me})}(ge,Y)}throw new TypeError((null!==ge&&typeof ge||ge)+" is not observable")}(ge,Y):ge instanceof c.y?ge:new c.y((0,Z.s)(ge))}},6693:(et,De,F)=>{"use strict";F.d(De,{n:()=>ae});var c=F(7574),Z=F(5015),O=F(4087);function ae(oe,se){return se?(0,O.r)(oe,se):new c.y((0,Z.V)(oe))}},6682:(et,De,F)=>{"use strict";F.d(De,{T:()=>oe});var c=F(7574),Z=F(4869),O=F(3282),ae=F(6693);function oe(...se){let ye=Number.POSITIVE_INFINITY,ue=null,ne=se[se.length-1];return(0,Z.K)(ne)?(ue=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(ye=se.pop())):"number"==typeof ne&&(ye=se.pop()),null===ue&&1===se.length&&se[0]instanceof c.y?se[0]:(0,O.J)(ye)((0,ae.n)(se,ue))}},5917:(et,De,F)=>{"use strict";F.d(De,{of:()=>ae});var c=F(4869),Z=F(6693),O=F(4087);function ae(...oe){let se=oe[oe.length-1];return(0,c.K)(se)?(oe.pop(),(0,O.r)(oe,se)):(0,Z.n)(oe)}},8002:(et,De,F)=>{"use strict";F.d(De,{U:()=>Z});var c=F(7393);function Z(oe,se){return function(ue){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new O(oe,se))}}class O{constructor(se,ye){this.project=se,this.thisArg=ye}call(se,ye){return ye.subscribe(new ae(se,this.project,this.thisArg))}}class ae extends c.L{constructor(se,ye,ue){super(se),this.project=ye,this.count=0,this.thisArg=ue||this}_next(se){let ye;try{ye=this.project.call(this.thisArg,se,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(ye)}}},3282:(et,De,F)=>{"use strict";F.d(De,{J:()=>O});var c=F(9773),Z=F(4487);function O(ae=Number.POSITIVE_INFINITY){return(0,c.zg)(Z.y,ae)}},9773:(et,De,F)=>{"use strict";F.d(De,{zg:()=>ae});var c=F(8002),Z=F(4402),O=F(5345);function ae(ue,ne,L=Number.POSITIVE_INFINITY){return"function"==typeof ne?V=>V.pipe(ae((ee,Q)=>(0,Z.D)(ue(ee,Q)).pipe((0,c.U)((le,Te)=>ne(ee,le,Q,Te))),L)):("number"==typeof ne&&(L=ne),V=>V.lift(new oe(ue,L)))}class oe{constructor(ne,L=Number.POSITIVE_INFINITY){this.project=ne,this.concurrent=L}call(ne,L){return L.subscribe(new se(ne,this.project,this.concurrent))}}class se extends O.Ds{constructor(ne,L,V=Number.POSITIVE_INFINITY){super(ne),this.project=L,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ne){this.active<this.concurrent?this._tryNext(ne):this.buffer.push(ne)}_tryNext(ne){let L;const V=this.index++;try{L=this.project(ne,V)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(L)}_innerSub(ne){const L=new O.IY(this),V=this.destination;V.add(L);const ee=(0,O.ft)(ne,L);ee!==L&&V.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ne){this.destination.next(ne)}notifyComplete(){const ne=this.buffer;this.active--,ne.length>0?this._next(ne.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(et,De,F)=>{"use strict";F.d(De,{ht:()=>V,QV:()=>ne});var c=F(7393),Z=F(9193),O=F(5917),ae=F(7574);class ue{constructor(le,Te,ge){this.kind=le,this.value=Te,this.error=ge,this.hasValue="N"===le}observe(le){switch(this.kind){case"N":return le.next&&le.next(this.value);case"E":return le.error&&le.error(this.error);case"C":return le.complete&&le.complete()}}do(le,Te,ge){switch(this.kind){case"N":return le&&le(this.value);case"E":return Te&&Te(this.error);case"C":return ge&&ge()}}accept(le,Te,ge){return le&&"function"==typeof le.next?this.observe(le):this.do(le,Te,ge)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return Q=this.error,new ae.y(Te=>Te.error(Q));case"C":return(0,Z.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(le){return void 0!==le?new ue("N",le):ue.undefinedValueNotification}static createError(le){return new ue("E",void 0,le)}static createComplete(){return ue.completeNotification}}function ne(Q,le=0){return function(ge){return ge.lift(new L(Q,le))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class L{constructor(le,Te=0){this.scheduler=le,this.delay=Te}call(le,Te){return Te.subscribe(new V(le,this.scheduler,this.delay))}}class V extends c.L{constructor(le,Te,ge=0){super(le),this.scheduler=Te,this.delay=ge}static dispatch(le){const{notification:Te,destination:ge}=le;Te.observe(ge),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new ee(le,this.destination)))}_next(le){this.scheduleMessage(ue.createNext(le))}_error(le){this.scheduleMessage(ue.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class ee{constructor(le,Te){this.notification=le,this.destination=Te}}},1307:(et,De,F)=>{"use strict";F.d(De,{x:()=>Z});var c=F(7393);function Z(){return function(se){return se.lift(new O(se))}}class O{constructor(se){this.connectable=se}call(se,ye){const{connectable:ue}=this;ue._refCount++;const ne=new ae(se,ue),L=ye.subscribe(ne);return ne.closed||(ne.connection=ue.connect()),L}}class ae extends c.L{constructor(se,ye){super(se),this.connectable=ye}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const ye=se._refCount;if(ye<=0)return void(this.connection=null);if(se._refCount=ye-1,ye>1)return void(this.connection=null);const{connection:ue}=this,ne=se._connection;this.connection=null,ne&&(!ue||ne===ue)&&ne.unsubscribe()}}},3101:(et,De,F)=>{"use strict";F.d(De,{R:()=>Y});var c=F(7574);let Z=1;const O=Promise.resolve(),ae={};function oe(me){return me in ae&&(delete ae[me],!0)}const se={setImmediate(me){const pe=Z++;return ae[pe]=!0,O.then(()=>oe(pe)&&me()),pe},clearImmediate(me){oe(me)}};var ue=F(6465),L=F(6102);const Q=new class extends L.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:Ne}=this;let ze,Ve=-1,Pt=Ne.length;pe=pe||Ne.shift();do{if(ze=pe.execute(pe.state,pe.delay))break}while(++Ve<Pt&&(pe=Ne.shift()));if(this.active=!1,ze){for(;++Ve<Pt&&(pe=Ne.shift());)pe.unsubscribe();throw ze}}}(class extends ue.o{constructor(pe,Ne){super(pe,Ne),this.scheduler=pe,this.work=Ne}requestAsyncId(pe,Ne,ze=0){return null!==ze&&ze>0?super.requestAsyncId(pe,Ne,ze):(pe.actions.push(this),pe.scheduled||(pe.scheduled=se.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,Ne,ze=0){if(null!==ze&&ze>0||null===ze&&this.delay>0)return super.recycleAsyncId(pe,Ne,ze);0===pe.actions.length&&(se.clearImmediate(Ne),pe.scheduled=void 0)}});var le=F(9796);class ge extends c.y{constructor(pe,Ne=0,ze=Q){var me;super(),this.source=pe,this.delayTime=Ne,this.scheduler=ze,(!(!(0,le.k)(me=Ne)&&me-parseFloat(me)+1>=0)||Ne<0)&&(this.delayTime=0),(!ze||"function"!=typeof ze.schedule)&&(this.scheduler=Q)}static create(pe,Ne=0,ze=Q){return new ge(pe,Ne,ze)}static dispatch(pe){const{source:Ne,subscriber:ze}=pe;return this.add(Ne.subscribe(ze))}_subscribe(pe){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function Y(me,pe=0){return function(ze){return ze.lift(new ve(me,pe))}}class ve{constructor(pe,Ne){this.scheduler=pe,this.delay=Ne}call(pe,Ne){return new ge(Ne,this.delay,this.scheduler).subscribe(pe)}}},3342:(et,De,F)=>{"use strict";F.d(De,{b:()=>ae});var c=F(7393);function Z(){}var O=F(9105);function ae(ye,ue,ne){return function(V){return V.lift(new oe(ye,ue,ne))}}class oe{constructor(ue,ne,L){this.nextOrObserver=ue,this.error=ne,this.complete=L}call(ue,ne){return ne.subscribe(new se(ue,this.nextOrObserver,this.error,this.complete))}}class se extends c.L{constructor(ue,ne,L,V){super(ue),this._tapNext=Z,this._tapError=Z,this._tapComplete=Z,this._tapError=L||Z,this._tapComplete=V||Z,(0,O.m)(ne)?(this._context=this,this._tapNext=ne):ne&&(this._context=ne,this._tapNext=ne.next||Z,this._tapError=ne.error||Z,this._tapComplete=ne.complete||Z)}_next(ue){try{this._tapNext.call(this._context,ue)}catch(ne){return void this.destination.error(ne)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch(ne){return void this.destination.error(ne)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(et,De,F)=>{"use strict";F.d(De,{r:()=>O});var c=F(7574),Z=F(5319);function O(ae,oe){return new c.y(se=>{const ye=new Z.w;let ue=0;return ye.add(oe.schedule(function(){ue!==ae.length?(se.next(ae[ue++]),se.closed||ye.add(this.schedule())):se.complete()})),ye})}},6465:(et,De,F)=>{"use strict";F.d(De,{o:()=>O});var c=F(5319);class Z extends c.w{constructor(oe,se){super()}schedule(oe,se=0){return this}}class O extends Z{constructor(oe,se){super(oe,se),this.scheduler=oe,this.work=se,this.pending=!1}schedule(oe,se=0){if(this.closed)return this;this.state=oe;const ye=this.id,ue=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(ue,ye,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(ue,this.id,se),this}requestAsyncId(oe,se,ye=0){return setInterval(oe.flush.bind(oe,this),ye)}recycleAsyncId(oe,se,ye=0){if(null!==ye&&this.delay===ye&&!1===this.pending)return se;clearInterval(se)}execute(oe,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(oe,se);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,se){let ue,ye=!1;try{this.work(oe)}catch(ne){ye=!0,ue=!!ne&&ne||new Error(ne)}if(ye)return this.unsubscribe(),ue}_unsubscribe(){const oe=this.id,se=this.scheduler,ye=se.actions,ue=ye.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&ye.splice(ue,1),null!=oe&&(this.id=this.recycleAsyncId(se,oe,null)),this.delay=null}}},6102:(et,De,F)=>{"use strict";F.d(De,{v:()=>Z});let c=(()=>{class O{constructor(oe,se=O.now){this.SchedulerAction=oe,this.now=se}schedule(oe,se=0,ye){return new this.SchedulerAction(this,oe).schedule(ye,se)}}return O.now=()=>Date.now(),O})();class Z extends c{constructor(ae,oe=c.now){super(ae,()=>Z.delegate&&Z.delegate!==this?Z.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,oe=0,se){return Z.delegate&&Z.delegate!==this?Z.delegate.schedule(ae,oe,se):super.schedule(ae,oe,se)}flush(ae){const{actions:oe}=this;if(this.active)return void oe.push(ae);let se;this.active=!0;do{if(se=ae.execute(ae.state,ae.delay))break}while(ae=oe.shift());if(this.active=!1,se){for(;ae=oe.shift();)ae.unsubscribe();throw se}}}},3637:(et,De,F)=>{"use strict";F.d(De,{z:()=>O,P:()=>ae});var c=F(6465);const O=new(F(6102).v)(c.o),ae=O},7771:(et,De,F)=>{"use strict";F.d(De,{c:()=>se,N:()=>oe});var c=F(6465),O=F(6102);const oe=new class extends O.v{}(class extends c.o{constructor(ue,ne){super(ue,ne),this.scheduler=ue,this.work=ne}schedule(ue,ne=0){return ne>0?super.schedule(ue,ne):(this.delay=ne,this.state=ue,this.scheduler.flush(this),this)}execute(ue,ne){return ne>0||this.closed?super.execute(ue,ne):this._execute(ue,ne)}requestAsyncId(ue,ne,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ue,ne,L):ue.flush(this)}}),se=oe},377:(et,De,F)=>{"use strict";F.d(De,{hZ:()=>Z});const Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,De,F)=>{"use strict";F.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,De,F)=>{"use strict";F.d(De,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,De,F)=>{"use strict";F.d(De,{N:()=>Z});const Z=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(et,De,F)=>{"use strict";function c(Z){setTimeout(()=>{throw Z},0)}F.d(De,{z:()=>c})},4487:(et,De,F)=>{"use strict";function c(Z){return Z}F.d(De,{y:()=>c})},9796:(et,De,F)=>{"use strict";F.d(De,{k:()=>c});const c=Array.isArray||(Z=>Z&&"number"==typeof Z.length)},9489:(et,De,F)=>{"use strict";F.d(De,{z:()=>c});const c=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},9105:(et,De,F)=>{"use strict";function c(Z){return"function"==typeof Z}F.d(De,{m:()=>c})},1555:(et,De,F)=>{"use strict";function c(Z){return null!==Z&&"object"==typeof Z}F.d(De,{K:()=>c})},4072:(et,De,F)=>{"use strict";function c(Z){return!!Z&&"function"!=typeof Z.subscribe&&"function"==typeof Z.then}F.d(De,{t:()=>c})},4869:(et,De,F)=>{"use strict";function c(Z){return Z&&"function"==typeof Z.schedule}F.d(De,{K:()=>c})},7444:(et,De,F)=>{"use strict";F.d(De,{s:()=>V});var c=F(5015),Z=F(4449),ae=F(377),se=F(6554),ue=F(9489),ne=F(4072),L=F(1555);const V=ee=>{if(ee&&"function"==typeof ee[se.L])return(ee=>Q=>{const le=ee[se.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(Q)})(ee);if((0,ue.z)(ee))return(0,c.V)(ee);if((0,ne.t)(ee))return(ee=>Q=>(ee.then(le=>{Q.closed||(Q.next(le),Q.complete())},le=>Q.error(le)).then(null,Z.z),Q))(ee);if(ee&&"function"==typeof ee[ae.hZ])return(ee=>Q=>{const le=ee[ae.hZ]();for(;;){let Te;try{Te=le.next()}catch(ge){return Q.error(ge),Q}if(Te.done){Q.complete();break}if(Q.next(Te.value),Q.closed)break}return"function"==typeof le.return&&Q.add(()=>{le.return&&le.return()}),Q})(ee);{const le=`You provided ${(0,L.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},5015:(et,De,F)=>{"use strict";F.d(De,{V:()=>c});const c=Z=>O=>{for(let ae=0,oe=Z.length;ae<oe&&!O.closed;ae++)O.next(Z[ae]);O.complete()}},1746:(et,De,F)=>{"use strict";var c=F(3018);let Z=null;function O(){return Z}const ye=new c.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,c.Yz7)({factory:ne,token:n,providedIn:"platform"}),n})();function ne(){return(0,c.LFG)(V)}const L=new c.OlP("Location Initialized");let V=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){ee()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){ee()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye))},n.\u0275prov=(0,c.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Q(){return new V((0,c.LFG)(ye))}function le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ge(n){return n&&"?"!==n[0]?"?"+n:n}let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,c.Yz7)({factory:ve,token:n,providedIn:"root"}),n})();function ve(n){const e=(0,c.LFG)(ye).location;return new pe((0,c.LFG)(ue),e&&e.origin||"")}const me=new c.OlP("appBaseHref");let pe=(()=>{class n extends Y{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return le(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ge(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,d){const f=this.prepareExternalUrl(a+ge(d));this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,d){const f=this.prepareExternalUrl(a+ge(d));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends Y{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=le(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,d){let f=this.prepareExternalUrl(a+ge(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,a,d){let f=this.prepareExternalUrl(a+ge(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ue),c.LFG(me,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(ft(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ge(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ge(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ge(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Y),c.LFG(ue))},n.normalizeQueryParams=ge,n.joinWithSlash=le,n.stripTrailingSlash=Te,n.\u0275prov=(0,c.Yz7)({factory:Ve,token:n,providedIn:"root"}),n})();function Ve(){return new ze((0,c.LFG)(Y),(0,c.LFG)(ue))}function ft(n){return n.replace(/\/index.html$/,"")}var It=(()=>((It=It||{})[It.Zero=0]="Zero",It[It.One=1]="One",It[It.Two=2]="Two",It[It.Few=3]="Few",It[It.Many=4]="Many",It[It.Other=5]="Other",It))();const Re=c.kL8;class Cr{}let Kn=(()=>{class n extends Cr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Re(r||this.locale)(t)){case It.Zero:return"zero";case It.One:return"one";case It.Two:return"two";case It.Few:return"few";case It.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class vu{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,d,f)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new vu(null,this._ngForOf,-1,-1),null===f?void 0:f),E=new ir(a,y);r.push(E)}else if(null==f)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const y=this._viewContainer.get(d);this._viewContainer.move(y,f);const E=new ir(a,y);r.push(E)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,d=this._viewContainer.length;a<d;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=d,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class ir{constructor(e,t){this.record=e,this.view=t}}let hr=(()=>{class n{constructor(t,r,a){this._ngEl=t,this._differs=r,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[a,d]=t.split(".");null!=(r=null!=r&&d?`${r}${d}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,a,r):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:Cr,useClass:Kn}]}),n})();function bo(n){return"server"===n}let Pa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Qc((0,c.LFG)(ye),window)}),n})();class Qc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const d=a.shadowRoot;if(d){const f=d.getElementById(e)||d.querySelector(`[name="${e}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(r-d[0],a-d[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ji(this.window.history)||Ji(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ji(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Gs,Z||(Z=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(kr=kr||document.querySelector("base"),kr?kr.getAttribute("href"):null);return null==t?null:function(n){Cs=Cs||document.createElement("a"),Cs.setAttribute("href",n);const e=Cs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,d]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(d)}return null}(document.cookie,e)}}let Cs,kr=null;const Xc=new c.OlP("TRANSITION_ID"),Sf=[{provide:c.ip1,useFactory:function(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=O(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)r.remove(a[d])})}},deps:[Xc,ye,c.zs3],multi:!0}];class vt{static init(){(0,c.VLi)(new vt)}addToWindow(e){c.dqk.getAngularTestability=(r,a=!0)=>{const d=e.findTestabilityInTree(r,a);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const a=c.dqk.getAllAngularTestabilities();let d=a.length,f=!1;const y=function(E){f=f||E,d--,0==d&&r(f)};a.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const es=new c.OlP("EventManagerPlugins");let Eo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let d=0;d<a.length;d++){const f=a[d];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(es),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=O().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let Fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),zs=(()=>{class n extends Fa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(d=>{const f=this._doc.createElement("style");f.textContent=d,a.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(xu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xu))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function xu(n){O().remove(n)}const Ae={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ot=/%COMP%/g;function ta(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?ta(n,a,t):(a=a.replace(Ot,n),t.push(a))}return t}function Mu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ys=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Vi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new ns(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case c.ifc.ShadowDom:return new Is(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=ta(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Eo),c.LFG(zs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Vi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ae[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const d=Ae[a];d?e.setAttributeNS(d,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Ae[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,a&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Mu(r)):this.eventManager.addEventListener(e,t,Mu(r))}}class ns extends Vi{constructor(e,t,r,a){super(e),this.component=r;const d=ta(a+"-"+r.id,r.styles,[]);t.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(Ot,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ot,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Is extends Vi{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ta(a.id,a.styles,[]);for(let f=0;f<d.length;f++){const y=document.createElement("style");y.textContent=d[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Va=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const To=["alt","control","meta","shift"],ra={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},il={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ui=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const d=n.parseEventName(r),f=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,d.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(r.pop());let f="";if(To.forEach(E=>{const A=r.indexOf(E);A>-1&&(r.splice(A,1),f+=E+".")}),f+=d,0!=r.length||0===d.length)return null;const y={};return y.domEventName=a,y.fullKey=f,y}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&il.hasOwnProperty(e)&&(e=il[e]))}return ra[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),To.forEach(d=>{d!=a&&Tr[d](t)&&(r+=d+".")}),r+=a,r}static eventCallback(t,r,a){return d=>{n.getEventFullKey(d)===t&&a.runGuarded(()=>r(d))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ye))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Gs.makeCurrent(),vt.init()},multi:!0},{provide:ye,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Qs=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:es,useClass:Va,multi:!0,deps:[ye,c.R0b,c.Lbi]},{provide:es,useClass:Ui,multi:!0,deps:[ye]},[],{provide:Ys,useClass:Ys,deps:[Eo,zs,c.AFp]},{provide:c.FYo,useExisting:Ys},{provide:Fa,useExisting:zs},{provide:zs,useClass:zs,deps:[ye]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Eo,useClass:Eo,deps:[es,c.R0b]},{provide:class{},useClass:xf,deps:[]},[]];let Ba=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Xc,useExisting:c.AFp},Sf]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Qs,imports:[vd,c.hGG]}),n})();"undefined"!=typeof window&&window;var un=F(4402),Xe=F(5917),As=F(9765),sa=F(7971);class gr extends As.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new sa.N;return this._value}next(e){super.next(this._value=e)}}var ju=F(4869),Ss=F(9796),Qn=F(7393);class hl extends Qn.L{notifyNext(e,t,r,a,d){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ha extends Qn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Sd=F(7444),Kt=F(7574);function xd(n,e,t,r,a=new Ha(n,t,r)){if(!a.closed)return e instanceof Kt.y?e.subscribe(a):(0,Sd.s)(e)(a)}var Ga=F(6693);const Rd={};class Wa{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new fl(e,this.resultSelector))}}class fl extends hl{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Rd),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(xd(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,f=this.toRespond?a[r]===Rd?--this.toRespond:this.toRespond:0;a[r]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const xo=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var vi=F(3282);function eo(...n){return(0,vi.J)(1)((0,Xe.of)(...n))}var ni=F(9193);function Ro(n){return new Kt.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,un.D)(t):(0,ni.c)()).subscribe(e)})}var rs=F(2441),pt=F(8002),Zi=F(5345);function Jn(n,e){return"function"==typeof e?t=>t.pipe(Jn((r,a)=>(0,un.D)(n(r,a)).pipe((0,pt.U)((d,f)=>e(r,d,a,f))))):t=>t.lift(new to(n))}class to{constructor(e){this.project=e}call(e,t){return t.subscribe(new Pf(e,this.project))}}class Pf extends Zi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Zi.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,Zi.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const pl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function kf(n){return e=>0===n?(0,ni.c)():e.lift(new Nd(n))}class Nd{constructor(e){if(this.total=e,this.total<0)throw new pl}call(e,t){return t.subscribe(new On(e,this.total))}}class On extends Qn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function qu(...n){const e=n[n.length-1];return(0,ju.K)(e)?(n.pop(),t=>eo(n,t,e)):t=>eo(n,t)}function Mo(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Od(n,e,t))}}class Od{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Wg(e,this.accumulator,this.seed,this.hasSeed))}}class Wg extends Qn.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}function is(n,e){return function(r){return r.lift(new gl(n,e))}}class gl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ff(e,this.predicate,this.thisArg))}}class Ff extends Qn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function no(n){return function(t){const r=new $u(n),a=t.lift(r);return r.caught=a}}class $u{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Pd(e,this.selector,this.caught))}}class Pd extends Zi.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const r=new Zi.IY(this);this.add(r);const a=(0,Zi.ft)(t,r);a!==r&&this.add(a)}}}var Ir=F(9773);function ro(n,e){return(0,Ir.zg)(n,e,1)}function ml(n){return function(t){return 0===n?(0,ni.c)():t.lift(new sr(n))}}class sr{constructor(e){if(this.total=e,this.total<0)throw new pl}call(e,t){return t.subscribe(new Hu(e,this.total))}}class Hu extends Qn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let d=0;d<r;d++){const f=t++%r;e.next(a[f])}}e.complete()}}function Ka(n=ri){return e=>e.lift(new Ya(n))}class Ya{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new kd(e,this.errorFactory))}}class kd extends Qn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ri(){return new xo}function Bi(n=null){return e=>e.lift(new ss(n))}class ss{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new No(e,this.defaultValue))}}class No extends Qn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var mr=F(4487);function io(n,e){const t=arguments.length>=2;return r=>r.pipe(n?is((a,d)=>n(a,d,r)):mr.y,kf(1),t?Bi(e):Ka(()=>new xo))}var Kr=F(3342),Ld=F(1307),Lf=F(5319);function Gu(n){return e=>e.lift(new C(n))}class C{constructor(e){this.callback=e}call(e,t){return t.subscribe(new I(e,this.callback))}}class I extends Qn.L{constructor(e,t){super(e),this.add(new Lf.w(t))}}class x{constructor(e,t){this.id=e,this.url=t}}class U extends x{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class J extends x{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class de extends x{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends x{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ke extends x{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends x{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends x{constructor(e,t,r,a,d){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gt extends x{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends x{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Vf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oa(n){return new Vf(n)}const Vd="ngNavigationCancelingError";function Ja(n){const e=Error("NavigationCancelingError: "+n);return e[Vd]=!0,e}function Uf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let d=0;d<r.length;d++){const f=r[d],y=n[d];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function Rs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let d=0;d<t.length;d++)if(a=t[d],!zg(n[a],e[a]))return!1;return!0}function zg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,d)=>r[d]===a)}return n===e}function Po(n){return Array.prototype.concat.apply([],n)}function Wu(n){return n.length>0?n[n.length-1]:null}function or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ms(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,un.D)(Promise.resolve(n)):(0,Xe.of)(n)}const ua={exact:function Kg(n,e,t){if(!ca(n.segments,e.segments)||!Ku(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Kg(n.children[r],e.children[r],t))return!1;return!0},subset:zu},so={exact:function(n,e){return Rs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zg(n[t],e[t]))},ignored:()=>!0};function _l(n,e,t){return ua[t.paths](n.root,e.root,t.matrixParams)&&so[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zu(n,e,t){return Xa(n,e,e.segments,t)}function Xa(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!ca(a,t)||e.hasChildren()||!Ku(a,t,r))}if(n.segments.length===t.length){if(!ca(n.segments,t)||!Ku(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!zu(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),d=t.slice(n.segments.length);return!!(ca(n.segments,a)&&Ku(n.segments,a,r)&&n.children[Dt])&&Xa(n.children[Dt],e,d,r)}}function Ku(n,e,t){return e.every((r,a)=>so[t](n[a].parameters,r.parameters))}class ko{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return x0.serialize(this)}}class Bt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}}class Ns{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oa(this.parameters)),this._parameterMap}toString(){return Zy(this)}}function ca(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class yl{}class Zd{parse(e){const t=new jy(e);return new ko(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${vl(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${eu(t)}=${eu(a)}`).join("&"):`${eu(t)}=${eu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const x0=new Zd;function Bd(n){return n.segments.map(e=>Zy(e)).join("/")}function vl(n,e){if(!n.hasChildren())return Bd(n);if(e){const t=n.children[Dt]?vl(n.children[Dt],!1):"",r=[];return or(n.children,(a,d)=>{d!==Dt&&r.push(`${d}:${vl(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return or(n.children,(r,a)=>{a===Dt&&(t=t.concat(e(r,a)))}),or(n.children,(r,a)=>{a!==Dt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Dt?[vl(n.children[Dt],!1)]:[`${a}:${vl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Bd(n)}/${t[0]}`:`${Bd(n)}/(${t.join("//")})`}}function jd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(n){return jd(n).replace(/%3B/gi,";")}function Fo(n){return jd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(n){return decodeURIComponent(n)}function bl(n){return qd(n.replace(/\+/g,"%20"))}function Zy(n){return`${Fo(n.path)}${function(n){return Object.keys(n).map(e=>`;${Fo(e)}=${Fo(n[e])}`).join("")}(n.parameters)}`}const Yg=/^[^\/()?;=#]+/;function wl(n){const e=n.match(Yg);return e?e[0]:""}const Qg=/^[^=?&#]+/,By=/^[^?&#]+/;class jy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new Bt(e,t)),r}parseSegment(){const e=wl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ns(qd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=wl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=wl(this.remaining);a&&(r=a,this.capture(r))}e[qd(t)]=qd(r)}parseQueryParam(e){const t=function(n){const e=n.match(Qg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(By);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=bl(t),d=bl(r);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(d)}else e[a]=d}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wl(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;r.indexOf(":")>-1?(d=r.substr(0,r.indexOf(":")),this.capture(d),this.capture(":")):e&&(d=Dt);const f=this.parseChildren();t[d]=1===Object.keys(f).length?f[Dt]:new Bt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Jg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=qf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=qf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Os(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Os(e,this._root).map(t=>t.value)}}function qf(n,e){if(n===e.value)return e;for(const t of e.children){const r=qf(n,t);if(r)return r}return null}function Os(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Os(n,t);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Xg extends Jg{constructor(e,t){super(e),this.snapshot=t,Gd(this,e)}toString(){return this.snapshot.toString()}}function em(n,e){const t=function(n,e){const f=new Ju([],{},{},"",{},Dt,e,null,n.root,-1,{});return new nm("",new wi(f,[]))}(n,e),r=new gr([new Ns("",{})]),a=new gr({}),d=new gr({}),f=new gr({}),y=new gr(""),E=new Qu(r,a,f,y,d,Dt,e,t.root);return E.snapshot=t.root,new Xg(new wi(E,[]),t)}class Qu{constructor(e,t,r,a,d,f,y,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=f,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],d=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(d.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ju{constructor(e,t,r,a,d,f,y,E,A,M,k){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=d,this.outlet=f,this.component=y,this.routeConfig=E,this._urlSegment=A,this._lastPathIndex=M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nm extends Jg{constructor(e,t){super(t),this.url=e,Gd(this,t)}toString(){return rm(this._root)}}function Gd(n,e){e.value._routerState=n,e.children.forEach(t=>Gd(n,t))}function rm(n){const e=n.children.length>0?` { ${n.children.map(rm).join(", ")} } `:"";return`${n.value}${e}`}function Wd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $f(n,e){return Rs(n.params,e.params)&&function(n,e){return ca(n,e)&&n.every((t,r)=>Rs(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||$f(n.parent,e.parent))}function ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return ec(n,r,a);return ec(n,r)})}(n,e,t);return new wi(r,a)}{if(n.shouldAttach(e.value)){const d=n.retrieve(e.value);if(null!==d){const f=d.route;return Ps(e,f),f}}const r=function(n){return new Qu(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(d=>ec(n,d));return new wi(r,a)}}function Ps(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Ps(n.children[t],e.children[t])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function m(n,e,t,r,a){let d={};return r&&or(r,(f,y)=>{d[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new ko(t.root===n?e:w(t.root,n,e),d,a)}function w(n,e,t){const r={};return or(n.children,(a,d)=>{r[d]=a===e?t:w(a,e,t)}),new Bt(n.segments,r)}class S{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&v(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(p);if(a&&a!==Wu(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function at(n,e,t){if(n||(n=new Bt([],{})),0===n.segments.length&&n.hasChildren())return Wt(n,e,t);const r=function(n,e,t){let r=0,a=e;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return d;const f=n.segments[a],y=t[r];if(p(y))break;const E=`${y}`,A=r<t.length-1?t[r+1]:null;if(a>0&&void 0===E)break;if(E&&A&&"object"==typeof A&&void 0===A.outlets){if(!Cl(E,A,f))return d;r+=2}else{if(!Cl(E,{},f))return d;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const d=new Bt(n.segments.slice(0,r.pathIndex),{});return d.children[Dt]=new Bt(n.segments.slice(r.pathIndex),n.children),Wt(d,0,a)}return r.match&&0===a.length?new Bt(n.segments,{}):r.match&&!n.hasChildren()?Vr(n,e,t):r.match?Wt(n,0,a):Vr(n,e,t)}function Wt(n,e,t){if(0===t.length)return new Bt(n.segments,{});{const r=function(n){return p(n[0])?n[0].outlets:{[Dt]:n}}(t),a={};return or(r,(d,f)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[f]=at(n.children[f],e,d))}),or(n.children,(d,f)=>{void 0===r[f]&&(a[f]=d)}),new Bt(n.segments,a)}}function Vr(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const d=t[a];if(p(d)){const E=Lo(d.outlets);return new Bt(r,E)}if(0===a&&v(t[0])){r.push(new Ns(n.segments[e].path,la(t[0]))),a++;continue}const f=p(d)?d.outlets[Dt]:`${d}`,y=a<t.length-1?t[a+1]:null;f&&y&&v(y)?(r.push(new Ns(f,la(y))),a+=2):(r.push(new Ns(f,{})),a++)}return new Bt(r,{})}function Lo(n){const e={};return or(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Vr(new Bt([],{}),0,t))}),e}function la(n){const e={};return or(n,(t,r)=>e[r]=`${t}`),e}function Cl(n,e,t){return n==t.path&&Rs(e,t.parameters)}class sm{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=nu(t);e.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,a[f],r),delete a[f]}),or(a,(d,f)=>{this.deactivateRouteAndItsChildren(d,r)})}deactivateRoutes(e,t,r){const a=e.value,d=t?t.value:null;if(a===d)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else d&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,d=nu(e);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=nu(t);e.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],r),this.forwardEvent(new Oo(d.value.snapshot))}),e.children.length&&this.forwardEvent(new Qa(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,d=t?t.value:null;if(Wd(a),a===d)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),Dn(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),E=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=E,f.outlet&&f.outlet.activateWith(a,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}function Dn(n){Wd(n.value),n.children.forEach(Dn)}class Kd{constructor(e,t){this.routes=e,this.module=t}}function as(n){return"function"==typeof n}function ru(n){return n instanceof ko}const am=Symbol("INITIAL_VALUE");function um(){return Jn(n=>function(...n){let e,t;return(0,ju.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ss.k)(n[0])&&(n=n[0]),(0,Ga.n)(n,t).lift(new Wa(e))}(n.map(e=>e.pipe(kf(1),qu(am)))).pipe(Mo((e,t)=>{let r=!1;return t.reduce((a,d,f)=>a!==am?a:(d===am&&(r=!0),r||!1!==d&&f!==t.length-1&&!ru(d)?a:d),e)},am),is(e=>e!==am),(0,pt.U)(e=>ru(e)?e:!0===e),kf(1)))}let Yd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:function(){return[Em]},encapsulation:2}),n})();function Ei(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Gy(r,R0(e,r))}}function Gy(n,e){n.children&&Ei(n.children,e)}function R0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cm(n){const e=n.children&&n.children.map(cm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Yd),t}function An(n){return n.outlet||Dt}function Qd(n,e){const t=n.filter(r=>An(r)===e);return t.push(...n.filter(r=>An(r)!==e)),t}const lm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function dm(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},lm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(e.matcher||Uf)(t,n,e);if(!d)return Object.assign({},lm);const f={};or(d.posParams,(E,A)=>{f[A]=E.path});const y=d.consumed.length>0?Object.assign(Object.assign({},f),d.consumed[d.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:y,positionalParamSegments:null!==(r=d.posParams)&&void 0!==r?r:{}}}function hm(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Wf(n,e,r)&&An(r)!==Dt)}(n,t,r)){const f=new Bt(e,function(n,e,t,r){const a={};a[Dt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const d of t)if(""===d.path&&An(d)!==Dt){const f=new Bt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[An(d)]=f}return a}(n,e,r,new Bt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Wf(n,e,r))}(n,t,r)){const f=new Bt(n.segments,function(n,e,t,r,a,d){const f={};for(const y of r)if(Wf(n,t,y)&&!a[An(y)]){const E=new Bt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===d?n.segments.length:e.length,f[An(y)]=E}return Object.assign(Object.assign({},a),f)}(n,e,t,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const d=new Bt(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}function Wf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function O0(n,e,t,r){return!!(An(n)===r||r!==Dt&&Wf(e,t,n))&&("**"===n.path||dm(e,n,t).matched)}function P0(n,e,t){return 0===e.length&&!n.children[t]}class zf{constructor(e){this.segmentGroup=e||null}}class Wy{constructor(e){this.urlTree=e}}function Jd(n){return new Kt.y(e=>e.error(new zf(n)))}function zy(n){return new Kt.y(e=>e.error(new Wy(n)))}function nA(n){return new Kt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class fm{constructor(e,t,r,a,d){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=hm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Dt).pipe((0,pt.U)(d=>this.createUrlTree(Ky(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(no(d=>{if(d instanceof Wy)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof zf?this.noMatchError(d):d}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dt).pipe((0,pt.U)(a=>this.createUrlTree(Ky(a),e.queryParams,e.fragment))).pipe(no(a=>{throw a instanceof zf?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new Bt([],{[Dt]:e}):e;return new ko(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,pt.U)(d=>new Bt([],d))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const d of Object.keys(r.children))"primary"===d?a.unshift(d):a.push(d);return(0,un.D)(a).pipe(ro(d=>{const f=r.children[d],y=Qd(t,d);return this.expandSegmentGroup(e,y,f,d).pipe((0,pt.U)(E=>({segment:E,outlet:d})))}),Mo((d,f)=>(d[f.outlet]=f.segment,d),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?is((a,d)=>n(a,d,r)):mr.y,ml(1),t?Bi(e):Ka(()=>new xo))}())}expandSegment(e,t,r,a,d,f){return(0,un.D)(r).pipe(ro(y=>this.expandSegmentAgainstRoute(e,t,r,y,a,d,f).pipe(no(A=>{if(A instanceof zf)return(0,Xe.of)(null);throw A}))),io(y=>!!y),no((y,E)=>{if(y instanceof xo||"EmptyError"===y.name){if(P0(t,a,d))return(0,Xe.of)(new Bt([],{}));throw new zf(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,a,d,f,y){return O0(a,t,d,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,d,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,d,f):Jd(t):Jd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,d,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,d,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const d=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zy(d):this.lineralizeSegments(r,d).pipe((0,Ir.zg)(f=>{const y=new Bt(f,{});return this.expandSegment(e,y,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,d,f){const{matched:y,consumedSegments:E,lastChild:A,positionalParamSegments:M}=dm(t,a,d);if(!y)return Jd(t);const k=this.applyRedirectCommands(E,a.redirectTo,M);return a.redirectTo.startsWith("/")?zy(k):this.lineralizeSegments(a,k).pipe((0,Ir.zg)($=>this.expandSegment(e,t,r,$.concat(d.slice(A)),f,!1)))}matchSegmentAgainstRoute(e,t,r,a,d){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Xe.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,pt.U)($=>(r._loadedConfig=$,new Bt(a,{})))):(0,Xe.of)(new Bt(a,{}));const{matched:f,consumedSegments:y,lastChild:E}=dm(t,r,a);if(!f)return Jd(t);const A=a.slice(E);return this.getChildConfig(e,r,a).pipe((0,Ir.zg)(k=>{const $=k.module,X=k.routes,{segmentGroup:fe,slicedSegments:Pe}=hm(t,y,A,X),Ue=new Bt(fe.segments,fe.children);if(0===Pe.length&&Ue.hasChildren())return this.expandChildren($,X,Ue).pipe((0,pt.U)(lt=>new Bt(y,lt)));if(0===X.length&&0===Pe.length)return(0,Xe.of)(new Bt(y,{}));const Mt=An(r)===d;return this.expandSegment($,Ue,X,Pe,Mt?Dt:d,!0).pipe((0,pt.U)(Lt=>new Bt(y.concat(Lt.segments),Lt.children)))}))}getChildConfig(e,t,r){return t.children?(0,Xe.of)(new Kd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Xe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ir.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,pt.U)(d=>(t._loadedConfig=d,d))):(n=t,new Kt.y(e=>e.error(Ja(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Xe.of)(new Kd([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,Xe.of)(!0);const d=a.map(f=>{const y=e.get(f);let E;if((n=y)&&as(n.canLoad))E=y.canLoad(t,r);else{if(!as(y))throw new Error("Invalid CanLoad guard");E=y(t,r)}var n;return Ms(E)});return(0,Xe.of)(d).pipe(um(),(0,Kr.b)(f=>{if(!ru(f))return;const y=Ja(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,pt.U)(f=>!0===f))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,Xe.of)(r);if(a.numberOfChildren>1||!a.children[Dt])return nA(e.redirectTo);a=a.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const d=this.createSegmentGroup(e,t.root,r,a);return new ko(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return or(e,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[d]=t[y]}else r[d]=a}),r}createSegmentGroup(e,t,r,a){const d=this.createSegments(e,t.segments,r,a);let f={};return or(t.children,(y,E)=>{f[E]=this.createSegmentGroup(e,y,r,a)}),new Bt(d,f)}createSegments(e,t,r,a){return t.map(d=>d.path.startsWith(":")?this.findPosParam(e,d,a):this.findOrReturn(d,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function Ky(n){const e={};for(const r of Object.keys(n.children)){const d=Ky(n.children[r]);(d.segments.length>0||d.hasChildren())&&(e[r]=d)}return function(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new Bt(n.segments.concat(e.segments),e.children)}return n}(new Bt(n.segments,e))}class F0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class pm{constructor(e,t){this.component=e,this.route=t}}function iA(n,e,t){const r=n._root;return Ci(r,e?e._root:null,t,[r.value])}function gm(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ci(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=nu(e);return n.children.forEach(f=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,f=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const E=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ca(n.url,e.url)||!Rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$f(n,e)||!Rs(n.queryParams,e.queryParams);case"paramsChange":default:return!$f(n,e)}}(f,d,d.routeConfig.runGuardsAndResolvers);E?a.canActivateChecks.push(new F0(r)):(d.data=f.data,d._resolvedData=f._resolvedData),Ci(n,e,d.component?y?y.children:null:t,r,a),E&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new pm(y.outlet.component,f))}else f&&Kf(e,y,a),a.canActivateChecks.push(new F0(r)),Ci(n,null,d.component?y?y.children:null:t,r,a)})(f,d[f.value.outlet],t,r.concat([f.value]),a),delete d[f.value.outlet]}),or(d,(f,y)=>Kf(f,t.getContext(y),a)),a}function Kf(n,e,t){const r=nu(n),a=n.value;or(r,(d,f)=>{Kf(d,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new pm(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class dR{}function lA(n){return new Kt.y(e=>e.error(n))}class hR{constructor(e,t,r,a,d,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f}recognize(){const e=hm(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dt);if(null===t)return null;const r=new Ju([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new wi(r,t),d=new nm(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(e){const t=e.value,r=Hd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const d of Object.keys(t.children)){const f=t.children[d],y=Qd(e,d),E=this.processSegmentGroup(y,f,d);if(null===E)return null;r.push(...E)}const a=B0(r);return a.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const d of e){const f=this.processSegmentAgainstRoute(d,t,r,a);if(null!==f)return f}return P0(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!O0(e,t,r,a))return null;let d,f=[],y=[];if("**"===e.path){const X=r.length>0?Wu(r).parameters:{};d=new Ju(r,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xy(e),An(e),e.component,e,th(t),Jy(t)+r.length,_m(e))}else{const X=dm(t,e,r);if(!X.matched)return null;f=X.consumedSegments,y=r.slice(X.lastChild),d=new Ju(f,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xy(e),An(e),e.component,e,th(t),Jy(t)+f.length,_m(e))}const E=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:M}=hm(t,f,y,E.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&A.hasChildren()){const X=this.processChildren(E,A);return null===X?null:[new wi(d,X)]}if(0===E.length&&0===M.length)return[new wi(d,[])];const k=An(e)===a,$=this.processSegment(E,A,M,k?Dt:a);return null===$?null:[new wi(d,$)]}}function Qy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function B0(n){const e=[],t=new Set;for(const r of n){if(!Qy(r)){e.push(r);continue}const a=e.find(d=>r.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=B0(r.children);e.push(new wi(r.value,a))}return e.filter(r=>!t.has(r))}function th(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jy(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Xy(n){return n.data||{}}function _m(n){return n.resolve||{}}function ym(n){return Jn(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,pt.U)(()=>e)):(0,Xe.of)(e)})}class fA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rv=new c.OlP("ROUTES");class q0{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=d.create(e);return new Kd(Po(f.injector.get(rv,void 0,c.XFs.Self|c.XFs.Optional)).map(cm),f)}),no(d=>{throw t._loader$=void 0,d}));return t._loader$=new rs.c(a,()=>new As.xQ).pipe((0,Ld.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,un.D)(this.loader.load(e)):Ms(e()).pipe((0,Ir.zg)(t=>t instanceof c.YKP?(0,Xe.of)(t):(0,un.D)(this.compiler.compileModuleAsync(t))))}}class pA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rh,this.attachRef=null}}class rh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new pA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class $0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function iv(n){throw n}function H0(n,e,t){return e.parse("/")}function vm(n,e){return(0,Xe.of)(null)}const mA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_A={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class n{constructor(t,r,a,d,f,y,E,A){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=d,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new As.xQ,this.errorHandler=iv,this.malformedUriErrorHandler=H0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vm,afterPreactivation:vm},this.urlHandlingStrategy=new $0,this.routeReuseStrategy=new fA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(c.h0i),this.console=f.get(c.c2e);const $=f.get(c.R0b);this.isNgZoneEnabled=$ instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new ko(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new q0(y,E,X=>this.triggerEvent(new Ar(X)),X=>this.triggerEvent(new _r(X))),this.routerState=em(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(is(a=>0!==a.id),(0,pt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Jn(a=>{let d=!1,f=!1;return(0,Xe.of)(a).pipe((0,Kr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jn(y=>{const E=this.browserUrlTree.toString(),A=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return fa(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,Xe.of)(y).pipe(Jn(k=>{const $=this.transitions.getValue();return r.next(new U(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),$!==this.transitions.getValue()?ni.E:Promise.resolve(k)}),function(n,e,t,r){return Jn(a=>function(n,e,t,r,a){return new fm(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,pt.U)(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kr.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,e,t,r,a){return(0,Ir.zg)(d=>function(n,e,t,r,a="emptyOnly",d="legacy"){try{const f=new hR(n,e,t,r,a,d).recognize();return null===f?lA(new dR):(0,Xe.of)(f)}catch(f){return lA(f)}}(n,e,d.urlAfterRedirects,t(d.urlAfterRedirects),r,a).pipe((0,pt.U)(f=>Object.assign(Object.assign({},d),{targetSnapshot:f}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kr.b)(k=>{"eager"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(k.urlAfterRedirects,k),this.browserUrlTree=k.urlAfterRedirects);const $=new Ke(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next($)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:X,source:fe,restoredState:Pe,extras:Ue}=y,Mt=new U($,this.serializeUrl(X),fe,Pe);r.next(Mt);const xt=em(X,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},y),{targetSnapshot:xt,urlAfterRedirects:X,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),ni.E}),ym(y=>{const{targetSnapshot:E,id:A,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:$,replaceUrl:X}}=y;return this.hooks.beforePreactivation(E,{navigationId:A,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!$,replaceUrl:!!X})}),(0,Kr.b)(y=>{const E=new We(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,pt.U)(y=>Object.assign(Object.assign({},y),{guards:iA(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Ir.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:f}}=t;return 0===f.length&&0===d.length?(0,Xe.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,un.D)(n).pipe((0,Ir.zg)(a=>function(n,e,t,r,a){const d=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Xe.of)(!0);const f=d.map(y=>{const E=gm(y,e,a);let A;if(function(n){return n&&as(n.canDeactivate)}(E))A=Ms(E.canDeactivate(n,e,t,r));else{if(!as(E))throw new Error("Invalid CanDeactivate guard");A=Ms(E(n,e,t,r))}return A.pipe(io())});return(0,Xe.of)(f).pipe(um())}(a.component,a.route,t,e,r)),io(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Ir.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,r){return(0,un.D)(e).pipe(ro(a=>eo(function(n,e){return null!==n&&e&&e(new os(n)),(0,Xe.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new bi(n)),(0,Xe.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],d=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Ro(()=>{const y=f.guards.map(E=>{const A=gm(E,f.node,t);let M;if(function(n){return n&&as(n.canActivateChild)}(A))M=Ms(A.canActivateChild(r,n));else{if(!as(A))throw new Error("Invalid CanActivateChild guard");M=Ms(A(r,n))}return M.pipe(io())});return(0,Xe.of)(y).pipe(um())}));return(0,Xe.of)(d).pipe(um())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Xe.of)(!0);const a=r.map(d=>Ro(()=>{const f=gm(d,e,t);let y;if(function(n){return n&&as(n.canActivate)}(f))y=Ms(f.canActivate(e,n));else{if(!as(f))throw new Error("Invalid CanActivate guard");y=Ms(f(e,n))}return y.pipe(io())}));return(0,Xe.of)(a).pipe(um())}(n,a.route,t))),io(a=>!0!==a,!0))}(r,d,n,e):(0,Xe.of)(y)),(0,pt.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Kr.b)(y=>{if(ru(y.guardsResult)){const A=Ja(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw A.url=y.guardsResult,A}const E=new Ht(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),is(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),ym(y=>{if(y.guards.canActivateChecks.length)return(0,Xe.of)(y).pipe((0,Kr.b)(E=>{const A=new Gt(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}),Jn(E=>{let A=!1;return(0,Xe.of)(E).pipe(function(n,e){return(0,Ir.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Xe.of)(t);let d=0;return(0,un.D)(a).pipe(ro(f=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,Xe.of)({});const d={};return(0,un.D)(a).pipe((0,Ir.zg)(f=>function(n,e,t,r){const a=gm(n,e,r);return Ms(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,r).pipe((0,Kr.b)(y=>{d[f]=y}))),ml(1),(0,Ir.zg)(()=>Object.keys(d).length===a.length?(0,Xe.of)(d):ni.E))}(n._resolve,n,e,r).pipe((0,pt.U)(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),Hd(n,t).resolve),null)))}(f.route,r,n,e)),(0,Kr.b)(()=>d++),ml(1),(0,Ir.zg)(f=>d===a.length?(0,Xe.of)(t):ni.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kr.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Kr.b)(E=>{const A=new Dr(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(A)}))}),ym(y=>{const{targetSnapshot:E,id:A,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:$,replaceUrl:X}}=y;return this.hooks.afterPreactivation(E,{navigationId:A,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!$,replaceUrl:!!X})}),(0,pt.U)(y=>{const E=function(n,e,t){const r=ec(n,e._root,t?t._root:void 0);return new Xg(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,Kr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(r=>(new sm(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Kr.b)({next(){d=!0},complete(){d=!0}}),Gu(()=>{var y;if(!d&&!f){const E=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,E)):this.cancelNavigationTransition(a,E)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),no(y=>{if(f=!0,function(n){return n&&n[Vd]}(y)){const E=ru(y.url);E||(this.navigated=!0,this.restoreHistory(a,!0));const A=new de(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(A),E?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),k={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fa(a.source)};this.scheduleNavigation(M,"imperative",null,k,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const E=new xe(a.id,this.serializeUrl(a.extractedUrl),y);r.next(E);try{a.resolve(this.errorHandler(y))}catch(A){a.reject(A)}}return ni.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:d,urlTree:f}=r,y={replaceUrl:!0};if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(y.state=E)}this.scheduleNavigation(f,a,d,y)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ei(t),this.config=t.map(cm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:d,fragment:f,queryParamsHandling:y,preserveFragment:E}=r,A=a||this.routerState.root,M=E?this.currentUrlTree.fragment:f;let k=null;switch(y){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,e,t,r,a){if(0===t.length)return m(e.root,e.root,e,r,a);const d=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let e=0,t=!1;const r=n.reduce((a,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return or(d.outlets,(E,A)=>{y[A]="string"==typeof E?E.split("/"):E}),[...a,{outlets:y}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===f?(d.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,d]},[]);return new S(t,e,r)}(t);if(d.toRoot())return m(e.root,new Bt([],{}),e,r,a);const f=function(n,e,t){if(n.isAbsolute)return new K(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const d=t.snapshot._urlSegment;return new K(d,d===e.root,0)}const r=v(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,d=t;for(;d>a;){if(d-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new K(r,!1,a-d)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(d,e,n),y=f.processChildren?Wt(f.segmentGroup,f.index,d.commands):at(f.segmentGroup,f.index,d.commands);return m(f.segmentGroup,y,e,r,a)}(A,this.currentUrlTree,t,k,null!=M?M:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=ru(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},mA):!1===r?Object.assign({},_A):r,ru(t))return _l(this.currentUrlTree,t,a);const d=this.parseUrl(t);return _l(this.currentUrlTree,d,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const d=t[a];return null!=d&&(r[a]=d),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,d,f){var y,E;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),M=fa(r)&&A&&!fa(A.source),X=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===t.toString();if(M&&X)return Promise.resolve(!0);let fe,Pe,Ue;f?(fe=f.resolve,Pe=f.reject,Ue=f.promise):Ue=new Promise((Lt,lt)=>{fe=Lt,Pe=lt});const Mt=++this.navigationId;let xt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),xt=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):xt=0,this.setTransition({id:Mt,targetPageId:xt,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:d,resolve:fe,reject:Pe,promise:Ue,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ue.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),d=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(t,r=!1){var a,d;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new de(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.DyG),c.LFG(yl),c.LFG(rh),c.LFG(ze),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function fa(n){return"imperative"!==n}let tc=(()=>{class n{constructor(t,r,a){this.router=t,this.route=r,this.locationStrategy=a,this.commands=[],this.onChanges=new As.xQ,this.subscription=t.events.subscribe(d=>{d instanceof J&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,a,d,f){if(0!==t||r||a||d||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:ih(this.skipLocationChange),replaceUrl:ih(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ih(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ti),c.Y36(Qu),c.Y36(Y))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&t&&(c.Ikx("href",r.href,c.LSH),c.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),n})();function ih(n){return""===n||!!n}let Em=(()=>{class n{constructor(t,r,a,d,f){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=d||Dt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new W0(t,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rh),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class W0{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Qu?this.route:e===rh?this.childContexts:this.parent.get(e,t)}}class sv{}class av{preload(e,t){return(0,Xe.of)(null)}}let Yf=(()=>{class n{constructor(t,r,a,d,f){this.router=t,this.injector=d,this.preloadingStrategy=f,this.loader=new q0(r,a,A=>t.triggerEvent(new Ar(A)),A=>t.triggerEvent(new _r(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(is(t=>t instanceof J),ro(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const d of r)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const f=d._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(t,d)):d.children&&a.push(this.processRoutes(t,d.children));return(0,un.D)(a).pipe((0,vi.J)(),(0,pt.U)(d=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Xe.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ir.zg)(d=>(r._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(sv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),sh=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof J&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new xs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ti),c.LFG(Pa),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=new c.OlP("ROUTER_CONFIGURATION"),uv=new c.OlP("ROUTER_FORROOT_GUARD"),Qf=[ze,{provide:yl,useClass:Zd},{provide:Ti,useFactory:function(n,e,t,r,a,d,f,y={},E,A){const M=new Ti(null,n,e,t,r,a,d,Po(f));return E&&(M.urlHandlingStrategy=E),A&&(M.routeReuseStrategy=A),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,M),y.enableTracing&&M.events.subscribe(k=>{var $,X;null===($=console.group)||void 0===$||$.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(X=console.groupEnd)||void 0===X||X.call(console)}),M},deps:[yl,rh,ze,c.zs3,c.v3s,c.Sil,rv,iu,[class{},new c.FiY],[class{},new c.FiY]]},rh,{provide:Qu,useFactory:function(n){return n.routerState.root},deps:[Ti]},{provide:c.v3s,useClass:c.EAV},Yf,av,class{preload(e,t){return t().pipe(no(()=>(0,Xe.of)(null)))}},{provide:iu,useValue:{enableTracing:!1}}];function bA(){return new c.PXZ("Router",Ti)}let lv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Qf,Cm(t),{provide:uv,useFactory:z0,deps:[[Ti,new c.FiY,new c.tp0]]},{provide:iu,useValue:r||{}},{provide:Y,useFactory:EA,deps:[ue,[new c.tBr(me),new c.FiY],iu]},{provide:sh,useFactory:wA,deps:[Ti,Pa,iu]},{provide:sv,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:av},{provide:c.PXZ,multi:!0,useFactory:bA},[dv,{provide:c.ip1,multi:!0,useFactory:Q0,deps:[dv]},{provide:J0,useFactory:CA,deps:[dv]},{provide:c.tb,multi:!0,useExisting:J0}]]}}static forChild(t){return{ngModule:n,providers:[Cm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uv,8),c.LFG(Ti,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function wA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new sh(n,e,t)}function EA(n,e,t={}){return t.useHash?new Ne(n,e):new pe(n,e)}function z0(n){return"guarded"}function Cm(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:rv,multi:!0,useValue:n}]}let dv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new As.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),d=this.injector.get(Ti),f=this.injector.get(iu);return"disabled"===f.initialNavigation?(d.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),d.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(iu),a=this.injector.get(Yf),d=this.injector.get(sh),f=this.injector.get(Ti),y=this.injector.get(c.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),d.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Q0(n){return n.appInitializer.bind(n)}function CA(n){return n.bootstrapListener.bind(n)}const J0=new c.OlP("Router Initializer");var X0=F(538),yt=F(3854),Uo=F(8026),nc=F(5422),oh=F(3910),eE=F(6682),Jf=F(309),TA=F(7771),IA=F(8858);class At extends As.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new tE(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,d=r.length;let f;if(this.closed)throw new sa.N;if(this.isStopped||this.hasError?f=Lf.w.EMPTY:(this.observers.push(e),f=new IA.W(this,e)),a&&e.add(e=new Jf.ht(e,a)),t)for(let y=0;y<d&&!e.closed;y++)e.next(r[y]);else for(let y=0;y<d&&!e.closed;y++)e.next(r[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||TA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,d=a.length;let f=0;for(;f<d&&!(e-a[f].time<r);)f++;return d>t&&(f=Math.max(f,d-t)),f>0&&a.splice(0,f),a}}class tE{constructor(e,t){this.time=e,this.value=t}}function hv(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,f,d=0,y=!1,E=!1;return function(M){let k;d++,!a||y?(y=!1,a=new At(n,e,r),k=a.subscribe(this),f=M.subscribe({next($){a.next($)},error($){y=!0,a.error($)},complete(){E=!0,f=void 0,a.complete()}}),E&&(f=void 0)):k=a.subscribe(this),this.add(()=>{d--,k.unsubscribe(),k=void 0,f&&!E&&t&&0===d&&(f.unsubscribe(),f=void 0,a=void 0)})}}(r))}function ao(n,e){return e?Jn(()=>n,e):Jn(()=>n)}var Im=F(3101),yr=F(6436),ii=F(8939);F(2329);var _e=F(8239);const sE=new Map,fv={activated:!1,tokenObservers:[]},vR={initialized:!1,enabled:!1};function si(n){return sE.get(n)||fv}function ga(n,e){sE.set(n,e)}function pv(){return vR}class TR{constructor(e,t,r,a,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new yt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ji=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xm(n){if(!si(n).activated)throw ji.create("use-before-activation",{appName:n.name})}function ma(n,e){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(e),headers:r};let f,y;try{f=yield fetch(n,d)}catch(k){throw ji.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==f.status)throw ji.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(k){throw ji.create("fetch-parse-error",{originalErrorMessage:k.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const A=1e3*Number(E[1]),M=Date.now();return{token:y.attestationToken,expireTimeMillis:M+A,issuedAtTimeMillis:M}})).apply(this,arguments)}function mv(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const tp="firebase-app-check-store";let sc=null;function Tl(){return sc||(sc=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(ji.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore(tp,{keyPath:"compositeKey"})}}}catch(t){e(ji.create("storage-open",{originalErrorMessage:t.message}))}}),sc)}function Nm(){return(Nm=(0,_e.Z)(function*(n,e){const r=(yield Tl()).transaction(tp,"readwrite"),d=r.objectStore(tp).put({compositeKey:n,value:e});return new Promise((f,y)=>{d.onsuccess=E=>{f()},r.onerror=E=>{var A;y(ji.create("storage-set",{originalErrorMessage:null===(A=E.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const lh=new nc.Yd("@firebase/app-check");function bv(n,e){return(0,yt.hl)()?function(n,e){return function(n,e){return Nm.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{lh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function wv(){return pv().enabled}function dE(){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,_e.Z)(function*(){const n=pv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const NA={error:"UNKNOWN_ERROR"};function ks(n){return yt.US.encodeString(JSON.stringify(n),!1)}function Lm(n){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,_e.Z)(function*(n,e=!1){const t=n.app;xm(t);const r=si(t);let d,a=r.token;if(!a){const E=yield r.cachedTokenPromise;E&&dh(E)&&(a=E)}if(!e&&a&&dh(a))return{token:a.token};let y,f=!1;if(wv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ma(mv(t,yield dE()),n.platformLoggerProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),f=!0);const E=yield r.exchangeTokenPromise;return yield bv(t,E),ga(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),a=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?lh.warn(E.message):lh.error(E),d=E}return a?(y={token:a.token},ga(t,Object.assign(Object.assign({},r),{token:a})),yield bv(t,a)):y=gE(d),f&&pE(t,y),y})).apply(this,arguments)}function fE(n,e){const t=si(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ga(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Cv(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new TR((0,_e.Z)(function*(){let r;if(r=si(e).token?yield Lm(n,!0):yield Lm(n),r.error)throw r.error}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ga(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function pE(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function dh(n){return n.expireTimeMillis-Date.now()>0}function gE(n){return{token:ks(NA),error:n}}class OA{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)fE(this.app,t.next);return Promise.resolve()}}const Sv="app-check-internal";(0,Uo._registerComponent)(new oh.wA("app-check",n=>function(n,e){return new OA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Sv).initialize()})),(0,Uo._registerComponent)(new oh.wA(Sv,n=>function(n){return{getToken:e=>Lm(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,d=si(a),f={next:t,error:r,type:e};if(ga(a,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,f]})),d.token&&dh(d.token)){const y=d.token;Promise.resolve().then(()=>{t({token:y.token}),Cv(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Cv(n))}(n,"INTERNAL",e),removeTokenListener:e=>fE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uo.registerVersion)("@firebase/app-check","0.5.3");class xv{constructor(){return(0,yr.vb)("app-check")}}"undefined"!=typeof window&&window,F(7841);const Nv=new c.OlP("angularfire2.auth.use-emulator"),SE=new c.OlP("angularfire2.auth.settings"),Ov=new c.OlP("angularfire2.auth.tenant-id"),xE=new c.OlP("angularfire2.auth.langugage-code"),jm=new c.OlP("angularfire2.auth.use-device-language"),RE=new c.OlP("angularfire.auth.persistence"),ME=(n,e,t,r,a,d,f,y)=>(0,ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=a,d&&E.useDeviceLanguage(),f)for(const[A,M]of Object.entries(f))E.settings[A]=M;return y&&E.setPersistence(y),E},[t,r,a,d,f,y]);let qm=(()=>{class n{constructor(t,r,a,d,f,y,E,A,M,k,$,X){const fe=new As.xQ,Pe=(0,Xe.of)(void 0).pipe((0,Jf.QV)(f.outsideAngular),Jn(()=>d.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,pt.U)(()=>(0,ii.on)(t,d,r)),(0,pt.U)(Ue=>ME(Ue,d,y,A,M,k,E,$)),hv({bufferSize:1,refCount:!1}));if(bo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{Pe.pipe(io()).subscribe();const Mt=Pe.pipe(Jn(lt=>lt.getRedirectResult().then(Cn=>Cn,()=>null)),yr.iC,hv({bufferSize:1,refCount:!1})),xt=Pe.pipe(Jn(lt=>new Kt.y(Cn=>({unsubscribe:d.runOutsideAngular(()=>lt.onAuthStateChanged(Pi=>Cn.next(Pi),Pi=>Cn.error(Pi),()=>Cn.complete()))})))),Lt=Pe.pipe(Jn(lt=>new Kt.y(Cn=>({unsubscribe:d.runOutsideAngular(()=>lt.onIdTokenChanged(Pi=>Cn.next(Pi),Pi=>Cn.error(Pi),()=>Cn.complete()))}))));this.authState=Mt.pipe(ao(xt),(0,Im.R)(f.outsideAngular),(0,Jf.QV)(f.insideAngular)),this.user=Mt.pipe(ao(Lt),(0,Im.R)(f.outsideAngular),(0,Jf.QV)(f.insideAngular)),this.idToken=this.user.pipe(Jn(lt=>lt?(0,un.D)(lt.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(Jn(lt=>lt?(0,un.D)(lt.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,eE.T)(Mt,fe,this.authState.pipe(is(lt=>!lt))).pipe((0,pt.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,Im.R)(f.outsideAngular),(0,Jf.QV)(f.insideAngular))}return(0,ii.pX)(this,Pe,d,{spy:{apply:(Ue,Mt,xt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&xt.then(Lt=>fe.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ii.Dh),c.LFG(ii.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(yr.HU),c.LFG(Nv,8),c.LFG(SE,8),c.LFG(Ov,8),c.LFG(xE,8),c.LFG(jm,8),c.LFG(RE,8),c.LFG(xv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oc=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r}login(t,r){this.fireauth.signInWithEmailAndPassword(t,r).then(a=>{var d;localStorage.setItem("token","true"),1==(null===(d=a.user)||void 0===d?void 0:d.emailVerified)?this.router.navigate(["dashboard"]):this.router.navigate(["/varify-email"])},a=>{alert(a.message),this.router.navigate(["/login"])})}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(a=>{alert("Registration Successful"),this.sendEmailForVarification(a.user),this.router.navigate(["/login"])},a=>{alert(a.message),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/varify-email"])},r=>{alert("Something went wrong")})}sendEmailForVarification(t){console.log(t),t.sendEmailVerification().then(r=>{this.router.navigate(["/varify-email"])},r=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new X0.N).then(t=>{var r;this.router.navigate(["/frontdashboard"]),localStorage.setItem("token",JSON.stringify(null===(r=t.user)||void 0===r?void 0:r.uid))},t=>{alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qm),c.LFG(Ti))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var NE=F(3637);function Pv(){return n=>n.lift(new hh)}class hh{call(e,t){return t.subscribe(new WA(e))}}class WA extends Qn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class KA{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new YA(e,this.compare,this.keySelector))}}class YA extends Qn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}F(4828);var Ye,OE=F(3394),PE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sn={},kE=kE||{},ct=PE||self;function fh(){}function cp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $m(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var kv="closure_uid_"+(1e9*Math.random()>>>0),FE=0;function LE(n,e,t){return n.call.apply(n.bind,arguments)}function VE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Yr(n,e,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LE:VE).apply(null,arguments)}function Hm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function oi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,d){for(var f=Array(arguments.length-2),y=2;y<arguments.length;y++)f[y-2]=arguments[y];return e.prototype[a].apply(r,f)}}function uo(){this.s=this.s,this.o=this.o}var UE={};uo.prototype.s=!1,uo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,kv)&&n[kv]||(n[kv]=++FE)}(this);delete UE[n]}},uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Vv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let d=0;d<r;d++)d in a&&e.call(t,a[d],d,n)};function BE(n){return Array.prototype.concat.apply([],arguments)}function Uv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Gm(n){return/^[\s\xa0]*$/.test(n)}var Di,jE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ii(n,e){return-1!=n.indexOf(e)}function qE(n,e){return n<e?-1:n>e?1:0}e:{var $E=ct.navigator;if($E){var HE=$E.userAgent;if(HE){Di=HE;break e}}Di=""}function GE(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function JA(n){const e={};for(const t in n)e[t]=n[t];return e}var Wm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WE(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let d=0;d<Wm.length;d++)t=Wm[d],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zm(n){return zm[" "](n),n}zm[" "]=fh;var lp,n,OR=Ii(Di,"Opera"),Ai=Ii(Di,"Trident")||Ii(Di,"MSIE"),XA=Ii(Di,"Edge"),KE=XA||Ai,eS=Ii(Di,"Gecko")&&!(Ii(Di.toLowerCase(),"webkit")&&!Ii(Di,"Edge"))&&!(Ii(Di,"Trident")||Ii(Di,"MSIE"))&&!Ii(Di,"Edge"),YE=Ii(Di.toLowerCase(),"webkit")&&!Ii(Di,"Edge");function Zv(){var n=ct.document;return n?n.documentMode:void 0}e:{var Bv="",QE=(n=Di,eS?/rv:([^\);]+)(\)|;)/.exec(n):XA?/Edge\/([\d\.]+)/.exec(n):Ai?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):YE?/WebKit\/(\S+)/.exec(n):OR?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QE&&(Bv=QE?QE[1]:""),Ai){var Km=Zv();if(null!=Km&&Km>parseFloat(Bv)){lp=String(Km);break e}}lp=Bv}var jv={};function tS(){return e=jv,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=jE(String(lp)).split("."),t=jE("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var a=e[f]||"",d=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;n=qE(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||qE(0==a[2].length,0==d[2].length)||qE(a[2],d[2]),a=a[3],d=d[3]}while(0==n)}return 0<=n}();var e}var nS=ct.document&&Ai&&(Zv()||parseInt(lp,10))||void 0,rS=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ct.addEventListener("test",fh,e),ct.removeEventListener("test",fh,e)}catch(t){}return n}();function Si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function hp(n,e){if(Si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eS){e:{try{zm(e.nodeName);var a=!0;break e}catch(d){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hp.Z.h.call(this)}}Si.prototype.h=function(){this.defaultPrevented=!0},oi(hp,Si);var iS={2:"touch",3:"pen",4:"mouse"};hp.prototype.h=function(){hp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),ph=0;function XE(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++ph,this.ca=this.fa=!1}function us(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function uc(n){this.src=n,this.g={},this.h=0}function qv(n,e){var t=e.type;if(t in n.g){var d,r=n.g[t],a=Lv(r,e);(d=0<=a)&&Array.prototype.splice.call(r,a,1),d&&(us(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $v(n,e,t,r){for(var a=0;a<n.length;++a){var d=n[a];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==r)return a}return-1}uc.prototype.add=function(n,e,t,r,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var f=$v(n,e,r,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new XE(e,this.src,d,!!r,a)).fa=t,n.push(e)),e};var fp="closure_lm_"+(1e6*Math.random()|0),co={};function gh(n,e,t,r,a){if(r&&r.once)return pp(n,e,t,r,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)gh(n,e[d],t,r,a);return null}return t=dc(t),n&&n[ac]?n.N(e,t,$m(r)?!!r.capture:!!r,a):ai(n,e,t,!1,r,a)}function ai(n,e,t,r,a,d){if(!e)throw Error("Invalid event type");var f=$m(a)?!!a.capture:!!a,y=cc(n);if(y||(n[fp]=y=new uc(n)),(t=y.add(e,t,r,f,d)).proxy)return t;if(r=function(){var e=mh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rS||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Dl(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function pp(n,e,t,r,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)pp(n,e[d],t,r,a);return null}return t=dc(t),n&&n[ac]?n.O(e,t,$m(r)?!!r.capture:!!r,a):ai(n,e,t,!0,r,a)}function Fs(n,e,t,r,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Fs(n,e[d],t,r,a);else r=$m(r)?!!r.capture:!!r,t=dc(t),n&&n[ac]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$v(d=n.g[e],t,r,a))&&(us(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=cc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$v(e,t,r,a)),(t=-1<n?e[n]:null)&&gp(t))}function gp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ac])qv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Dl(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=cc(e))?(qv(t,n),0==t.h&&(t.src=null,e[fp]=null)):us(n)}}}function Dl(n){return n in co?co[n]:co[n]="on"+n}function mh(n,e){if(n.ca)n=!0;else{e=new hp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&gp(n),n=t.call(r,e)}return n}function cc(n){return(n=n[fp])instanceof uc?n:null}var lc="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(n){return"function"==typeof n?n:(n[lc]||(n[lc]=function(e){return n.handleEvent(e)}),n[lc])}function Xn(){uo.call(this),this.i=new uc(this),this.P=this,this.I=null}function ar(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Si(e,n);else if(e instanceof Si)e.target=e.target||n;else{var a=e;WE(e=new Si(r,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var f=e.g=t[d];a=ou(f,r,!0,e)&&a}if(a=ou(f=e.g=n,r,!0,e)&&a,a=ou(f,r,!1,e)&&a,t)for(d=0;d<t.length;d++)a=ou(f=e.g=t[d],r,!1,e)&&a}function ou(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var f=e[d];if(f&&!f.ca&&f.capture==t){var y=f.listener,E=f.ia||f.src;f.fa&&qv(n.i,f),a=!1!==y.call(E,r)&&a}}return a&&!r.defaultPrevented}oi(Xn,uo),Xn.prototype[ac]=!0,Xn.prototype.removeEventListener=function(n,e,t,r){Fs(this,n,e,t,r)},Xn.prototype.M=function(){if(Xn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)us(t[r]);delete n.g[e],n.h--}}this.I=null},Xn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Xn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var hc=ct.JSON.stringify;function eC(){var n=sC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Qm,Hv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nC,n=>n.reset());class nC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rC(n){ct.setTimeout(()=>{throw n},0)}function Ym(n,e){Qm||function(){var n=ct.Promise.resolve(void 0);Qm=function(){n.then(oC)}}(),Jm||(Qm(),Jm=!0),sC.add(n,e)}var Jm=!1,sC=new class{constructor(){this.h=this.g=null}add(e,t){const r=Hv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function oC(){for(var n;n=eC();){try{n.h.call(n.g)}catch(t){rC(t)}var e=Hv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Jm=!1}function Xm(n,e){Xn.call(this),this.h=n||1,this.g=e||ct,this.j=Yr(this.kb,this),this.l=Date.now()}function Gv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function e_(n,e,t){if("function"==typeof n)t&&(n=Yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:ct.setTimeout(n,e||0)}function aC(n){n.g=e_(()=>{n.g=null,n.i&&(n.i=!1,aC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oi(Xm,Xn),(Ye=Xm.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(Gv(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){Xm.Z.M.call(this),Gv(this),delete this.g};class PR extends uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aC(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mp(n){uo.call(this),this.h=n,this.g={}}oi(mp,uo);var Wv=[];function uC(n,e,t,r){Array.isArray(t)||(t&&(Wv[0]=t.toString()),t=Wv);for(var a=0;a<t.length;a++){var d=gh(e,t[a],r||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function zv(n){GE(n.g,function(e,t){this.g.hasOwnProperty(t)&&gp(e)},n),n.g={}}function t_(){this.g=!0}function _h(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var f=1;f<a.length;f++)a[f]=""}}}return hc(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}mp.prototype.M=function(){mp.Z.M.call(this),zv(this)},mp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},t_.prototype.Aa=function(){this.g=!1},t_.prototype.info=function(){};var yh={},oS=null;function n_(){return oS=oS||new Xn}function aS(n){Si.call(this,yh.Ma,n)}function _p(n){const e=n_();ar(e,new aS(e,n))}function lC(n,e){Si.call(this,yh.STAT_EVENT,n),this.stat=e}function ui(n){const e=n_();ar(e,new lC(e,n))}function r_(n,e){Si.call(this,yh.Na,n),this.size=e}function yp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){n()},e)}yh.Ma="serverreachability",oi(aS,Si),yh.STAT_EVENT="statevent",oi(lC,Si),yh.Na="timingevent",oi(r_,Si);var Kv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dC(){}function Yv(){}dC.prototype.h=null;var Jv,i_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qv(){Si.call(this,"d")}function fc(){Si.call(this,"c")}function vp(){}function bp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new mp(this),this.P=s_,this.W=new Xm(n=KE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xv}function Xv(){this.i=null,this.g="",this.h=!1}oi(Qv,Si),oi(fc,Si),oi(vp,dC),vp.prototype.g=function(){return new XMLHttpRequest},vp.prototype.i=function(){return{}},Jv=new vp;var s_=45e3,eb={},wp={};function tb(n,e,t){n.K=1,n.v=Ip(Bo(e)),n.s=t,n.U=!0,fC(n,null)}function fC(n,e){n.F=Date.now(),vh(n),n.A=Bo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),IC(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Xv,n.g=Cb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new PR(Yr(n.Ia,n,n.g),n.O)),uC(n.V,n.g,"readystatechange",n.gb),e=n.H?JA(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),_p(1),function(n,e,t,r,a,d){n.info(function(){if(n.g)if(d)for(var f="",y=d.split("&"),E=0;E<y.length;E++){var A=y[E].split("=");if(1<A.length){var M=A[0];A=A[1];var k=M.split("_");f=2<=k.length&&"type"==k[1]?f+(M+"=")+A+"&":f+(M+"=redacted&")}}else f=null;else f=d;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function pC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function gC(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=cS(n,t),a==wp){4==e&&(n.o=4,ui(14),r=!1),_h(n.j,n.m,null,"[Incomplete Response]");break}if(a==eb){n.o=4,ui(15),_h(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}_h(n.j,n.m,a,null),_C(n,a)}pC(n)&&a!=wp&&a!=eb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ui(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Sh(e),e.L=!0,ui(11))):(_h(n.j,n.m,t,"[Invalid Chunked Response]"),au(n),bh(n))}function cS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?wp:(t=Number(e.substring(t,r)),isNaN(t)?eb:(r+=1)+t>e.length?wp:(e=e.substr(r,t),n.C=r+t,e))}function vh(n){n.Y=Date.now()+n.P,mC(n,n.P)}function mC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yp(Yr(n.eb,n),e)}function Ep(n){n.B&&(ct.clearTimeout(n.B),n.B=null)}function bh(n){0==n.l.G||n.I||bb(n.l,n)}function au(n){Ep(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Gv(n.W),zv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function _C(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||u_(t.i,n)))if(t.I=n.N,!n.J&&u_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=yp(Yr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sp(t),h_(t)}f_(t),ui(18)}if(1>=lb(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else _a(t,11)}else if((n.J||t.g==n)&&Sp(t),!Gm(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const M=A[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const k=A[4];null!=k&&(t.za=k,t.h.info("SVER="+t.za));const $=A[5];null!=$&&"number"==typeof $&&0<$&&(t.K=r=1.5*$,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const fe=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fe){var d=r.i;!d.g&&(Ii(fe,"spdy")||Ii(fe,"quic")||Ii(fe,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(c_(d,d.h),d.h=null))}if(r.D){const Pe=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(r.sa=Pe,Zn(r.F,r.D,Pe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=Eb(r,r.H?r.la:null,r.W),f.J){db(r.i,f);var y=f,E=r.K;E&&y.setTimeout(E),y.B&&(Ep(y),vh(y)),r.g=f}else vb(r);0<t.l.length&&Dh(t)}else"stop"!=A[0]&&"close"!=A[0]||_a(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?_a(t,7):_b(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}_p(4)}catch(A){}}function rb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cp(n)||"string"==typeof n)Vv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(cp(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(cp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var d=0;d<a;d++)e.call(void 0,r[d],t&&t[d],n)}}function Cp(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Cp)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Al(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Sl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Sl(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function Sl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=bp.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==cu(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const M=cu(this.g);var e=this.g.Da();const k=this.g.ba();if(!(3>M)&&(3!=M||KE||this.g&&(this.h.h||this.g.ga()||jo(this.g)))){this.I||4!=M||7==e||_p(8==e||0>=k?3:2),Ep(this);var t=this.g.ba();this.N=t;t:if(pC(this)){var r=jo(this.g);n="";var a=r.length,d=4==cu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){au(this),bh(this);var f="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:d&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,d,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+f})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,E=this.g;if((y=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gm(y)){var A=y;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,ui(12),au(this),bh(this);break e}_h(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_C(this,t)}this.U?(gC(this,M,f),KE&&this.i&&3==M&&(uC(this.V,this.W,"tick",this.fb),this.W.start())):(_h(this.j,this.m,f,null),_C(this,f)),4==M&&au(this),this.i&&!this.I&&(4==M?bb(this.l,this):(this.i=!1,vh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),au(this),bh(this)}}}catch(M){}},Ye.fb=function(){if(this.g){var n=cu(this.g),e=this.g.ga();this.C<e.length&&(Ep(this),gC(this,n,e),this.i&&4!=n&&vh(this))}},Ye.cancel=function(){this.I=!0,au(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_p(3),ui(17)),au(this),this.o=2,bh(this)):mC(this,this.Y-n)},(Ye=Cp.prototype).R=function(){Al(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return Al(this),this.g.concat()},Ye.get=function(n,e){return Sl(this.h,n)?this.h[n]:e},Ye.set=function(n,e){Sl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],d=this.get(a);n.call(e,d,a,this)}};var o_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof xl){this.g=void 0!==e?e:n.g,wh(this,n.j),this.s=n.s,Tp(this,n.i),sb(this,n.m),this.l=n.l,e=n.h;var t=new Ml;t.i=e.i,e.g&&(t.g=new Cp(e.g),t.h=e.h),yC(this,t),this.o=n.o}else n&&(t=String(n).match(o_))?(this.g=!!e,wh(this,t[1]||"",!0),this.s=Rl(t[2]||""),Tp(this,t[3]||"",!0),sb(this,t[4]),this.l=Rl(t[5]||"",!0),yC(this,t[6]||"",!0),this.o=Rl(t[7]||"")):(this.g=!!e,this.h=new Ml(null,this.g))}function Bo(n){return new xl(n)}function wh(n,e,t){n.j=t?Rl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Tp(n,e,t){n.i=t?Rl(e,!0):e}function sb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yC(n,e,t){e instanceof Ml?(n.h=e,function(n,e){e&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(CC(this,r),IC(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Eh(e,wC)),n.h=new Ml(e,n.g))}function Zn(n,e,t){n.h.set(e,t)}function Ip(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Eh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ob),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ob(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Eh(e,a_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Eh(e,a_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Eh(t,"/"==t.charAt(0)?dS:bC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Eh(t,EC)),n.join("")};var a_=/[#\/\?@]/g,bC=/[#\?:]/g,dS=/[#\?]/g,wC=/[#\?@]/g,EC=/#/g;function Ml(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uu(n){n.g||(n.g=new Cp,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var d=n[t].substring(0,r);a=n[t].substring(r+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function CC(n,e){uu(n),e=pc(n,e),Sl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Sl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Al(n)))}function TC(n,e){return uu(n),e=pc(n,e),Sl(n.g.h,e)}function IC(n,e,t){CC(n,e),0<t.length&&(n.i=null,n.g.set(pc(n,e),Uv(t)),n.h+=t.length)}function pc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ub(n){this.l=n||AC,n=ct.PerformanceNavigationTiming?0<(n=ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ct.g&&ct.g.Ea&&ct.g.Ea()&&ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Ml.prototype).add=function(n,e){uu(this),this.i=null,n=pc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){uu(this),this.g.forEach(function(t,r){Vv(t,function(a){n.call(e,a,r,this)},this)},this)},Ye.T=function(){uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],d=0;d<a.length;d++)t.push(e[r]);return t},Ye.R=function(n){uu(this);var e=[];if("string"==typeof n)TC(this,n)&&(e=BE(e,this.g.get(pc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=BE(e,n[t])}return e},Ye.set=function(n,e){return uu(this),this.i=null,TC(this,n=pc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var d=0;d<r.length;d++){var f=a;""!==r[d]&&(f+="="+encodeURIComponent(String(r[d]))),n.push(f)}}return this.i=n.join("&")};var AC=10;function cb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function lb(n){return n.h?1:n.g?n.g.size:0}function u_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function c_(n,e){n.g?n.g.add(e):n.h=e}function db(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Uv(n.i)}function hb(){}function fS(){this.g=new hb}function SC(n,e,t){const r=t||"";try{rb(n,function(a,d){let f=a;$m(a)&&(f=hc(a)),e.push(r+d+"="+encodeURIComponent(f))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function ur(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(d){}}function Ch(n){this.l=n.$b||null,this.j=n.ib||!1}function l_(n,e){Xn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=fb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ub.prototype.cancel=function(){if(this.i=hS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hb.prototype.stringify=function(n){return ct.JSON.stringify(n,void 0)},hb.prototype.parse=function(n){return ct.JSON.parse(n,void 0)},oi(Ch,dC),Ch.prototype.g=function(){return new l_(this.l,this.j)},Ch.prototype.i=function(n){return function(){return n}}({}),oi(l_,Xn);var fb=0;function pb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Dp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Th(n)}function Th(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=l_.prototype).open=function(n,e){if(this.readyState!=fb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Th(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dp(this)),this.readyState=fb},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Th(this)),this.g&&(this.readyState=3,Th(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dp(this):Th(this),3==this.readyState&&pb(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,Dp(this))},Ye.Ta=function(n){this.g&&(this.response=n,Dp(this))},Ye.ha=function(){this.g&&Dp(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(l_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xC=ct.JSON.parse;function Bn(n){Xn.call(this),this.headers=new Cp,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=RC,this.K=this.L=!1}oi(Bn,Xn);var RC="",gS=/^https?$/i,MC=["POST","PUT"];function NC(n){return"content-type"==n.toLowerCase()}function _S(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gb(n),Ls(n)}function gb(n){n.D||(n.D=!0,ar(n,"complete"),ar(n,"error"))}function d_(n){if(n.h&&void 0!==kE&&(!n.C[1]||4!=cu(n)||2!=n.ba()))if(n.v&&4==cu(n))e_(n.Fa,0,n);else if(ar(n,"readystatechange"),4==cu(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var a=String(n.H).match(o_)[1]||null;if(!a&&ct.self&&ct.self.location){var d=ct.self.location.protocol;a=d.substr(0,d.length-1)}r=!gS.test(a?a.toLowerCase():"")}t=r}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var f=2<cu(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",gb(n)}}finally{Ls(n)}}}function Ls(n,e){if(n.g){OC(n);const t=n.g,r=n.C[0]?fh:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function OC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ct.clearTimeout(n.A),n.A=null)}function cu(n){return n.g?n.g.readyState:0}function jo(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case RC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vs(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return GE(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Ih(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mb(n){this.za=0,this.l=[],this.h=new t_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ih("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ih("baseRetryDelayMs",5e3,n),this.$a=Ih("retryDelaySeedMs",1e4,n),this.Ya=Ih("forwardChannelMaxRetries",2,n),this.ra=Ih("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ub(n&&n.concurrentRequestLimit),this.Ca=new fS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function _b(n){if(PC(n),3==n.G){var e=n.V++,t=Bo(n.F);Zn(t,"SID",n.J),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),Ah(n,t),(e=new bp(n,n.h,e,void 0)).K=2,e.v=Ip(Bo(t)),t=!1,ct.navigator&&ct.navigator.sendBeacon&&(t=ct.navigator.sendBeacon(e.v.toString(),"")),!t&&ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=Cb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vh(e)}wb(n)}function h_(n){n.g&&(Sh(n),n.g.cancel(),n.g=null)}function PC(n){h_(n),n.u&&(ct.clearTimeout(n.u),n.u=null),Sp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ct.clearTimeout(n.m),n.m=null)}function yb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Dh(n)}function Dh(n){cb(n.i)||n.m||(n.m=!0,Ym(n.Ha,n),n.C=0)}function kC(n,e){var t;t=e?e.m:n.V++;const r=Bo(n.F);Zn(r,"SID",n.J),Zn(r,"RID",t),Zn(r,"AID",n.U),Ah(n,r),n.o&&n.s&&Vs(r,n.o,n.s),t=new bp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=FC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),c_(n.i,t),tb(t,r,e)}function Ah(n,e){n.j&&rb({},function(t,r){Zn(e,r,t)})}function FC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Yr(n.j.Oa,n.j,n):null;e:{var a=n.l;let d=-1;for(;;){const f=["count="+t];-1==d?0<t?(d=a[0].h,f.push("ofs="+d)):d=0:f.push("ofs="+d);let y=!0;for(let E=0;E<t;E++){let A=a[E].h;const M=a[E].g;if(A-=d,0>A)d=Math.max(0,a[E].h-100),y=!1;else try{SC(M,f,"req"+A+"_")}catch(k){r&&r(M)}}if(y){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function vb(n){n.g||n.u||(n.Y=1,Ym(n.Ga,n),n.A=0)}function f_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=yp(Yr(n.Ga,n),p_(n,n.A)),n.A++,0))}function Sh(n){null!=n.B&&(ct.clearTimeout(n.B),n.B=null)}function LC(n){n.g=new bp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Bo(n.oa);Zn(e,"RID","rpc"),Zn(e,"SID",n.J),Zn(e,"CI",n.N?"0":"1"),Zn(e,"AID",n.U),Ah(n,e),Zn(e,"TYPE","xmlhttp"),n.o&&n.s&&Vs(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ip(Bo(e)),t.s=null,t.U=!0,fC(t,n)}function Sp(n){null!=n.v&&(ct.clearTimeout(n.v),n.v=null)}function bb(n,e){var t=null;if(n.g==e){Sp(n),Sh(n),n.g=null;var r=2}else{if(!u_(n.i,e))return;t=e.D,db(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;ar(r=n_(),new r_(r,t,e,a)),Dh(n)}else vb(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(lb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=yp(Yr(n.Ha,n,e),p_(n,n.C)),n.C++,0)))}(n,e)||2==r&&f_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:_a(n,5);break;case 4:_a(n,10);break;case 3:_a(n,6);break;default:_a(n,2)}}function p_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function _a(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Yr(n.jb,n);t||(t=new xl("//www.google.com/images/cleardot.gif"),ct.location&&"http"==ct.location.protocol||wh(t,"https"),Ip(t)),function(n,e){const t=new t_;if(ct.Image){const r=new Image;r.onload=Hm(ur,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hm(ur,t,r,"TestLoadImage: error",!1,e),r.onabort=Hm(ur,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hm(ur,t,r,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ui(2);n.G=0,n.j&&n.j.va(e),wb(n),PC(n)}function wb(n){n.G=0,n.I=-1,n.j&&((0!=hS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Uv(n.l),n.l.length=0),n.j.ua())}function Eb(n,e,t){let r=function(n){return n instanceof xl?Bo(n):new xl(n,void 0)}(t);if(""!=r.i)e&&Tp(r,e+"."+r.i),sb(r,r.m);else{const a=ct.location;r=function(n,e,t,r){var a=new xl(null,void 0);return n&&wh(a,n),e&&Tp(a,e),t&&sb(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&GE(n.aa,function(a,d){Zn(r,d,a)}),t=n.sa,(e=n.D)&&t&&Zn(r,e,t),Zn(r,"VER",n.ma),Ah(n,r),r}function Cb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bn(t&&n.Ba&&!n.qa?new Ch({ib:!0}):n.qa)).L=n.H,e}function Tb(){}function xp(){if(Ai&&!(10<=Number(nS)))throw Error("Environmental error: no available transport.")}function cs(n,e){Xn.call(this),this.g=new mb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Gm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xh(this)}function Ib(n){Qv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Db(){fc.call(this),this.status=1}function xh(n){this.g=n}(Ye=Bn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Jv),this.g.onreadystatechange=Yr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void _S(this,d)}n=t||"";const a=new Cp(this.headers);r&&rb(r,function(d,f){a.set(f,d)}),r=function(n){e:{var e=NC;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=ct.FormData&&n instanceof ct.FormData,!(0<=Lv(MC,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(d,f){this.g.setRequestHeader(f,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OC(this),0<this.B&&((this.K=function(n){return Ai&&tS()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.pa,this)):this.A=e_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){_S(this,d)}},Ye.pa=function(){void 0!==kE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),Ls(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ls(this,!0)),Bn.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?d_(this):this.cb())},Ye.cb=function(){d_(this)},Ye.ba=function(){try{return 2<cu(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xC(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=mb.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new bp(this,this.h,n,void 0);let d=this.s;if(this.P&&(d?(d=JA(d),WE(d,this.P)):d=this.P),null===this.o&&(a.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FC(this,a,e),Zn(t=Bo(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),Ah(this,t),this.o&&d&&Vs(t,this.o,d),c_(this.i,a),this.Ra&&Zn(t,"TYPE","init"),this.ja?(Zn(t,"$req",e),Zn(t,"SID","null"),a.$=!0,tb(a,t,null)):tb(a,t,e),this.G=2}}else 3==this.G&&(n?kC(this,n):0==this.l.length||cb(this.i)||kC(this))},Ye.Ga=function(){if(this.u=null,LC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=yp(Yr(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ui(10),h_(this),LC(this))},Ye.ab=function(){null!=this.v&&(this.v=null,h_(this),f_(this),ui(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ui(2)):(this.h.info("Failed to ping google.com"),ui(1))},(Ye=Tb.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},xp.prototype.g=function(n,e){return new cs(n,e)},oi(cs,Xn),cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ym(Yr(n.hb,n,e))),ui(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Eb(n,null,n.W),Dh(n)},cs.prototype.close=function(){_b(this.g)},cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,yb(this.g,e)}else this.v?((e={}).__data__=hc(n),yb(this.g,e)):yb(this.g,n)},cs.prototype.M=function(){this.g.j=null,delete this.j,_b(this.g),delete this.g,cs.Z.M.call(this)},oi(Ib,Qv),oi(Db,fc),oi(xh,Tb),xh.prototype.xa=function(){ar(this.g,"a")},xh.prototype.wa=function(n){ar(this.g,new Ib(n))},xh.prototype.va=function(n){ar(this.g,new Db(n))},xh.prototype.ua=function(){ar(this.g,"b")},xp.prototype.createWebChannel=xp.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,Kv.NO_ERROR=0,Kv.TIMEOUT=8,Kv.HTTP_ERROR=6,uS.COMPLETE="complete",Yv.EventType=i_,i_.OPEN="a",i_.CLOSE="b",i_.ERROR="c",i_.MESSAGE="d",Xn.prototype.listen=Xn.prototype.N,Bn.prototype.listenOnce=Bn.prototype.O,Bn.prototype.getLastError=Bn.prototype.La,Bn.prototype.getLastErrorCode=Bn.prototype.Da,Bn.prototype.getStatus=Bn.prototype.ba,Bn.prototype.getResponseJson=Bn.prototype.Qa,Bn.prototype.getResponseText=Bn.prototype.ga,Bn.prototype.send=Bn.prototype.ea;var yS=sn.createWebChannelTransport=function(){return new xp},vS=sn.getStatEventTarget=function(){return n_()},Ab=sn.ErrorCode=Kv,bS=sn.EventType=uS,wS=sn.Event=yh,VC=sn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ES=sn.FetchXmlHttpFactory=Ch,g_=sn.WebChannel=Yv,CS=sn.XhrIo=Bn;const UC="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let Rh="9.6.3";const gc=new nc.Yd("@firebase/firestore");function Sb(){return gc.logLevel}function Fe(n,...e){if(gc.logLevel<=nc.in.DEBUG){const t=e.map(m_);gc.debug(`Firestore (${Rh}): ${n}`,...t)}}function Sr(n,...e){if(gc.logLevel<=nc.in.ERROR){const t=e.map(m_);gc.error(`Firestore (${Rh}): ${n}`,...t)}}function Mh(n,...e){if(gc.logLevel<=nc.in.WARN){const t=e.map(m_);gc.warn(`Firestore (${Rh}): ${n}`,...t)}}function m_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Rh}) INTERNAL ASSERTION FAILED: `+n;throw Sr(e),new Error(e)}function gt(n,e){n||nt()}function qe(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class __{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class Nl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IS{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const d=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let f=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ur,e.enqueueRetryable(()=>d(this.currentUser))};const y=()=>{const A=f;e.enqueueRetryable((0,_e.Z)(function*(){yield A.promise,yield d(r.currentUser)}))},E=A=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(A=>E(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?E(A):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ur)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt("string"==typeof r.accessToken),new __(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new ci(e)}}class DS{constructor(e,t,r){this.type="FirstParty",this.user=ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Nh{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new DS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(d=a).error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`),t(d.token);var d})};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),new AS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function jC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ls.I=-1;class SS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=jC(40);for(let d=0;d<a.length;++d)r.length<20&&a[d]<t&&(r+=e.charAt(a[d]%e.length))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Oh(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function qC(n){return n+"\0"}class Qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qr.fromMillis(Date.now())}static fromDate(e){return Qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Qr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $C(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Pn{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const d=e.get(a),f=t.get(a);if(d<f)return-1;if(d>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Pn{construct(e,t,r){return new ln(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Pn{construct(e,t,r){return new Zr(e,t,r)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const d=()=>{if(0===r.length)throw new Me(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new Me(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[a+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Me(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,a+=2}else"`"===y?(f=!f,a++):"."!==y||f?(r+=y,a++):(d(),a++)}if(d(),f)throw new Me(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(t)}static emptyPath(){return new Zr([])}}class Ph{constructor(e){this.fields=e,e.sort(Zr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let d=0;d<r.length;++d)a+=String.fromCharCode(r[d]);return a}(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(gt(!!n),"string"==typeof n){let e=0;const t=WC.exec(n);if(gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rr(n.seconds),nanos:Rr(n.nanos)}}function Rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kh(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function Rb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fh(n){const e=n.mapValue.fields.__previous_value__;return Rb(e)?Fh(e):e}function Mp(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Qr(e.seconds,e.nanos)}function Ol(n){return null==n}function y_(n){return 0===n&&1/n==-1/0}function Np(n){return"number"==typeof n&&Number.isInteger(n)&&!y_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(ln.fromString(e))}static fromName(e){return new tt(ln.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new ln(e.slice()))}}function mc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rb(n)?4:10:nt()}function $o(n,e){if(n===e)return!0;const t=mc(n);if(t!==mc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mp(n).isEqual(Mp(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const d=lu(r.timestampValue),f=lu(a.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,kh(n.bytesValue).isEqual(kh(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return Rr(r.geoPointValue.latitude)===Rr(a.geoPointValue.latitude)&&Rr(r.geoPointValue.longitude)===Rr(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Rr(r.integerValue)===Rr(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const d=Rr(r.doubleValue),f=Rr(a.doubleValue);return d===f?y_(d)===y_(f):isNaN(d)&&isNaN(f)}return!1}(n,e);case 9:return Oh(n.arrayValue.values||[],e.arrayValue.values||[],$o);case 10:return function(r,a){const d=r.mapValue.fields||{},f=a.mapValue.fields||{};if($C(d)!==$C(f))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(void 0===f[y]||!$o(d[y],f[y])))return!1;return!0}(n,e);default:return nt()}var a}function Op(n,e){return void 0!==(n.values||[]).find(t=>$o(t,e))}function va(n,e){if(n===e)return 0;const t=mc(n),r=mc(e);if(t!==r)return Le(t,r);switch(t){case 0:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(a,d){const f=Rr(a.integerValue||a.doubleValue),y=Rr(d.integerValue||d.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1}(n,e);case 3:return Lh(n.timestampValue,e.timestampValue);case 4:return Lh(Mp(n),Mp(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(a,d){const f=kh(a),y=kh(d);return f.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,d){const f=a.split("/"),y=d.split("/");for(let E=0;E<f.length&&E<y.length;E++){const A=Le(f[E],y[E]);if(0!==A)return A}return Le(f.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,d){const f=Le(Rr(a.latitude),Rr(d.latitude));return 0!==f?f:Le(Rr(a.longitude),Rr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,d){const f=a.values||[],y=d.values||[];for(let E=0;E<f.length&&E<y.length;++E){const A=va(f[E],y[E]);if(A)return A}return Le(f.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,d){const f=a.fields||{},y=Object.keys(f),E=d.fields||{},A=Object.keys(E);y.sort(),A.sort();for(let M=0;M<y.length&&M<A.length;++M){const k=Le(y[M],A[M]);if(0!==k)return k;const $=va(f[y[M]],E[A[M]]);if(0!==$)return $}return Le(y.length,A.length)}(n.mapValue,e.mapValue);default:throw nt()}}function Lh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Le(n,e);const t=lu(n),r=lu(e),a=Le(t.seconds,r.seconds);return 0!==a?a:Le(t.nanos,r.nanos)}function Mb(n){return Nb(n)}function Nb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=lu(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kh(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",d=!0;for(const f of r.values||[])d?d=!1:a+=",",a+=Nb(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let d="{",f=!0;for(const y of a)f?f=!1:d+=",",d+=`${y}:${Nb(r.fields[y])}`;return d+"}"}(n.mapValue):nt();var e}function v_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function b_(n){return!!n&&"integerValue"in n}function w_(n){return!!n&&"arrayValue"in n}function Ob(n){return!!n&&"nullValue"in n}function zC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pp(n){return!!n&&"mapValue"in n}function kp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Pp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kp(t)}setAll(e){let t=Zr.emptyPath(),r={},a=[];e.forEach((f,y)=>{if(!t.isImmediateParentOf(y)){const E=this.getFieldsMap(t);this.applyChanges(E,r,a),r={},a=[],t=y.popLast()}f?r[y.lastSegment()]=kp(f):a.push(y.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,r,a)}delete(e){const t=this.field(e.popLast());Pp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Pp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ya(t,(a,d)=>e[a]=d);for(const a of r)delete e[a]}clone(){return new xi(kp(this.value))}}function xS(n){const e=[];return ya(n.fields,(t,r)=>{const a=new Zr([t]);if(Pp(r)){const d=xS(r.mapValue).fields;if(0===d.length)e.push(a);else for(const f of d)e.push(a.child(f))}else e.push(a)}),new Ph(e)}class er{constructor(e,t,r,a,d){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=d}static newInvalidDocument(e){return new er(e,0,bt.min(),xi.empty(),0)}static newFoundDocument(e,t,r){return new er(e,1,t,r,0)}static newNoDocument(e,t){return new er(e,2,t,xi.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class LR{constructor(e,t=null,r=[],a=[],d=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=d,this.startAt=f,this.endAt=y,this.R=null}}function RS(n,e=null,t=[],r=[],a=null,d=null,f=null){return new LR(n,e,t,r,a,d,f)}function Vh(n){const e=qe(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Mb(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),Ol(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=I_(e.startAt)),e.endAt&&(t+="|ub:",t+=I_(e.endAt)),e.R=t}return e.R}function C_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!LS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!$o(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QC(n.startAt,e.startAt)&&QC(n.endAt,e.endAt)}function T_(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ri extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new MS(e,t,r):"array-contains"===t?new PS(e,r):"in"===t?new YC(e,r):"not-in"===t?new kS(e,r):"array-contains-any"===t?new FS(e,r):new Ri(e,t,r)}static P(e,t,r){return"in"===t?new NS(e,r):new OS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(va(t,this.value)):null!==t&&mc(this.value)===mc(t)&&this.v(va(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MS extends Ri{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.v(t)}}class NS extends Ri{constructor(e,t){super(e,"in",t),this.keys=KC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OS extends Ri{constructor(e,t){super(e,"not-in",t),this.keys=KC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function KC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class PS extends Ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return w_(t)&&Op(t.arrayValue,this.value)}}class YC extends Ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Op(this.value.arrayValue,t)}}class kS extends Ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Op(this.value.arrayValue,t)}}class FS extends Ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!w_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Op(this.value.arrayValue,r))}}class ba{constructor(e,t){this.position=e,this.before=t}}function I_(n){return`${n.before?"b":"a"}:${n.position.map(e=>Mb(e)).join(",")}`}class Pl{constructor(e,t="asc"){this.field=e,this.dir=t}}function LS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Pb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const d=e[a],f=n.position[a];if(r=d.field.isKeyField()?tt.comparator(tt.fromName(f.referenceValue),t.key):va(f,t.data.field(d.field)),"desc"===d.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function QC(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$o(n.position[t],e.position[t]))return!1;return!0}class wa{constructor(e,t=null,r=[],a=[],d=null,f="F",y=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=d,this.limitType=f,this.startAt=y,this.endAt=E,this.S=null,this.D=null}}function JC(n,e,t,r,a,d,f,y){return new wa(n,e,t,r,a,d,f,y)}function _c(n){return new wa(n)}function D_(n){return!Ol(n.limit)&&"F"===n.limitType}function Lp(n){return!Ol(n.limit)&&"L"===n.limitType}function A_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kb(n){for(const e of n.filters)if(e.V())return e.field;return null}function Fb(n){return null!==n.collectionGroup}function Uh(n){const e=qe(n);if(null===e.S){e.S=[];const t=kb(e),r=A_(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Pl(t)),e.S.push(new Pl(Zr.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.S.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Pl(Zr.keyField(),d))}}}return e.S}function ds(n){const e=qe(n);if(!e.D)if("F"===e.limitType)e.D=RS(e.path,e.collectionGroup,Uh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Uh(e))t.push(new Pl(d.field,"desc"===d.dir?"asc":"desc"));const r=e.endAt?new ba(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ba(e.startAt.position,!e.startAt.before):null;e.D=RS(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.D}function XC(n,e,t){return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zh(n,e){return C_(ds(n),ds(e))&&n.limitType===e.limitType}function eT(n){return`${Vh(ds(n))}|lt:${n.limitType}`}function Lb(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Mb(r.value)}`;var r}).join(", ")}]`),Ol(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+I_(n.startAt)),n.endAt&&(e+=", endAt: "+I_(n.endAt)),`Target(${e})`}(ds(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Pb(t.startAt,Uh(t),r)||t.endAt&&Pb(t.endAt,Uh(t),r)));var t,r}function tT(n){return(e,t)=>{let r=!1;for(const a of Uh(n)){const d=VS(a,e,t);if(0!==d)return d;r=r||a.field.isKeyField()}return 0}}function VS(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(a,d,f){const y=d.data.field(a),E=f.data.field(a);return null!==y&&null!==E?va(y,E):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}function nT(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:y_(e)?"-0":e}}function rT(n){return{integerValue:""+n}}function iT(n,e){return Np(e)?rT(e):nT(n,e)}class Up{constructor(){this._=void 0}}function sT(n,e,t){return n instanceof kl?function(r,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):n instanceof Fl?aT(n,e):n instanceof Ll?S_(n,e):function(r,a){const d=oT(r,a),f=Vb(d)+Vb(r.N);return b_(d)&&b_(r.N)?rT(f):nT(r.k,f)}(n,e)}function US(n,e,t){return n instanceof Fl?aT(n,e):n instanceof Ll?S_(n,e):t}function oT(n,e){return n instanceof yc?b_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kl extends Up{}class Fl extends Up{constructor(e){super(),this.elements=e}}function aT(n,e){const t=x_(e);for(const r of n.elements)t.some(a=>$o(a,r))||t.push(r);return{arrayValue:{values:t}}}class Ll extends Up{constructor(e){super(),this.elements=e}}function S_(n,e){let t=x_(e);for(const r of n.elements)t=t.filter(a=>!$o(a,r));return{arrayValue:{values:t}}}class yc extends Up{constructor(e,t){super(),this.k=e,this.N=t}}function Vb(n){return Rr(n.integerValue||n.doubleValue)}function x_(n){return w_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Zp{constructor(e,t){this.field=e,this.transform=t}}class Ub{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class R_{}function uT(n,e,t){n instanceof Ea?function(r,a,d){const f=r.value.clone(),y=jp(r.fieldTransforms,a,d.transformResults);f.setAll(y),a.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Vl?function(r,a,d){if(!Bp(r.precondition,a))return void a.convertToUnknownDocument(d.version);const f=jp(r.fieldTransforms,a,d.transformResults),y=a.data;y.setAll(N_(r)),y.setAll(f),a.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function M_(n,e,t){var a;n instanceof Ea?function(r,a,d){if(!Bp(r.precondition,a))return;const f=r.value.clone(),y=dT(r.fieldTransforms,d,a);f.setAll(y),a.convertToFoundDocument(lT(a),f).setHasLocalMutations()}(n,e,t):n instanceof Vl?function(r,a,d){if(!Bp(r.precondition,a))return;const f=dT(r.fieldTransforms,d,a),y=a.data;y.setAll(N_(r)),y.setAll(f),a.convertToFoundDocument(lT(a),y).setHasLocalMutations()}(n,e,t):Bp(n.precondition,a=e)&&a.convertToNoDocument(bt.min())}function cT(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),d=oT(r.transform,a||null);null!=d&&(null==t&&(t=xi.empty()),t.set(r.field,d))}return t||null}function BS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Oh(t,r,(a,d)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Fl&&r instanceof Fl||t instanceof Ll&&r instanceof Ll?Oh(t.elements,r.elements,$o):t instanceof yc&&r instanceof yc?$o(t.N,r.N):t instanceof kl&&r instanceof kl);var t,r}(a,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function lT(n){return n.isFoundDocument()?n.version:bt.min()}class Ea extends R_{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class Vl extends R_{constructor(e,t,r,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=d,this.type=1}}function N_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jp(n,e,t){const r=new Map;gt(n.length===t.length);for(let a=0;a<t.length;a++){const d=n[a],f=d.transform,y=e.data.field(d.field);r.set(d.field,US(f,y,t[a]))}return r}function dT(n,e,t){const r=new Map;for(const a of n){const d=a.transform,f=t.data.field(a.field);r.set(a.field,sT(d,f,e))}return r}class Ca extends R_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Zb extends R_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class VR{constructor(e){this.count=e}}var Nr,Rt;function Bb(n){switch(n){default:return nt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function jS(n){if(void 0===n)return Sr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Nr.OK:return he.OK;case Nr.CANCELLED:return he.CANCELLED;case Nr.UNKNOWN:return he.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return he.INTERNAL;case Nr.UNAVAILABLE:return he.UNAVAILABLE;case Nr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Nr.NOT_FOUND:return he.NOT_FOUND;case Nr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Nr.ABORTED:return he.ABORTED;case Nr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Nr.DATA_LOSS:return he.DATA_LOSS;default:return nt()}}(Rt=Nr||(Nr={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";class cr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O_(this.root,e,this.comparator,!1)}getReverseIterator(){return new O_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O_(this.root,e,this.comparator,!0)}}class O_{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,r,a,d){this.key=e,this.value=t,this.color=null!=r?r:li.RED,this.left=null!=a?a:li.EMPTY,this.right=null!=d?d:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,d){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const d=r(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return li.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,a){return this}insert(n,e,t){return new li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hT(this.data.getIterator())}getIteratorFrom(e){return new hT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=r.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class hT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const qS=new cr(tt.comparator);function lo(){return qS}const jb=new cr(tt.comparator);function P_(){return jb}const qb=new cr(tt.comparator);function $b(){return qb}const $S=new vr(tt.comparator);function bn(...n){let e=$S;for(const t of n)e=e.add(t);return e}const HS=new vr(Le);function k_(){return HS}class qp{constructor(e,t,r,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t)),new qp(bt.min(),r,k_(),lo(),bn())}}class Bh{constructor(e,t,r,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Bh(xr.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class $p{constructor(e,t,r,a){this.$=e,this.removedTargetIds=t,this.key=r,this.O=a}}class Hb{constructor(e,t){this.targetId=e,this.M=t}}class fT{constructor(e,t,r=xr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class pT{constructor(){this.F=0,this.L=mT(),this.B=xr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=bn(),t=bn(),r=bn();return this.L.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:nt()}}),new Bh(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=mT()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class gT{constructor(e){this.et=e,this.nt=new Map,this.st=lo(),this.it=Hp(),this.rt=new vr(Le)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,r=e.M.count,a=this.wt(t);if(a){const d=a.target;if(T_(d))if(0===r){const f=new tt(d.path);this.at(t,f,er.newNoDocument(f,bt.min()))}else gt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((d,f)=>{const y=this.wt(f);if(y){if(d.current&&T_(y.target)){const E=new tt(y.target.path);null!==this.st.get(E)||this.yt(f,E)||this.at(f,E,er.newNoDocument(E,e))}d.j&&(t.set(f,d.G()),d.H())}});let r=bn();this.it.forEach((d,f)=>{let y=!0;f.forEachWhile(E=>{const A=this.wt(E);return!A||2===A.purpose||(y=!1,!1)}),y&&(r=r.add(d))});const a=new qp(e,t,this.rt,this.st,r);return this.st=lo(),this.it=Hp(),this.rt=new vr(Le),a}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new pT,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new vr(Le),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new pT),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Hp(){return new cr(tt.comparator)}function mT(){return new cr(tt.comparator)}const _T={asc:"ASCENDING",desc:"DESCENDING"},F_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class L_{constructor(e,t){this.databaseId=e,this.C=t}}function du(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yT(n,e){return n.C?e.toBase64():e.toUint8Array()}function GS(n,e){return du(n,e.toTimestamp())}function di(n){return gt(!!n),bt.fromTimestamp(function(e){const t=lu(e);return new Qr(t.seconds,t.nanos)}(n))}function Gb(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vT(n){const e=ln.fromString(n);return gt(AT(e)),e}function Gp(n,e){return Gb(n.databaseId,e.path)}function Ta(n,e){const t=vT(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(wT(t))}function Wb(n,e){return Gb(n.databaseId,e)}function bT(n){const e=vT(n);return 4===e.length?ln.emptyPath():wT(e)}function Wp(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wT(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ET(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function WS(n,e,t){const r=Ta(n,e.name),a=di(e.updateTime),d=new xi({mapValue:{fields:e.fields}}),f=er.newFoundDocument(r,a,d);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function V_(n,e){let t;if(e instanceof Ea)t={update:ET(n,e.key,e.value)};else if(e instanceof Ca)t={delete:Gp(n,e.key)};else if(e instanceof Vl)t={update:ET(n,e.key,e.data),updateMask:DT(e.fieldMask)};else{if(!(e instanceof Zb))return nt();t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,d){const f=d.transform;if(f instanceof kl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yc)return{fieldPath:d.field.canonicalString(),increment:f.N};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:GS(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:nt()),t;var a}function CT(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Mr.updateTime(di(a.updateTime)):void 0!==a.exists?Mr.exists(a.exists):Mr.none():Mr.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(d,f){let y=null;"setToServerValue"in f?(gt("REQUEST_TIME"===f.setToServerValue),y=new kl):"appendMissingElements"in f?y=new Fl(f.appendMissingElements.values||[]):"removeAllFromArray"in f?y=new Ll(f.removeAllFromArray.values||[]):"increment"in f?y=new yc(d,f.increment):nt();const E=Zr.fromServerFormat(f.fieldPath);return new Zp(E,y)}(n,a)):[];var a;if(e.update){const a=Ta(n,e.update.name),d=new xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Ph((e.updateMask.fieldPaths||[]).map(A=>Zr.fromServerFormat(A)));return new Vl(a,d,f,t,r)}return new Ea(a,d,t,r)}if(e.delete){const a=Ta(n,e.delete);return new Ca(a,t)}if(e.verify){const a=Ta(n,e.verify);return new Zb(a,t)}return nt()}function Kp(n,e){return{documents:[Wb(n,e.path)]}}function vc(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Wb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Wb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0===y.length)return;const E=y.map(A=>function(M){if("=="===M.op){if(zC(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NAN"}};if(Ob(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(zC(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NOT_NAN"}};if(Ob(M.value))return{unaryFilter:{field:Ul(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(M.field),op:XS(M.op),value:M.value}}}(A));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);a&&(t.structuredQuery.where=a);const d=function(y){if(0!==y.length)return y.map(E=>{return{field:Ul((A=E).field),direction:JS(A.dir)};var A})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=(E=e.limit,n.C||Ol(E)?E:{value:E});var E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=TT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=TT(e.endAt)),t}function zb(n){let e=bT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){gt(1===r);const M=t.from[0];M.allDescendants?a=M.collectionId:e=e.child(M.collectionId)}let d=[];t.where&&(d=QS(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(M=>{return new Pl(Zl((k=M).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let y=null;t.limit&&(y=function(M){let k;return k="object"==typeof M?M.value:M,Ol(k)?null:k}(t.limit));let E=null;t.startAt&&(E=Yp(t.startAt));let A=null;return t.endAt&&(A=Yp(t.endAt)),JC(e,a,f,d,y,"F",E,A)}function QS(n){return n?void 0!==n.unaryFilter?[IT(n)]:void 0!==n.fieldFilter?[Kb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>QS(e)).reduce((e,t)=>e.concat(t)):nt():[]}function TT(n){return{before:n.before,values:n.position}}function Yp(n){return new ba(n.values||[],!!n.before)}function JS(n){return _T[n]}function XS(n){return F_[n]}function Ul(n){return{fieldPath:n.canonicalString()}}function Zl(n){return Zr.fromServerFormat(n.fieldPath)}function Kb(n){return Ri.create(Zl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function IT(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Zl(n.unaryFilter.field);return Ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Zl(n.unaryFilter.field);return Ri.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Zl(n.unaryFilter.field);return Ri.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Zl(n.unaryFilter.field);return Ri.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function DT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ho(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xT(e)),e=ST(n.get(t),e);return xT(e)}function ST(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const d=n.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function xT(n){return n+"\x01\x01"}function Ia(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,r=[];let a="";for(let d=0;d<e;){const f=n.indexOf("\x01",d);switch((f<0||f>t)&&nt(),n.charAt(f+1)){case"\x01":const y=n.substring(d,f);let E;0===a.length?E=y:(a+=y,E=a,a=""),r.push(E);break;case"\x10":a+=n.substring(d,f),a+="\0";break;case"\x11":a+=n.substring(d,f+1);break;default:nt()}d=f+2}return new ln(r)}class U_{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Mi{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Mi.store="owner",Mi.key="owner";class Bl{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Bl.store="mutationQueues",Bl.keyPath="userId";class gn{constructor(e,t,r,a,d){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=d}}gn.store="mutations",gn.keyPath="batchId",gn.userMutationsIndex="userMutationsIndex",gn.userMutationsKeyPath=["userId","batchId"];class St{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ho(t)]}static key(e,t,r){return[e,Ho(t),r]}}St.store="documentMutations",St.PLACEHOLDER=new St;class bc{constructor(e,t){this.path=e,this.readTime=t}}class jh{constructor(e,t){this.path=e,this.version=t}}class kn{constructor(e,t,r,a,d,f){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=d,this.parentPath=f}}kn.store="remoteDocuments",kn.readTimeIndex="readTimeIndex",kn.readTimeIndexPath="readTime",kn.collectionReadTimeIndex="collectionReadTimeIndex",kn.collectionReadTimeIndexPath=["parentPath","readTime"];class hu{constructor(e){this.byteSize=e}}hu.store="remoteDocumentGlobal",hu.key="remoteDocumentGlobalKey";class it{constructor(e,t,r,a,d,f,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=f,this.query=y}}it.store="targets",it.keyPath="targetId",it.queryTargetsIndexName="queryTargetsIndex",it.queryTargetsKeyPath=["canonicalId","targetId"];class wn{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}wn.store="targetDocuments",wn.keyPath=["targetId","path"],wn.documentTargetsIndex="documentTargetsIndex",wn.documentTargetsKeyPath=["path","targetId"];class qi{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}qi.key="targetGlobalKey",qi.store="targetGlobal";class Us{constructor(e,t){this.collectionId=e,this.parent=t}}Us.store="collectionParents",Us.keyPath=["collectionId","parent"];class wc{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}wc.store="clientMetadata",wc.keyPath="clientId";class jl{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}jl.store="bundles",jl.keyPath="bundleId";class ql{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}ql.store="namedQueries",ql.keyPath="name";const UR=[Bl.store,gn.store,St.store,kn.store,it.store,Mi.store,qi.store,wn.store,wc.store,hu.store,Us.store,jl.store,ql.store],RT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((r,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(r,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,r)=>{t(e)})}static reject(e){return new Ie((t,r)=>{r(e)})}static waitFor(e){return new Ie((t,r)=>{let a=0,d=0,f=!1;e.forEach(y=>{++a,y.next(()=>{++d,f&&d===a&&t()},E=>r(E))}),f=!0,d===a&&t()})}static or(e){let t=Ie.resolve(!1);for(const r of e)t=t.next(a=>a?Ie.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,d)=>{r.push(t.call(this,a,d))}),this.waitFor(r)}}class Fn{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Ur,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Qp(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const a=Qb(r.target.error);this.It.reject(new Qp(e,a))}}static open(e,t,r,a){try{return new Fn(t,e.transaction(a,r))}catch(d){throw new Qp(t,d)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Yb(t)}}class br{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===br.bt((0,yt.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,yt.hl)())return!1;if(br.vt())return!0;const e=(0,yt.z$)(),t=br.bt(e),r=0<t&&t<10,a=br.Vt(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||d)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=f=>{r(f.target.result)},d.onblocked=()=>{a(new Qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=f=>{const y=f.target.error;a("VersionError"===y.name?new Me(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Me(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Qp(e,y))},d.onupgradeneeded=f=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Rt.Nt(f.target.result,d.transaction,f.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var d=this;return(0,_e.Z)(function*(){const f="readonly"===t;let y=0;for(;;){++y;try{d.db=yield d.Ct(e);const E=Fn.open(d.db,e,f?"readonly":"readwrite",r),A=a(E).catch(M=>(E.abort(M),Ie.reject(M))).toPromise();return A.catch(()=>{}),yield E.At,A}catch(E){const A="FirebaseError"!==E.name&&y<3;if(Fe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",A),d.close(),!A)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NT{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return ho(this.$t.delete())}}class Qp extends Me{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ec(n){return"IndexedDbTransactionError"===n.name}class Yb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ho(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))}get(e){return ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),ho(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Ut(r,(d,f)=>{a.push(f)}).next(()=>a)}qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const a=this.cursor(r);return this.Ut(a,(d,f,y)=>y.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new Ie((r,a)=>{t.onerror=d=>{const f=Qb(d.target.error);a(f)},t.onsuccess=d=>{const f=d.target.result;f?e(f.primaryKey,f.value).next(y=>{y?f.continue():r()}):r()}})}Ut(e,t){const r=[];return new Ie((a,d)=>{e.onerror=f=>{d(f.target.error)},e.onsuccess=f=>{const y=f.target.result;if(!y)return void a();const E=new NT(y),A=t(y.primaryKey,y.value,E);if(A instanceof Ie){const M=A.catch(k=>(E.done(),Ie.reject(k)));r.push(M)}E.isDone?a():null===E.Ft?y.continue():y.continue(E.Ft)}}).next(()=>Ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ho(n){return new Ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=Qb(r.target.error);t(a)}})}let qh=!1;function Qb(n){const e=br.bt((0,yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qh||(qh=!0,setTimeout(()=>{throw r},0)),r}}return n}class Cc extends MT{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function hs(n,e){const t=qe(n);return br.Dt(t.Wt,e)}class Z_{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&uT(d,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&M_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&M_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(t,r)=>BS(t,r))&&Oh(this.baseMutations,e.baseMutations,(t,r)=>BS(t,r))}}class Jp{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){gt(e.mutations.length===r.length);let a=$b();const d=e.mutations;for(let f=0;f<d.length;f++)a=a.insert(d[f].key,r[f].version);return new Jp(e,t,r,a)}}class fo{constructor(e,t,r,a,d=bt.min(),f=bt.min(),y=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class B_{constructor(e){this.Gt=e}}function j_(n,e){if(e.document)return WS(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=tt.fromSegments(e.noDocument.path),r=Gl(e.noDocument.readTime),a=er.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=tt.fromSegments(e.unknownDocument.path),r=Gl(e.unknownDocument.version);return er.newUnknownDocument(t,r)}return nt()}function $l(n,e,t){const r=Jb(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const d={name:Gp(y=n.Gt,(E=e).key),fields:E.data.value.mapValue.fields,updateTime:du(y,E.version.toTimestamp())};return new kn(null,null,d,e.hasCommittedMutations,r,a)}var y,E;if(e.isNoDocument()){const d=e.key.path.toArray(),f=Hl(e.version),y=e.hasCommittedMutations;return new kn(null,new bc(d,f),null,y,r,a)}if(e.isUnknownDocument()){const d=e.key.path.toArray(),f=Hl(e.version);return new kn(new jh(d,f),null,null,!0,r,a)}return nt()}function Jb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xp(n){const e=new Qr(n[0],n[1]);return bt.fromTimestamp(e)}function Hl(n){const e=n.toTimestamp();return new U_(e.seconds,e.nanoseconds)}function Gl(n){const e=new Qr(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Wl(n,e){const t=(e.baseMutations||[]).map(d=>CT(n.Gt,d));for(let d=0;d<e.mutations.length-1;++d){const f=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(f.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const r=e.mutations.map(d=>CT(n.Gt,d)),a=Qr.fromMillis(e.localWriteTimeMs);return new Z_(e.batchId,a,t,r)}function Tc(n){const e=Gl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Gl(n.lastLimboFreeSnapshotVersion):bt.min();let r;var a;return void 0!==n.query.documents?(gt(1===(a=n.query).documents.length),r=ds(_c(bT(a.documents[0])))):r=ds(zb(n.query)),new fo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,xr.fromBase64String(n.resumeToken))}function OT(n,e){const t=Hl(e.snapshotVersion),r=Hl(e.lastLimboFreeSnapshotVersion);let a;a=T_(e.target)?Kp(n.Gt,e.target):vc(n.Gt,e.target);const d=e.resumeToken.toBase64();return new it(e.targetId,Vh(e.target),t,d,e.sequenceNumber,r,a)}function eg(n){const e=zb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?XC(e,e.limit,"L"):e}class Xb{getBundleMetadata(e,t){return e1(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Gl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return e1(e).put({bundleId:(r=t).id,createTime:Hl(di(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return t1(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:eg(a.bundledQuery),readTime:Gl(a.readTime)};var a})}saveNamedQuery(e,t){return t1(e).put({name:(r=t).name,readTime:Hl(di(r.readTime)),bundledQuery:r.bundledQuery});var r}}function e1(n){return hs(n,jl.store)}function t1(n){return hs(n,ql.store)}class Tt{constructor(){this.zt=new PT}addToCollectionParentIndex(e,t){return this.zt.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.zt.getEntries(t))}}class PT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new vr(ln.comparator),d=!a.has(r);return this.index[t]=a.add(r),d}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new vr(ln.comparator)).toArray()}}class tg{constructor(){this.Ht=new PT}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const d={collectionId:r,parent:Ho(a)};return kT(e).put(d)}return Ie.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[qC(t),""],!1,!0);return kT(e).Bt(a).next(d=>{for(const f of d){if(f.collectionId!==t)break;r.push(Ia(f.parent))}return r})}}function kT(n){return hs(n,Us.store)}const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n1(n,e,t){const r=n.store(gn.store),a=n.store(St.store),d=[],f=IDBKeyRange.only(t.batchId);let y=0;const E=r.jt({range:f},(M,k,$)=>(y++,$.delete()));d.push(E.next(()=>{gt(1===y)}));const A=[];for(const M of t.mutations){const k=St.key(e,M.key.path,t.batchId);d.push(a.delete(k)),A.push(M.key)}return Ie.waitFor(d).next(()=>A)}function ew(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class tw{constructor(e,t,r,a){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,r,a){gt(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new tw(d,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).jt({index:gn.userMutationsIndex,range:r},(a,d,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const d=$h(e),f=Ic(e);return f.add({}).next(y=>{gt("number"==typeof y);const E=new Z_(y,t,r,a),A=function($,X,fe){const Pe=fe.baseMutations.map(Mt=>V_($.Gt,Mt)),Ue=fe.mutations.map(Mt=>V_($.Gt,Mt));return new gn(X,fe.batchId,fe.localWriteTime.toMillis(),Pe,Ue)}(this.k,this.userId,E),M=[];let k=new vr(($,X)=>Le($.canonicalString(),X.canonicalString()));for(const $ of a){const X=St.key(this.userId,$.key.path,y);k=k.add($.key.path.popLast()),M.push(f.put(A)),M.push(d.put(X,St.PLACEHOLDER))}return k.forEach($=>{M.push(this.Jt.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.Yt[y]=E.keys()}),Ie.waitFor(M).next(()=>E)})}lookupMutationBatch(e,t){return Ic(e).get(t).next(r=>r?(gt(r.userId===this.userId),Wl(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Ie.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let d=null;return Ic(e).jt({index:gn.userMutationsIndex,range:a},(f,y,E)=>{y.userId===this.userId&&(gt(y.batchId>=r),d=Wl(this.k,y)),E.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ic(e).jt({index:gn.userMutationsIndex,range:t,reverse:!0},(a,d,f)=>{r=d.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).Bt(gn.userMutationsIndex,t).next(r=>r.map(a=>Wl(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=St.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),d=[];return $h(e).jt({range:a},(f,y,E)=>{const[A,M,k]=f,$=Ia(M);if(A===this.userId&&t.path.isEqual($))return Ic(e).get(k).next(X=>{if(!X)throw nt();gt(X.userId===this.userId),d.push(Wl(this.k,X))});E.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vr(Le);const a=[];return t.forEach(d=>{const f=St.prefixForPath(this.userId,d.path),y=IDBKeyRange.lowerBound(f),E=$h(e).jt({range:y},(A,M,k)=>{const[$,X,fe]=A,Pe=Ia(X);$===this.userId&&d.path.isEqual(Pe)?r=r.add(fe):k.done()});a.push(E)}),Ie.waitFor(a).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,d=St.prefixForPath(this.userId,r),f=IDBKeyRange.lowerBound(d);let y=new vr(Le);return $h(e).jt({range:f},(E,A,M)=>{const[k,$,X]=E,fe=Ia($);k===this.userId&&r.isPrefixOf(fe)?fe.length===a&&(y=y.add(X)):M.done()}).next(()=>this.te(e,y))}te(e,t){const r=[],a=[];return t.forEach(d=>{a.push(Ic(e).get(d).next(f=>{if(null===f)throw nt();gt(f.userId===this.userId),r.push(Wl(this.k,f))}))}),Ie.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return n1(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ie.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ie.resolve();const r=IDBKeyRange.lowerBound(St.prefixForUser(this.userId)),a=[];return $h(e).jt({range:r},(d,f,y)=>{if(d[0]===this.userId){const E=Ia(d[1]);a.push(E)}else y.done()}).next(()=>{gt(0===a.length)})})}containsKey(e,t){return hi(e,this.userId,t)}ne(e){return q_(e).get(this.userId).next(t=>t||new Bl(this.userId,-1,""))}}function hi(n,e,t){const r=St.prefixForPath(e,t.path),a=r[1],d=IDBKeyRange.lowerBound(r);let f=!1;return $h(n).jt({range:d,Kt:!0},(y,E,A)=>{const[M,k,$]=y;M===e&&k===a&&(f=!0),A.done()}).next(()=>f)}function Ic(n){return hs(n,gn.store)}function $h(n){return hs(n,St.store)}function q_(n){return hs(n,Bl.store)}class zl{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new zl(0)}static re(){return new zl(-1)}}class r1{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new zl(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>bt.fromTimestamp(new Qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ce(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Hh(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(gt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let a=0;const d=[];return Hh(e).jt((f,y)=>{const E=Tc(y);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(a++,d.push(this.removeTargetData(e,E)))}).next(()=>Ie.waitFor(d)).next(()=>a)}forEachTarget(e,t){return Hh(e).jt((r,a)=>{const d=Tc(a);t(d)})}oe(e){return LT(e).get(qi.key).next(t=>(gt(null!==t),t))}ce(e,t){return LT(e).put(qi.key,t)}ae(e,t){return Hh(e).put(OT(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vh(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let d=null;return Hh(e).jt({range:a,index:it.queryTargetsIndexName},(f,y,E)=>{const A=Tc(y);C_(t,A.target)&&(d=A,E.done())}).next(()=>d)}addMatchingKeys(e,t,r){const a=[],d=Dc(e);return t.forEach(f=>{const y=Ho(f.path);a.push(d.put(new wn(r,y))),a.push(this.referenceDelegate.addReference(e,r,f))}),Ie.waitFor(a)}removeMatchingKeys(e,t,r){const a=Dc(e);return Ie.forEach(t,d=>{const f=Ho(d.path);return Ie.waitFor([a.delete([r,f]),this.referenceDelegate.removeReference(e,r,d)])})}removeMatchingKeysForTargetId(e,t){const r=Dc(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Dc(e);let d=bn();return a.jt({range:r,Kt:!0},(f,y,E)=>{const A=Ia(f[1]),M=new tt(A);d=d.add(M)}).next(()=>d)}containsKey(e,t){const r=Ho(t.path),a=IDBKeyRange.bound([r],[qC(r)],!1,!0);let d=0;return Dc(e).jt({index:wn.documentTargetsIndex,Kt:!0,range:a},([f,y],E,A)=>{0!==f&&(d++,A.done())}).next(()=>d>0)}Et(e,t){return Hh(e).get(t).next(r=>r?Tc(r):null)}}function Hh(n){return hs(n,it.store)}function LT(n){return hs(n,qi.store)}function Dc(n){return hs(n,wn.store)}function Kl(n){return ng.apply(this,arguments)}function ng(){return(ng=(0,_e.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==RT)throw n;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function VT([n,e],[t,r]){const a=Le(n,t);return 0===a?Le(e,r):a}class i1{constructor(e){this.he=e,this.buffer=new vr(VT),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();VT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UT{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Ec(a)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Kl(a)}yield t.me(e)}))}}class nw{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(ls.I);const r=new i1(t);return this.ge.forEachTarget(e,a=>r.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>r.de(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(FT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,a,d,f,y,E,A;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),a=this.params.maximumSequenceNumbersToCollect):a=k,f=Date.now(),this.nthSequenceNumber(e,a))).next(k=>(r=k,y=Date.now(),this.removeTargets(e,r,t))).next(k=>(d=k,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(A=Date.now(),Sb()<=nc.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-M}ms\n\tDetermined least recently used ${a} in `+(y-f)+`ms\n\tRemoved ${d} targets in `+(E-y)+`ms\n\tRemoved ${k} documents in `+(A-E)+`ms\nTotal Duration: ${A-M}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:k})))}}class s1{constructor(e,t){this.db=e,this.garbageCollector=new nw(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,a)=>t(a))}addReference(e,t,r){return rw(e,r)}removeReference(e,t,r){return rw(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return rw(e,t)}Ae(e,t){return function(r,a){let d=!1;return q_(r).Qt(f=>hi(r,f,a).next(y=>(y&&(d=!0),Ie.resolve(!y)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.Ie(e,(f,y)=>{if(y<=t){const E=this.Ae(e,f).next(A=>{if(!A)return d++,r.getEntry(e,f).next(()=>(r.removeEntry(f),Dc(e).delete([0,Ho(f.path)])))});a.push(E)}}).next(()=>Ie.waitFor(a)).next(()=>r.apply(e)).next(()=>d)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return rw(e,t)}Ie(e,t){const r=Dc(e);let a,d=ls.I;return r.jt({index:wn.documentTargetsIndex},([f,y],{path:E,sequenceNumber:A})=>{0===f?(d!==ls.I&&t(new tt(Ia(a)),d),d=A,a=E):d=ls.I}).next(()=>{d!==ls.I&&t(new tt(Ia(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rw(n,e){return Dc(n).put((r=n.currentSequenceNumber,new wn(0,Ho(e.path),r)));var r}class Gh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,d]of r)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){ya(this.inner,(t,r)=>{for(const[a,d]of r)e(a,d)})}isEmpty(){return Rp(this.inner)}}class ZT{constructor(){this.changes=new Gh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:bt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:er.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ie.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class o1{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return Ac(e).put(Sc(t),r)}removeEntry(e,t){const r=Ac(e),a=Sc(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return Ac(e).get(Sc(t)).next(r=>this.be(t,r))}Pe(e,t){return Ac(e).get(Sc(t)).next(r=>({document:this.be(t,r),size:ew(r)}))}getEntries(e,t){let r=lo();return this.ve(e,t,(a,d)=>{const f=this.be(a,d);r=r.insert(a,f)}).next(()=>r)}Ve(e,t){let r=lo(),a=new cr(tt.comparator);return this.ve(e,t,(d,f)=>{const y=this.be(d,f);r=r.insert(d,y),a=a.insert(d,ew(f))}).next(()=>({documents:r,Se:a}))}ve(e,t,r){if(t.isEmpty())return Ie.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),d=t.getIterator();let f=d.getNext();return Ac(e).jt({range:a},(y,E,A)=>{const M=tt.fromSegments(y);for(;f&&tt.comparator(f,M)<0;)r(f,null),f=d.getNext();f&&f.isEqual(M)&&(r(f,E),f=d.hasNext()?d.getNext():null),f?A.Lt(f.path.toArray()):A.done()}).next(()=>{for(;f;)r(f,null),f=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=lo();const d=t.path.length+1,f={};if(r.isEqual(bt.min())){const y=t.path.toArray();f.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),E=Jb(r);f.range=IDBKeyRange.lowerBound([y,E],!0),f.index=kn.collectionReadTimeIndex}return Ac(e).jt(f,(y,E,A)=>{if(y.length!==d)return;const M=j_(this.k,E);t.path.isPrefixOf(M.key.path)?Vp(t,M)&&(a=a.insert(M.key,M)):A.done()}).next(()=>a)}newChangeBuffer(e){return new a1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return BT(e).get(hu.key).next(t=>(gt(!!t),t))}Re(e,t){return BT(e).put(hu.key,t)}be(e,t){if(t){const r=j_(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return er.newInvalidDocument(e)}}class a1 extends ZT{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Gh(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new vr((d,f)=>Le(d.canonicalString(),f.canonicalString()));return this.changes.forEach((d,f)=>{const y=this.Ce.get(d);if(f.document.isValidDocument()){const E=$l(this.De.k,f.document,this.getReadTime(d));a=a.add(d.path.popLast()),r+=ew(E)-y,t.push(this.De.addEntry(e,d,E))}else if(r-=y,this.trackRemovals){const E=$l(this.De.k,er.newNoDocument(d,bt.min()),this.getReadTime(d));t.push(this.De.addEntry(e,d,E))}else t.push(this.De.removeEntry(e,d))}),a.forEach(d=>{t.push(this.De.Jt.addToCollectionParentIndex(e,d))}),t.push(this.De.updateMetadata(e,r)),Ie.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:a})=>(a.forEach((d,f)=>{this.Ce.set(d,f)}),r))}}function BT(n){return hs(n,hu.store)}function Ac(n){return hs(n,kn.store)}function Sc(n){return n.path.toArray()}class u1{constructor(e){this.k=e}Nt(e,t,r,a){gt(r<a&&r>=0&&a<=11);const d=new Fn("createOrUpgrade",t);var y;r<1&&a>=1&&(e.createObjectStore(Mi.store),(y=e).createObjectStore(Bl.store,{keyPath:Bl.keyPath}),y.createObjectStore(gn.store,{keyPath:gn.keyPath,autoIncrement:!0}).createIndex(gn.userMutationsIndex,gn.userMutationsKeyPath,{unique:!0}),y.createObjectStore(St.store),jT(e),function(y){y.createObjectStore(kn.store)}(e));let f=Ie.resolve();return r<3&&a>=3&&(0!==r&&(function(y){y.deleteObjectStore(wn.store),y.deleteObjectStore(it.store),y.deleteObjectStore(qi.store)}(e),jT(e)),f=f.next(()=>function(y){const E=y.store(qi.store),A=new qi(0,0,bt.min().toTimestamp(),0);return E.put(qi.key,A)}(d))),r<4&&a>=4&&(0!==r&&(f=f.next(()=>function(y,E){return E.store(gn.store).Bt().next(A=>{y.deleteObjectStore(gn.store),y.createObjectStore(gn.store,{keyPath:gn.keyPath,autoIncrement:!0}).createIndex(gn.userMutationsIndex,gn.userMutationsKeyPath,{unique:!0});const M=E.store(gn.store),k=A.map($=>M.put($));return Ie.waitFor(k)})}(e,d))),f=f.next(()=>{!function(y){y.createObjectStore(wc.store,{keyPath:wc.keyPath})}(e)})),r<5&&a>=5&&(f=f.next(()=>this.Ne(d))),r<6&&a>=6&&(f=f.next(()=>(function(y){y.createObjectStore(hu.store)}(e),this.ke(d)))),r<7&&a>=7&&(f=f.next(()=>this.xe(d))),r<8&&a>=8&&(f=f.next(()=>this.$e(e,d))),r<9&&a>=9&&(f=f.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const E=y.objectStore(kn.store);E.createIndex(kn.readTimeIndex,kn.readTimeIndexPath,{unique:!1}),E.createIndex(kn.collectionReadTimeIndex,kn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(f=f.next(()=>this.Oe(d))),r<11&&a>=11&&(f=f.next(()=>{(function(y){y.createObjectStore(jl.store,{keyPath:jl.keyPath})})(e),function(y){y.createObjectStore(ql.store,{keyPath:ql.keyPath})}(e)})),f}ke(e){let t=0;return e.store(kn.store).jt((r,a)=>{t+=ew(a)}).next(()=>{const r=new hu(t);return e.store(hu.store).put(hu.key,r)})}Ne(e){const t=e.store(Bl.store),r=e.store(gn.store);return t.Bt().next(a=>Ie.forEach(a,d=>{const f=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return r.Bt(gn.userMutationsIndex,f).next(y=>Ie.forEach(y,E=>{gt(E.userId===d.userId);const A=Wl(this.k,E);return n1(e,d.userId,A).next(()=>{})}))}))}xe(e){const t=e.store(wn.store),r=e.store(kn.store);return e.store(qi.store).get(qi.key).next(a=>{const d=[];return r.jt((f,y)=>{const E=new ln(f),A=[0,Ho(E)];d.push(t.get(A).next(M=>M?Ie.resolve():t.put(new wn(0,Ho(E),a.highestListenSequenceNumber))))}).next(()=>Ie.waitFor(d))})}$e(e,t){e.createObjectStore(Us.store,{keyPath:Us.keyPath});const r=t.store(Us.store),a=new PT,d=f=>{if(a.add(f)){const y=f.lastSegment(),E=f.popLast();return r.put({collectionId:y,parent:Ho(E)})}};return t.store(kn.store).jt({Kt:!0},(f,y)=>{const E=new ln(f);return d(E.popLast())}).next(()=>t.store(St.store).jt({Kt:!0},([f,y,E],A)=>{const M=Ia(y);return d(M.popLast())}))}Oe(e){const t=e.store(it.store);return t.jt((r,a)=>{const d=Tc(a),f=OT(this.k,d);return t.put(f)})}}function jT(n){n.createObjectStore(wn.store,{keyPath:wn.keyPath}).createIndex(wn.documentTargetsIndex,wn.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(it.store,{keyPath:it.keyPath}).createIndex(it.queryTargetsIndexName,it.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(qi.store)}const $_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yl{constructor(e,t,r,a,d,f,y,E,A,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=d,this.window=f,this.document=y,this.Fe=A,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=k=>Promise.resolve(),!Yl.Pt())throw new Me(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s1(this,a),this.Ge=t+"main",this.k=new B_(E),this.ze=new br(this.Ge,11,new u1(this.k)),this.He=new r1(this.referenceDelegate,this.k),this.Jt=new tg,this.Je=new o1(this.k,this.Jt),this.Ye=new Xb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(he.FAILED_PRECONDITION,$_);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ls(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,_e.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rg(e).put(new wc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Ec(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return H_(e).get(Mi.key).next(t=>Ie.resolve(this.un(t)))}hn(e){return rg(e).delete(this.clientId)}ln(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=hs(r,wc.store);return a.Bt().next(d=>{const f=e.dn(d,18e5),y=d.filter(E=>-1===f.indexOf(E));return Ie.forEach(y,E=>a.delete(E.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ie.resolve(!0):H_(e).get(Mi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Me(he.FAILED_PRECONDITION,$_);return!1}}return!(!this.networkEnabled||!this.inForeground)||rg(e).Bt().next(r=>void 0===this.dn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Mi.store,wc.store],t=>{const r=new Cc(t,ls.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>rg(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return tw.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let d;return Fe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",UR,f=>(d=new Cc(f,this.Be?this.Be.next():ls.I),"readwrite-primary"===t?this.rn(d).next(y=>!!y||this.on(d)).next(y=>{if(!y)throw Sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Me(he.FAILED_PRECONDITION,RT);return r(d)}).next(y=>this.an(d).next(()=>y)):this.En(d).next(()=>r(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}En(e){return H_(e).get(Mi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(he.FAILED_PRECONDITION,$_)})}an(e){const t=new Mi(this.clientId,this.allowTabSynchronization,Date.now());return H_(e).put(Mi.key,t)}static Pt(){return br.Pt()}cn(e){const t=H_(e);return t.get(Mi.key).next(r=>this.un(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete(Mi.key)):Ie.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Sr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Sr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Sr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function H_(n){return hs(n,Mi.store)}function rg(n){return hs(n,wc.store)}function iw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class c1{constructor(e,t){this.progress=e,this.In=t}}class qT{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(a=>{for(const d of r)d.applyToLocalView(a);return a})}Pn(e,t){e.forEach((r,a)=>{for(const d of t)d.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return tt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):Fb(t)?this.Dn(e,t,r):this.Cn(e,t,r);var a}Sn(e,t){return this.Rn(e,new tt(t)).next(r=>{let a=P_();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Dn(e,t,r){const a=t.collectionGroup;let d=P_();return this.Jt.getCollectionParents(e,a).next(f=>Ie.forEach(f,y=>{const E=(A=t,M=y.child(a),new wa(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,M;return this.Cn(e,E,r).next(A=>{A.forEach((M,k)=>{d=d.insert(M,k)})})}).next(()=>d))}Cn(e,t,r){let a,d;return this.Je.getDocumentsMatchingQuery(e,t,r).next(f=>(a=f,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(d=f,this.Nn(e,d,a).next(y=>{a=y;for(const E of d)for(const A of E.mutations){const M=A.key;let k=a.get(M);null==k&&(k=er.newInvalidDocument(M),a=a.insert(M,k)),M_(A,k,E.localWriteTime),k.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((f,y)=>{Vp(t,y)||(a=a.remove(f))}),a))}Nn(e,t,r){let a=bn();for(const f of t)for(const y of f.mutations)y instanceof Vl&&null===r.get(y.key)&&(a=a.add(y.key));let d=r;return this.Je.getEntries(e,a).next(f=>(f.forEach((y,E)=>{E.isFoundDocument()&&(d=d.insert(y,E))}),d))}}class sw{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=a}static $n(e,t){let r=bn(),a=bn();for(const d of t.docChanges)switch(d.type){case 0:r=r.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new sw(e,t.fromCache,r,a)}}class $T{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||r.isEqual(bt.min())?this.Fn(e,t):this.Mn.vn(e,a).next(d=>{const f=this.Ln(t,d);return(D_(t)||Lp(t))&&this.Bn(t.limitType,f,a,r)?this.Fn(e,t):(Sb()<=nc.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Lb(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(y=>(f.forEach(E=>{y=y.insert(E.key,E)}),y)))});var d}Ln(e,t){let r=new vr(tT(e));return t.forEach((a,d)=>{Vp(e,d)&&(r=r.add(d))}),r}Bn(e,t,r,a){if(r.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Fn(e,t){return Sb()<=nc.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Lb(t)),this.Mn.getDocumentsMatchingQuery(e,t,bt.min())}}class HT{constructor(e,t,r,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new cr(Le),this.Kn=new Gh(d=>Vh(d),C_),this.jn=bt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new qT(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function GT(n,e,t,r){return new HT(n,e,t,r)}function WT(n,e){return zT.apply(this,arguments)}function zT(){return(zT=(0,_e.Z)(function*(n,e){const t=qe(n);let r=t.An,a=t.Wn;const d=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let y;return t.An.getAllMutationBatches(f).next(E=>(y=E,r=t.persistence.getMutationQueue(e),a=new qT(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(f))).next(E=>{const A=[],M=[];let k=bn();for(const $ of y){A.push($.batchId);for(const X of $.mutations)k=k.add(X.key)}for(const $ of E){M.push($.batchId);for(const X of $.mutations)k=k.add(X.key)}return a.vn(f,k).next($=>({Gn:$,removedBatchIds:A,addedBatchIds:M}))})});return t.An=r,t.Wn=a,t.Un.On(t.Wn),d})).apply(this,arguments)}function ZR(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),d=t.Qn.newChangeBuffer({trackRemovals:!0});return function(f,y,E,A){const M=E.batch,k=M.keys();let $=Ie.resolve();return k.forEach(X=>{$=$.next(()=>A.getEntry(y,X)).next(fe=>{const Pe=E.docVersions.get(X);gt(null!==Pe),fe.version.compareTo(Pe)<0&&(M.applyToRemoteDocument(fe,E),fe.isValidDocument()&&A.addEntry(fe,E.commitVersion))})}),$.next(()=>f.An.removeMutationBatch(y,M))}(t,r,e,d).next(()=>d.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,a))})}function l1(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function ow(n,e){const t=qe(n),r=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const f=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const y=[];e.targetChanges.forEach((A,M)=>{const k=a.get(M);if(!k)return;y.push(t.He.removeMatchingKeys(d,A.removedDocuments,M).next(()=>t.He.addMatchingKeys(d,A.addedDocuments,M)));let $=k.withSequenceNumber(d.currentSequenceNumber);var X,fe,Pe;e.targetMismatches.has(M)?$=$.withResumeToken(xr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(A.resumeToken,r)),a=a.insert(M,$),fe=$,Pe=A,(0===(X=k).resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&y.push(t.He.updateTargetData(d,$))});let E=lo();if(e.documentUpdates.forEach((A,M)=>{e.resolvedLimboDocuments.has(A)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(d,A))}),y.push(KT(d,f,e.documentUpdates,r,void 0).next(A=>{E=A})),!r.isEqual(bt.min())){const A=t.He.getLastRemoteSnapshotVersion(d).next(M=>t.He.setTargetsMetadata(d,d.currentSequenceNumber,r));y.push(A)}return Ie.waitFor(y).next(()=>f.apply(d)).next(()=>t.Wn.Vn(d,E)).next(()=>E)}).then(d=>(t.qn=a,d))}function KT(n,e,t,r,a){let d=bn();return t.forEach(f=>d=d.add(f)),e.getEntries(n,d).next(f=>{let y=lo();return t.forEach((E,A)=>{const M=f.get(E),k=(null==a?void 0:a.get(E))||r;A.isNoDocument()&&A.version.isEqual(bt.min())?(e.removeEntry(E,k),y=y.insert(E,A)):!M.isValidDocument()||A.version.compareTo(M.version)>0||0===A.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(A,k),y=y.insert(E,A)):Fe("LocalStore","Ignoring outdated watch update for ",E,". Current version:",M.version," Watch version:",A.version)}),y})}function d1(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Wh(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.He.getTargetData(r,e).next(d=>d?(a=d,Ie.resolve(a)):t.He.allocateTargetId(r).next(f=>(a=new fo(e,f,0,r.currentSequenceNumber),t.He.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.qn.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function zh(n,e,t){return aw.apply(this,arguments)}function aw(){return(aw=(0,_e.Z)(function*(n,e,t){const r=qe(n),a=r.qn.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",d,f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Ec(f))throw f;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.qn=r.qn.remove(e),r.Kn.delete(a.target)})).apply(this,arguments)}function G_(n,e,t){const r=qe(n);let a=bt.min(),d=bn();return r.persistence.runTransaction("Execute query","readonly",f=>function(y,E,A){const M=qe(y),k=M.Kn.get(A);return void 0!==k?Ie.resolve(M.qn.get(k)):M.He.getTargetData(E,A)}(r,f,ds(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(f,y.targetId).next(E=>{d=E})}).next(()=>r.Un.getDocumentsMatchingQuery(f,e,t?a:bt.min(),t?d:bn())).next(y=>({documents:y,zn:d})))}function uw(n,e){const t=qe(n),r=qe(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>r.Et(d,e).next(f=>f?f.target:null))}function W_(n){const e=qe(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,d){const f=qe(r);let y=lo(),E=Jb(d);const A=Ac(a),M=IDBKeyRange.lowerBound(E,!0);return A.jt({index:kn.readTimeIndex,range:M},(k,$)=>{const X=j_(f.k,$);y=y.insert(X.key,X),E=$.readTime}).next(()=>({In:y,readTime:Xp(E)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function xc(){return(xc=(0,_e.Z)(function*(n){const e=qe(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=Ac(r);let d=bt.min();return a.jt({index:kn.readTimeIndex,reverse:!0},(f,y,E)=>{y.readTime&&(d=Xp(y.readTime)),E.done()}).next(()=>d)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function z_(){return(z_=(0,_e.Z)(function*(n,e,t,r){const a=qe(n);let d=bn(),f=lo(),y=$b();for(const M of t){const k=e.Hn(M.metadata.name);M.document&&(d=d.add(k)),f=f.insert(k,e.Jn(M)),y=y.insert(k,e.Yn(M.metadata.readTime))}const E=a.Qn.newChangeBuffer({trackRemovals:!0}),A=yield Wh(a,(M=r,ds(_c(ln.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>KT(M,E,f,bt.min(),y).next(k=>(E.apply(M),k)).next(k=>a.He.removeMatchingKeysForTargetId(M,A.targetId).next(()=>a.He.addMatchingKeys(M,d,A.targetId)).next(()=>a.Wn.Vn(M,k)).next(()=>k)))})).apply(this,arguments)}function Go(n,e){return ig.apply(this,arguments)}function ig(){return(ig=(0,_e.Z)(function*(n,e,t=bn()){const r=yield Wh(n,ds(eg(e.bundledQuery))),a=qe(n);return a.persistence.runTransaction("Save named query","readwrite",d=>{const f=di(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return a.Ye.saveNamedQuery(d,e);const y=r.withResumeToken(xr.EMPTY_BYTE_STRING,f);return a.qn=a.qn.insert(y.targetId,y),a.He.updateTargetData(d,y).next(()=>a.He.removeMatchingKeysForTargetId(d,r.targetId)).next(()=>a.He.addMatchingKeys(d,t,r.targetId)).next(()=>a.Ye.saveNamedQuery(d,e))})})).apply(this,arguments)}class f1{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:di(r.createTime)}),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:eg(r.bundledQuery),readTime:di(r.readTime)}),Ie.resolve();var r}}class K_{constructor(){this.ts=new vr(Br.es),this.ns=new vr(Br.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Br(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Br(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new tt(new ln([])),r=new Br(t,e),a=new Br(t,e+1),d=[];return this.ns.forEachInRange([r,a],f=>{this.os(f),d.push(f.key)}),d}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new tt(new ln([])),r=new Br(t,e),a=new Br(t,e+1);let d=bn();return this.ns.forEachInRange([r,a],f=>{d=d.add(f.key)}),d}containsKey(e){const t=new Br(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Br{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return tt.comparator(e.key,t.key)||Le(e.fs,t.fs)}static ss(e,t){return Le(e.fs,t.fs)||tt.comparator(e.key,t.key)}}class YT{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new vr(Br.es)}checkEmpty(e){return Ie.resolve(0===this.An.length)}addMutationBatch(e,t,r,a){const d=this.ds;this.ds++;const f=new Z_(d,t,r,a);this.An.push(f);for(const y of a)this.ws=this.ws.add(new Br(y.key,d)),this.Jt.addToCollectionParentIndex(e,y.key.path.popLast());return Ie.resolve(f)}lookupMutationBatch(e,t){return Ie.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),d=a<0?0:a;return Ie.resolve(this.An.length>d?this.An[d]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ie.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Br(t,0),a=new Br(t,Number.POSITIVE_INFINITY),d=[];return this.ws.forEachInRange([r,a],f=>{const y=this._s(f.fs);d.push(y)}),Ie.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vr(Le);return t.forEach(a=>{const d=new Br(a,0),f=new Br(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([d,f],y=>{r=r.add(y.fs)})}),Ie.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let d=r;tt.isDocumentKey(d)||(d=d.child(""));const f=new Br(new tt(d),0);let y=new vr(Le);return this.ws.forEachWhile(E=>{const A=E.key.path;return!!r.isPrefixOf(A)&&(A.length===a&&(y=y.add(E.fs)),!0)},f),Ie.resolve(this.ys(y))}ys(e){const t=[];return e.forEach(r=>{const a=this._s(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){gt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Ie.forEach(t.mutations,a=>{const d=new Br(a.key,t.batchId);return r=r.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Br(t,0),a=this.ws.firstAfterOrEqual(r);return Ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ie.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class p1{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new cr(tt.comparator),this.size=0}addEntry(e,t,r){const a=t.key,d=this.docs.get(a),f=d?d.size:0,y=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:y,readTime:r}),this.size+=y-f,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ie.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(a=>{const d=this.docs.get(a);r=r.insert(a,d?d.document.mutableCopy():er.newInvalidDocument(a))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=lo();const d=new tt(t.path.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:y,value:{document:E,readTime:A}}=f.getNext();if(!t.path.isPrefixOf(y.path))break;A.compareTo(r)<=0||Vp(t,E)&&(a=a.insert(E.key,E.mutableCopy()))}return Ie.resolve(a)}Es(e,t){return Ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new g1(this)}getSize(e){return Ie.resolve(this.size)}}class g1 extends ZT{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ie.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class m1{constructor(e){this.persistence=e,this.Is=new Gh(t=>Vh(t),C_),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.As=0,this.Rs=new K_,this.targetCount=0,this.bs=zl.ie()}forEachTarget(e,t){return this.Is.forEach((r,a)=>t(a)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Ie.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.ae(t),Ie.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,r){let a=0;const d=[];return this.Is.forEach((f,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Is.delete(f),d.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),Ie.waitFor(d).next(()=>a)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Ie.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Ie.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(f=>{d.push(a.markPotentiallyOrphaned(e,f))}),Ie.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Ie.resolve(r)}containsKey(e,t){return Ie.resolve(this.Rs.containsKey(t))}}class QT{constructor(e,t){this.Ps={},this.Be=new ls(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new m1(this),this.Jt=new Tt,this.Je=new p1(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new B_(t),this.Ye=new f1(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new YT(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const a=new _1(this.Be.next());return this.referenceDelegate.Vs(),r(a).next(d=>this.referenceDelegate.Ss(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Ds(e,t){return Ie.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class _1 extends MT{constructor(e){super(),this.currentSequenceNumber=e}}class JT{constructor(e){this.persistence=e,this.Cs=new K_,this.Ns=null}static ks(e){return new JT(e)}get xs(){if(this.Ns)return this.Ns;throw nt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Ie.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.xs.add(d.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.xs,r=>{const a=tt.fromPath(r);return this.$s(e,a).next(d=>{d||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ie.or([()=>Ie.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function XT(n,e){return`firestore_clients_${n}_${e}`}function eI(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Rc(n,e){return`firestore_targets_${n}_${e}`}class cw{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static Os(e,t,r){const a=JSON.parse(r);let d,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(d=new Me(a.error.code,a.error.message))),f?new cw(e,t,a.state,d):(Sr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Kh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let a,d="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new Me(r.error.code,r.error.message))),d?new Kh(e,r.state,a):(Sr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Y_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,d=k_();for(let f=0;a&&f<r.activeTargetIds.length;++f)a=Np(r.activeTargetIds[f]),d=d.add(r.activeTargetIds[f]);return a?new Y_(e,d):(Sr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class tI{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new tI(t.clientId,t.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Q_{constructor(){this.activeTargetIds=k_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lw{constructor(e,t,r,a,d){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new cr(Le),this.started=!1,this.js=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.Qs=XT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Q_),this.Gs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const d=e.getItem(XT(e.persistenceKey,a));if(d){const f=Y_.Os(a,d);f&&(e.Ks=e.Ks.insert(f.clientId,f))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const a=e.Zs(r);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Rc(this.persistenceKey,e));if(r){const a=Kh.Os(e,r);a&&(t=a.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rc(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.si(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const a=t.ai(r.key);return t.ui(a,null)}{const a=t.hi(r.key,r.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.li(r.key,r.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const a=t.di(r.key,r.newValue);if(a)return t.wi(a)}}else if(r.key===t.Js){if(null!==r.newValue){const a=t.Zs(r.newValue);if(a)return t.ti(a)}}else if(r.key===t.Ws){const a=function(d){let f=ls.I;if(null!=d)try{const y=JSON.parse(d);gt("number"==typeof y),f=y}catch(y){Sr("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(r.newValue);a!==ls.I&&t.sequenceNumberHandler(a)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const a=new cw(this.currentUser,e,t,r),d=eI(this.persistenceKey,this.currentUser,e);this.setItem(d,a.Ms())}si(e){const t=eI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const a=Rc(this.persistenceKey,e),d=new Kh(e,t,r);this.setItem(a,d.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return Y_.Os(r,t)}li(e,t){const r=this.zs.exec(e),a=Number(r[1]);return cw.Os(new ci(void 0!==r[2]?r[2]:null),a,t)}di(e,t){const r=this.Hs.exec(e),a=Number(r[1]);return Kh.Os(a,t)}Zs(e){return tI.Os(e)}fi(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),d=this.ei(r),f=[],y=[];return d.forEach(E=>{a.has(E)||f.push(E)}),a.forEach(E=>{d.has(E)||y.push(E)}),this.syncEngine.yi(f,y).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=k_();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class J_{constructor(){this.pi=new Q_,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Q_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class nI{Ei(e){}shutdown(){}}class dw{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const y1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class v1{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class b1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,a,d){const f=this.Ui(e,t);Fe("RestConnection","Sending: ",f,r);const y={};return this.qi(y,a,d),this.Ki(e,f,y,r).then(E=>(Fe("RestConnection","Received: ",E),E),E=>{throw Mh("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}ji(e,t,r,a,d){return this.Bi(e,t,r,a,d)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),r&&r.headers.forEach((a,d)=>e[d]=a)}Ui(e,t){return`${this.Fi}/v1/${t}:${y1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,a){return new Promise((d,f)=>{const y=new CS;y.listenOnce(bS.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ab.NO_ERROR:const A=y.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(A)),d(A);break;case Ab.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),f(new Me(he.DEADLINE_EXCEEDED,"Request time out"));break;case Ab.HTTP_ERROR:const M=y.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',M,"response text:",y.getResponseText()),M>0){const k=y.getResponseJson().error;if(k&&k.status&&k.message){const $=function(X){const fe=X.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(fe)>=0?fe:he.UNKNOWN}(k.status);f(new Me($,k.message))}else f(new Me(he.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Me(he.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(a);y.send(t,"POST",E,r,15)})}Qi(e,t,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yS(),f=vS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new ES({})),this.qi(y.initMessageHeaders,t,r),(0,yt.uI)()||(0,yt.b$)()||(0,yt.d)()||(0,yt.w1)()||(0,yt.Mn)()||(0,yt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const E=a.join("");Fe("Connection","Creating WebChannel: "+E,y);const A=d.createWebChannel(E,y);let M=!1,k=!1;const $=new v1({Vi:fe=>{k?Fe("Connection","Not sending because WebChannel is closed:",fe):(M||(Fe("Connection","Opening WebChannel transport."),A.open(),M=!0),Fe("Connection","WebChannel sending:",fe),A.send(fe))},Si:()=>A.close()}),X=(fe,Pe,Ue)=>{fe.listen(Pe,Mt=>{try{Ue(Mt)}catch(xt){setTimeout(()=>{throw xt},0)}})};return X(A,g_.EventType.OPEN,()=>{k||Fe("Connection","WebChannel transport opened.")}),X(A,g_.EventType.CLOSE,()=>{k||(k=!0,Fe("Connection","WebChannel transport closed"),$.Oi())}),X(A,g_.EventType.ERROR,fe=>{k||(k=!0,Mh("Connection","WebChannel transport errored:",fe),$.Oi(new Me(he.UNAVAILABLE,"The operation could not be completed")))}),X(A,g_.EventType.MESSAGE,fe=>{var Pe;if(!k){const Ue=fe.data[0];gt(!!Ue);const Mt=Ue,xt=Mt.error||(null===(Pe=Mt[0])||void 0===Pe?void 0:Pe.error);if(xt){Fe("Connection","WebChannel received error:",xt);const Lt=xt.status;let lt=function(Pi){const Ef=Nr[Pi];if(void 0!==Ef)return jS(Ef)}(Lt),Cn=xt.message;void 0===lt&&(lt=he.INTERNAL,Cn="Unknown error status: "+Lt+" with message "+xt.message),k=!0,$.Oi(new Me(lt,Cn)),A.close()}else Fe("Connection","WebChannel received:",Ue),$.Mi(Ue)}}),X(f,wS.STAT_EVENT,fe=>{fe.stat===VC.PROXY?Fe("Connection","Detected buffering proxy"):fe.stat===VC.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{$.$i()},0),$}}function rI(){return"undefined"!=typeof window?window:null}function X_(){return"undefined"!=typeof document?document:null}function sg(n){return new L_(n,!0)}class hw{constructor(e,t,r=1e3,a=1.5,d=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=a,this.zi=d,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-r);a>0&&Fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class iI{constructor(e,t,r,a,d,f,y,E){this.Me=e,this.nr=r,this.sr=a,this.ir=d,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=E,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new hw(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,_e.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,_e.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.rr===t&&this.Ir(r,a)},r=>{e(()=>{const a=new Me(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(a)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{r(()=>this.Ar(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,_e.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends iI{constructor(e,t,r,a,d,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.k=d}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:nt(),a=e.targetChange.targetIds||[],d=function(E,A){return E.C?(gt(void 0===A||"string"==typeof A),xr.fromBase64String(A||"")):(gt(void 0===A||A instanceof Uint8Array),xr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&function(E){const A=void 0===E.code?he.UNKNOWN:jS(E.code);return new Me(A,E.message||"")}(f);t=new fT(r,a,d,y||null)}else if("documentChange"in e){const r=e.documentChange,a=Ta(n,r.document.name),d=di(r.document.updateTime),f=new xi({mapValue:{fields:r.document.fields}}),y=er.newFoundDocument(a,d,f);t=new $p(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=Ta(n,r.document),d=r.readTime?di(r.readTime):bt.min(),f=er.newNoDocument(a,d);t=new $p([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,a=Ta(n,r.document);t=new $p([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return nt();{const r=e.filter,d=new VR(r.count||0);t=new Hb(r.targetId,d)}}var E;return t}(this.k,e),r=function(a){if(!("targetChange"in a))return bt.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?di(d.readTime):bt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=Wp(this.k),t.addTarget=function(a,d){let f;const y=d.target;return f=T_(y)?{documents:Kp(a,y)}:{query:vc(a,y)},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?f.resumeToken=yT(a,d.resumeToken):d.snapshotVersion.compareTo(bt.min())>0&&(f.readTime=du(a,d.snapshotVersion.toTimestamp())),f}(this.k,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Wp(this.k),t.removeTarget=e,this.gr(t)}}class sI extends iI{constructor(e,t,r,a,d,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,f),this.k=d,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(r,a){let d=di(r.updateTime?r.updateTime:a);return d.isEqual(bt.min())&&(d=di(a)),new Ub(d,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.Cr(r,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Wp(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>V_(this.k,r))};this.gr(t)}}class oI extends class{}{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=a,this.$r=!1}Or(){if(this.$r)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.ir.Bi(e,t,r,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(he.UNKNOWN,a.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.ir.ji(e,t,r,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(he.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class aI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Sr(t),this.Lr=!1):Fe("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class uI{constructor(e,t,r,a,d){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=d,this.Hr.Ei(y=>{r.enqueueAndForget((0,_e.Z)(function*(){var E;Mc(f)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,_e.Z)(function*(A){const M=qe(A);M.Gr.add(4),yield Qh(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield Yh(M)}),function(A){return E.apply(this,arguments)})(f))}))}),this.Jr=new aI(r,a)}}function Yh(n){return fw.apply(this,arguments)}function fw(){return(fw=(0,_e.Z)(function*(n){if(Mc(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function Qh(n){return pw.apply(this,arguments)}function pw(){return(pw=(0,_e.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function ey(n,e){const t=qe(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Jl(t)?Ql(t):Xl(t).lr()&&gw(t,e))}function ag(n,e){const t=qe(n),r=Xl(t);t.Wr.delete(e),r.lr()&&cI(t,e),0===t.Wr.size&&(r.lr()?r._r():Mc(t)&&t.Jr.set("Unknown"))}function gw(n,e){n.Yr.X(e.targetId),Xl(n).Pr(e)}function cI(n,e){n.Yr.X(e),Xl(n).vr(e)}function Ql(n){n.Yr=new gT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Xl(n).start(),n.Jr.Br()}function Jl(n){return Mc(n)&&!Xl(n).hr()&&n.Wr.size>0}function Mc(n){return 0===qe(n).Gr.size}function ty(n){n.Yr=void 0}function Da(n){return mw.apply(this,arguments)}function mw(){return(mw=(0,_e.Z)(function*(n){n.Wr.forEach((e,t)=>{gw(n,e)})})).apply(this,arguments)}function ny(n,e){return _w.apply(this,arguments)}function _w(){return(_w=(0,_e.Z)(function*(n,e){ty(n),Jl(n)?(n.Jr.Kr(e),Ql(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function w1(n,e,t){return lI.apply(this,arguments)}function lI(){return(lI=(0,_e.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof fT&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(a,d){const f=d.cause;for(const y of d.targetIds)a.Wr.has(y)&&(yield a.remoteSyncer.rejectListen(y,f),a.Wr.delete(y),a.Yr.removeTarget(y))}),function(a,d){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jh(n,r)}else if(e instanceof $p?n.Yr.ot(e):e instanceof Hb?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(bt.min()))try{const r=yield l1(n.localStore);t.compareTo(r)>=0&&(yield function(a,d){const f=a.Yr.gt(d);return f.targetChanges.forEach((y,E)=>{if(y.resumeToken.approximateByteSize()>0){const A=a.Wr.get(E);A&&a.Wr.set(E,A.withResumeToken(y.resumeToken,d))}}),f.targetMismatches.forEach(y=>{const E=a.Wr.get(y);if(!E)return;a.Wr.set(y,E.withResumeToken(xr.EMPTY_BYTE_STRING,E.snapshotVersion)),cI(a,y);const A=new fo(E.target,y,1,E.sequenceNumber);gw(a,A)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield Jh(n,r)}var r})).apply(this,arguments)}function Jh(n,e,t){return ug.apply(this,arguments)}function ug(){return(ug=(0,_e.Z)(function*(n,e,t){if(!Ec(e))throw e;n.Gr.add(1),yield Qh(n),n.Jr.set("Offline"),t||(t=()=>l1(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Yh(n)}))})).apply(this,arguments)}function yw(n,e){return e().catch(t=>Jh(n,t,e))}function Nc(n){return cg.apply(this,arguments)}function cg(){return(cg=(0,_e.Z)(function*(n){const e=qe(n),t=Oc(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;E1(e);)try{const a=yield d1(e.localStore,r);if(null===a){0===e.Qr.length&&t._r();break}r=a.batchId,C1(e,a)}catch(a){yield Jh(e,a)}dI(e)&&hI(e)})).apply(this,arguments)}function E1(n){return Mc(n)&&n.Qr.length<10}function C1(n,e){n.Qr.push(e);const t=Oc(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function dI(n){return Mc(n)&&!Oc(n).hr()&&n.Qr.length>0}function hI(n){Oc(n).start()}function fI(n){return lg.apply(this,arguments)}function lg(){return(lg=(0,_e.Z)(function*(n){Oc(n).kr()})).apply(this,arguments)}function pI(n){return vw.apply(this,arguments)}function vw(){return(vw=(0,_e.Z)(function*(n){const e=Oc(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function gI(n,e,t){return ry.apply(this,arguments)}function ry(){return(ry=(0,_e.Z)(function*(n,e,t){const r=n.Qr.shift(),a=Jp.from(r,e,t);yield yw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Nc(n)})).apply(this,arguments)}function T1(n,e){return iy.apply(this,arguments)}function iy(){return(iy=(0,_e.Z)(function*(n,e){var t;e&&Oc(n).Sr&&(yield(t=(0,_e.Z)(function*(r,a){if(Bb(d=a.code)&&d!==he.ABORTED){const f=r.Qr.shift();Oc(r).wr(),yield yw(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Nc(r)}var d}),function(r,a){return t.apply(this,arguments)})(n,e)),dI(n)&&hI(n)})).apply(this,arguments)}function sy(n,e){return bw.apply(this,arguments)}function bw(){return(bw=(0,_e.Z)(function*(n,e){const t=qe(n);e?(t.Gr.delete(2),yield Yh(t)):e||(t.Gr.add(2),yield Qh(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Xl(n){return n.Xr||(n.Xr=function(e,t,r){const a=qe(e);return a.Or(),new og(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:Da.bind(null,n),Ni:ny.bind(null,n),br:w1.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Xr.wr(),Jl(n)?Ql(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),ty(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Oc(n){return n.Zr||(n.Zr=function(e,t,r){const a=qe(e);return a.Or(),new sI(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,r)}(n.datastore,n.asyncQueue,{Di:fI.bind(null,n),Ni:T1.bind(null,n),Nr:pI.bind(null,n),Cr:gI.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Zr.wr(),yield Nc(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class mI{constructor(e,t,r,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=d,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,a,d){const f=Date.now()+r,y=new mI(e,t,f,a,d);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Or(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),Ec(n))return new Me(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Wo{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=P_(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Wo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=r.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _I{constructor(){this.eo=new cr(tt.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):nt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xh{constructor(e,t,r,a,d,f,y,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=d,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,a){const d=[];return t.forEach(f=>{d.push({type:0,doc:f})}),new Xh(e,t,Wo.emptySet(t),d,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class BR{constructor(){this.so=void 0,this.listeners=[]}}class dg{constructor(){this.queries=new Gh(e=>eT(e),Zh),this.onlineState="Unknown",this.io=new Set}}function ww(n,e){return hg.apply(this,arguments)}function hg(){return(hg=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let a=!1,d=t.queries.get(r);if(d||(a=!0,d=new BR),a)try{d.so=yield t.onListen(r)}catch(f){const y=Or(f,`Initialization of query '${Lb(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,d),d.listeners.push(e),e.ro(t.onlineState),d.so&&e.oo(d.so)&&fg(t)})).apply(this,arguments)}function Ew(n,e){return oy.apply(this,arguments)}function oy(){return(oy=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.query;let a=!1;const d=t.queries.get(r);if(d){const f=d.listeners.indexOf(e);f>=0&&(d.listeners.splice(f,1),a=0===d.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function I1(n,e){const t=qe(n);let r=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const y of f.listeners)y.oo(a)&&(r=!0);f.so=a}}r&&fg(t)}function D1(n,e,t){const r=qe(n),a=r.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);r.queries.delete(e)}function fg(n){n.io.forEach(e=>{e.next()})}class ay{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Xh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Xh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class yI{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class pg{constructor(e){this.k=e}Hn(e){return Ta(this.k,e)}Jn(e){return e.metadata.exists?WS(this.k,e.document,!1):er.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return di(e)}}class Cw{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=A1(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new pg(this.k);for(const a of e)if(a.metadata.queries){const d=r.Hn(a.metadata.name);for(const f of a.metadata.queries){const y=(t.get(f)||bn()).add(d);t.set(f,y)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function(n,e,t,r){return z_.apply(this,arguments)}(e.localStore,new pg(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const a of e.queries)yield Go(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new c1(Object.assign({},e.progress),t)})()}}function A1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Tw{constructor(e){this.key=e}}class vI{constructor(e){this.key=e}}class Iw{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=bn(),this.mutatedKeys=bn(),this.Ao=tT(e),this.Ro=new Wo(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new _I,a=t?t.Ro:this.Ro;let d=t?t.mutatedKeys:this.mutatedKeys,f=a,y=!1;const E=D_(this.query)&&a.size===this.query.limit?a.last():null,A=Lp(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((M,k)=>{const $=a.get(M),X=Vp(this.query,k)?k:null,fe=!!$&&this.mutatedKeys.has($.key),Pe=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Ue=!1;$&&X?$.data.isEqual(X.data)?fe!==Pe&&(r.track({type:3,doc:X}),Ue=!0):this.Vo($,X)||(r.track({type:2,doc:X}),Ue=!0,(E&&this.Ao(X,E)>0||A&&this.Ao(X,A)<0)&&(y=!0)):!$&&X?(r.track({type:0,doc:X}),Ue=!0):$&&!X&&(r.track({type:1,doc:$}),Ue=!0,(E||A)&&(y=!0)),Ue&&(X?(f=f.add(X),d=Pe?d.add(M):d.delete(M)):(f=f.delete(M),d=d.delete(M)))}),D_(this.query)||Lp(this.query))for(;f.size>this.query.limit;){const M=D_(this.query)?f.last():f.first();f=f.delete(M.key),d=d.delete(M.key),r.track({type:1,doc:M})}return{Ro:f,vo:r,Bn:y,mutatedKeys:d}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const d=e.vo.no();d.sort((A,M)=>function(k,$){const X=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return X(k)-X($)}(A.type,M.type)||this.Ao(A.doc,M.doc)),this.So(r);const f=t?this.Do():[],y=0===this.Io.size&&this.current?1:0,E=y!==this.Eo;return this.Eo=y,0!==d.length||E?{snapshot:new Xh(this.query,e.Ro,a,d,e.mutatedKeys,0===y,E,!1),Co:f}:{Co:f}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new _I,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=bn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new vI(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new Tw(r))}),t}ko(e){this.To=e.zn,this.Io=bn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Xh.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class uy{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bI{constructor(e){this.key=e,this.$o=!1}}class S1{constructor(e,t,r,a,d,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=f,this.Oo={},this.Mo=new Gh(y=>eT(y),Zh),this.Fo=new Map,this.Lo=new Set,this.Bo=new cr(tt.comparator),this.Uo=new Map,this.qo=new K_,this.Ko={},this.jo=new Map,this.Qo=zl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function Dw(n,e){return gg.apply(this,arguments)}function gg(){return(gg=(0,_e.Z)(function*(n,e){const t=Fw(n);let r,a;const d=t.Mo.get(e);if(d)r=d.targetId,t.sharedClientState.addLocalQueryTarget(r),a=d.view.xo();else{const f=yield Wh(t.localStore,ds(e)),y=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,a=yield Aw(t,e,r,"current"===y),t.isPrimaryClient&&ey(t.remoteStore,f)}return a})).apply(this,arguments)}function Aw(n,e,t,r){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,_e.Z)(function*(n,e,t,r){n.Go=(M,k,$)=>{return(X=(0,_e.Z)(function*(fe,Pe,Ue,Mt){let xt=Pe.view.Po(Ue);xt.Bn&&(xt=yield G_(fe.localStore,Pe.query,!1).then(({documents:Cn})=>Pe.view.Po(Cn,xt)));const Lt=Mt&&Mt.targetChanges.get(Pe.targetId),lt=Pe.view.applyChanges(xt,fe.isPrimaryClient,Lt);return DI(fe,Pe.targetId,lt.Co),lt.snapshot}),function(fe,Pe,Ue,Mt){return X.apply(this,arguments)})(n,M,k,$);var X};const a=yield G_(n.localStore,e,!0),d=new Iw(e,a.zn),f=d.Po(a.documents),y=Bh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=d.applyChanges(f,n.isPrimaryClient,y);DI(n,t,E.Co);const A=new uy(e,t,d);return n.Mo.set(e,A),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),E.snapshot})).apply(this,arguments)}function wI(n,e){return cy.apply(this,arguments)}function cy(){return(cy=(0,_e.Z)(function*(n,e){const t=qe(n),r=t.Mo.get(e),a=t.Fo.get(r.targetId);if(a.length>1)return t.Fo.set(r.targetId,a.filter(d=>!Zh(d,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ag(t.remoteStore,r.targetId),ed(t,r.targetId)}).catch(Kl))):(ed(t,r.targetId),yield zh(t.localStore,r.targetId,!0))})).apply(this,arguments)}function xw(){return(xw=(0,_e.Z)(function*(n,e,t){const r=LI(n);try{const a=yield function(d,f){const y=qe(d),E=Qr.now(),A=f.reduce((k,$)=>k.add($.key),bn());let M;return y.persistence.runTransaction("Locally write mutations","readwrite",k=>y.Wn.vn(k,A).next($=>{M=$;const X=[];for(const fe of f){const Pe=cT(fe,M.get(fe.key));null!=Pe&&X.push(new Vl(fe.key,Pe,xS(Pe.value.mapValue),Mr.exists(!0)))}return y.An.addMutationBatch(k,E,X,f)})).then(k=>(k.applyToLocalDocumentSet(M),{batchId:k.batchId,changes:M}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(d,f,y){let E=d.Ko[d.currentUser.toKey()];E||(E=new cr(Le)),E=E.insert(f,y),d.Ko[d.currentUser.toKey()]=E}(r,a.batchId,t),yield Pc(r,a.changes),yield Nc(r.remoteStore)}catch(a){const d=Or(a,"Failed to persist write");t.reject(d)}})).apply(this,arguments)}function Rw(n,e){return ly.apply(this,arguments)}function ly(){return(ly=(0,_e.Z)(function*(n,e){const t=qe(n);try{const r=yield ow(t.localStore,e);e.targetChanges.forEach((a,d)=>{const f=t.Uo.get(d);f&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.$o=!0:a.modifiedDocuments.size>0?gt(f.$o):a.removedDocuments.size>0&&(gt(f.$o),f.$o=!1))}),yield Pc(t,r,e)}catch(r){yield Kl(r)}})).apply(this,arguments)}function CI(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Mo.forEach((d,f)=>{const y=f.view.ro(e);y.snapshot&&a.push(y.snapshot)}),function(d,f){const y=qe(d);y.onlineState=f;let E=!1;y.queries.forEach((A,M)=>{for(const k of M.listeners)k.ro(f)&&(E=!0)}),E&&fg(y)}(r.eventManager,e),a.length&&r.Oo.br(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function x1(n,e,t){return dy.apply(this,arguments)}function dy(){return(dy=(0,_e.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Uo.get(e),d=a&&a.key;if(d){let f=new cr(tt.comparator);f=f.insert(d,er.newNoDocument(d,bt.min()));const y=bn().add(d),E=new qp(bt.min(),new Map,new vr(Le),f,y);yield Rw(r,E),r.Bo=r.Bo.remove(d),r.Uo.delete(e),AI(r)}else yield zh(r.localStore,e,!1).then(()=>ed(r,e,t)).catch(Kl)})).apply(this,arguments)}function R1(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,_e.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const a=yield ZR(t.localStore,e);Ow(t,r,null),Nw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pc(t,a)}catch(a){yield Kl(a)}})).apply(this,arguments)}function TI(n,e,t){return fy.apply(this,arguments)}function fy(){return(fy=(0,_e.Z)(function*(n,e,t){const r=qe(n);try{const a=yield function(d,f){const y=qe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let A;return y.An.lookupMutationBatch(E,f).next(M=>(gt(null!==M),A=M.keys(),y.An.removeMutationBatch(E,M))).next(()=>y.An.performConsistencyCheck(E)).next(()=>y.Wn.vn(E,A))})}(r.localStore,e);Ow(r,e,t),Nw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pc(r,a)}catch(a){yield Kl(a)}})).apply(this,arguments)}function Mw(){return(Mw=(0,_e.Z)(function*(n,e){const t=qe(n);Mc(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const f=qe(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>f.An.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const a=t.jo.get(r)||[];a.push(e),t.jo.set(r,a)}catch(r){const a=Or(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function Nw(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function Ow(n,e,t){const r=qe(n);let a=r.Ko[r.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),r.Ko[r.currentUser.toKey()]=a}}function ed(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||M1(n,r)})}function M1(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(ag(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),AI(n))}function DI(n,e,t){for(const r of t)r instanceof Tw?(n.qo.addReference(r.key,e),jR(n,r)):r instanceof vI?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||M1(n,r.key)):nt()}function jR(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.Lo.add(r),AI(n))}function AI(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new tt(ln.fromString(e)),r=n.Qo.next();n.Uo.set(r,new bI(t)),n.Bo=n.Bo.insert(t,r),ey(n.remoteStore,new fo(ds(_c(t.path)),r,2,ls.I))}}function Pc(n,e,t){return SI.apply(this,arguments)}function SI(){return(SI=(0,_e.Z)(function*(n,e,t){const r=qe(n),a=[],d=[],f=[];var y;r.Mo.isEmpty()||(r.Mo.forEach((y,E)=>{f.push(r.Go(E,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,A.fromCache?"not-current":"current"),a.push(A);const M=sw.$n(E.targetId,A);d.push(M)}}))}),yield Promise.all(f),r.Oo.br(a),yield(y=(0,_e.Z)(function*(E,A){const M=qe(E);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Ie.forEach(A,$=>Ie.forEach($.kn,X=>M.persistence.referenceDelegate.addReference(k,$.targetId,X)).next(()=>Ie.forEach($.xn,X=>M.persistence.referenceDelegate.removeReference(k,$.targetId,X)))))}catch(k){if(!Ec(k))throw k;Fe("LocalStore","Failed to update sequence numbers: "+k)}for(const k of A){const $=k.targetId;if(!k.fromCache){const X=M.qn.get($),Pe=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);M.qn=M.qn.insert($,Pe)}}}),function(E,A){return y.apply(this,arguments)})(r.localStore,d))})).apply(this,arguments)}function qR(n,e){return xI.apply(this,arguments)}function xI(){return(xI=(0,_e.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield WT(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(f=>{f.forEach(y=>{y.reject(new Me(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pc(t,r.Gn)}var a})).apply(this,arguments)}function $R(n,e){const t=qe(n),r=t.Uo.get(e);if(r&&r.$o)return bn().add(r.key);{let a=bn();const d=t.Fo.get(e);if(!d)return a;for(const f of d){const y=t.Mo.get(f);a=a.unionWith(y.view.bo)}return a}}function HR(n,e){return RI.apply(this,arguments)}function RI(){return(RI=(0,_e.Z)(function*(n,e){const t=qe(n),r=yield G_(t.localStore,e.query,!0),a=e.view.ko(r);return t.isPrimaryClient&&DI(t,e.targetId,a.Co),a})).apply(this,arguments)}function GR(n){return MI.apply(this,arguments)}function MI(){return(MI=(0,_e.Z)(function*(n){const e=qe(n);return W_(e.localStore).then(t=>Pc(e,t))})).apply(this,arguments)}function WR(n,e,t,r){return NI.apply(this,arguments)}function NI(){return(NI=(0,_e.Z)(function*(n,e,t,r){const a=qe(n),d=yield function(f,y){const E=qe(f),A=qe(E.An);return E.persistence.runTransaction("Lookup mutation documents","readonly",M=>A.Zt(M,y).next(k=>k?E.Wn.vn(M,k):Ie.resolve(null)))}(a.localStore,e);var y;null!==d?("pending"===t?yield Nc(a.remoteStore):"acknowledged"===t||"rejected"===t?(Ow(a,e,r||null),Nw(a,e),y=e,qe(qe(a.localStore).An).ee(y)):nt(),yield Pc(a,d)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function OI(){return(OI=(0,_e.Z)(function*(n,e){const t=qe(n);if(Fw(t),LI(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield PI(t,r.toArray());t.Wo=!0,yield sy(t.remoteStore,!0);for(const d of a)ey(t.remoteStore,d)}else if(!1===e&&!1!==t.Wo){const r=[];let a=Promise.resolve();t.Fo.forEach((d,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):a=a.then(()=>(ed(t,f),zh(t.localStore,f,!0))),ag(t.remoteStore,f)}),yield a,yield PI(t,r),function(d){const f=qe(d);f.Uo.forEach((y,E)=>{ag(f.remoteStore,E)}),f.qo.hs(),f.Uo=new Map,f.Bo=new cr(tt.comparator)}(t),t.Wo=!1,yield sy(t.remoteStore,!1)}})).apply(this,arguments)}function PI(n,e,t){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,_e.Z)(function*(n,e,t){const r=qe(n),a=[],d=[];for(const f of e){let y;const E=r.Fo.get(f);if(E&&0!==E.length){y=yield Wh(r.localStore,ds(E[0]));for(const A of E){const M=r.Mo.get(A),k=yield HR(r,M);k.snapshot&&d.push(k.snapshot)}}else{const A=yield uw(r.localStore,f);y=yield Wh(r.localStore,A),yield Aw(r,kI(A),f,!1)}a.push(y)}return r.Oo.br(d),a})).apply(this,arguments)}function kI(n){return JC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function KR(n){const e=qe(n);return qe(qe(e.localStore).persistence).Tn()}function YR(n,e,t,r){return FI.apply(this,arguments)}function FI(){return(FI=(0,_e.Z)(function*(n,e,t,r){const a=qe(n);if(a.Wo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const d=yield W_(a.localStore),f=qp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Pc(a,d,f);break}case"rejected":yield zh(a.localStore,e,!0),ed(a,e,r);break;default:nt()}})).apply(this,arguments)}function N1(n,e,t){return kw.apply(this,arguments)}function kw(){return(kw=(0,_e.Z)(function*(n,e,t){const r=Fw(n);if(r.Wo){for(const a of e){if(r.Fo.has(a)){Fe("SyncEngine","Adding an already active target "+a);continue}const d=yield uw(r.localStore,a),f=yield Wh(r.localStore,d);yield Aw(r,kI(d),f.targetId,!1),ey(r.remoteStore,f)}for(const a of t)r.Fo.has(a)&&(yield zh(r.localStore,a,!1).then(()=>{ag(r.remoteStore,a),ed(r,a)}).catch(Kl))}})).apply(this,arguments)}function Fw(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x1.bind(null,e),e.Oo.br=I1.bind(null,e.eventManager),e.Oo.zo=D1.bind(null,e.eventManager),e}function LI(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TI.bind(null,e),e}class O1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.k=sg(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return GT(this.persistence,new $T,e.initialUser,this.k)}Yo(e){return new QT(JT.ks,this.k)}Jo(e){return new J_}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class P1 extends O1{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield function(n){return xc.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield LI(r.tc.syncEngine),yield Nc(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return GT(this.persistence,new $T,e.initialUser,this.k)}Xo(e){return new UT(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=iw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new Yl(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,rI(),X_(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new J_}}class k1 extends P1{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const a=r.tc.syncEngine;r.sharedClientState instanceof lw&&(r.sharedClientState.syncEngine={mi:WR.bind(null,a),gi:YR.bind(null,a),yi:N1.bind(null,a),Tn:KR.bind(null,a),_i:GR.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var d=(0,_e.Z)(function*(f){yield function(n,e){return OI.apply(this,arguments)}(r.tc.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return d.apply(this,arguments)}}())})()}Jo(e){const t=rI();if(!lw.Pt(t))throw new Me(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=iw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new lw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class VI{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>CI(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=qR.bind(null,r.syncEngine),yield sy(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dg}createDatastore(e){const t=sg(e.databaseInfo.databaseId),r=new b1(e.databaseInfo);return new oI(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,d=y=>CI(this.syncEngine,y,0),f=dw.Pt()?new dw:new nI,new uI(t,r,a,d,f);var t,r,a,d,f}createSyncEngine(e,t){return function(r,a,d,f,y,E,A){const M=new S1(r,a,d,f,y,E);return A&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=qe(t);Fe("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Qh(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function UI(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ef{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tf{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Ur,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),a=Number(r);isNaN(a)&&e.cc(`length string (${r}) is not valid number`);const d=yield e.ac(a);return new yI(JSON.parse(d),t.length+a)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,_e.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ZI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,_e.Z)(function*(d,f){const y=qe(d),E=Wp(y.k)+"/documents",A={documents:f.map(X=>Gp(y.k,X))},M=yield y.ji("BatchGetDocuments",E,A),k=new Map;M.forEach(X=>{const fe=function(n,e){return"found"in e?function(t,r){gt(!!r.found);const a=Ta(t,r.found.name),d=di(r.found.updateTime),f=new xi({mapValue:{fields:r.found.fields}});return er.newFoundDocument(a,d,f)}(n,e):"missing"in e?function(t,r){gt(!!r.missing),gt(!!r.readTime);const a=Ta(t,r.missing),d=di(r.readTime);return er.newNoDocument(a,d)}(n,e):nt()}(y.k,X);k.set(fe.key.toString(),fe)});const $=[];return f.forEach(X=>{const fe=k.get(X.toString());gt(!!fe),$.push(fe)}),$}),function(d,f){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ca(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const d=tt.fromPath(a);e.mutations.push(new Zb(d,e.precondition(d)))}),yield(r=(0,_e.Z)(function*(a,d){const f=qe(a),y=Wp(f.k)+"/documents",E={writes:d.map(A=>V_(f.k,A))};yield f.Bi("Commit",y,E)}),function(a,d){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Me(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class F1{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.lc=5,this.ur=new hw(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,_e.Z)(function*(){const t=new ZI(e.datastore),r=e.dc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.wc(d)}))}).catch(a=>{e.wc(a)})}))}dc(e){try{const t=this.updateFunction(e);return!Ol(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bb(t)}return!1}}class L1{constructor(e,t,r,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ci.UNAUTHENTICATED,this.clientId=SS.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,_e.Z)(function*(y){Fe("FirestoreClient","Received user=",y.uid),yield d.authCredentialListener(y),d.user=y});return function(y){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=Or(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function py(n,e){return gy.apply(this,arguments)}function gy(){return(gy=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(d){r.isEqual(d)||(yield WT(e.localStore,d),r=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function Lw(n,e){return my.apply(this,arguments)}function my(){return(my=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield BI(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(d=(0,_e.Z)(function*(f,y){const E=qe(f);E.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const A=Mc(E);E.Gr.add(3),yield Qh(E),A&&E.Jr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(y),E.Gr.delete(3),yield Yh(E)}),function(f,y){return d.apply(this,arguments)})(e.remoteStore,a);var d}),n.onlineComponents=e})).apply(this,arguments)}function BI(n){return _y.apply(this,arguments)}function _y(){return(_y=(0,_e.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield py(n,new O1)),n.offlineComponents})).apply(this,arguments)}function td(n){return yy.apply(this,arguments)}function yy(){return(yy=(0,_e.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield Lw(n,new VI)),n.onlineComponents})).apply(this,arguments)}function V1(n){return BI(n).then(e=>e.persistence)}function jI(n){return BI(n).then(e=>e.localStore)}function U1(n){return td(n).then(e=>e.remoteStore)}function Vw(n){return td(n).then(e=>e.syncEngine)}function mg(n){return nf.apply(this,arguments)}function nf(){return(nf=(0,_e.Z)(function*(n){const e=yield td(n),t=e.eventManager;return t.onListen=Dw.bind(null,e.syncEngine),t.onUnlisten=wI.bind(null,e.syncEngine),t})).apply(this,arguments)}function vy(n,e,t={}){const r=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,d,f,y,E){const A=new ef({next:k=>{d.enqueueAndForget(()=>Ew(a,M));const $=k.docs.has(f);!$&&k.fromCache?E.reject(new Me(he.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&k.fromCache&&y&&"server"===y.source?E.reject(new Me(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(k)},error:k=>E.reject(k)}),M=new ay(_c(f.path),A,{includeMetadataChanges:!0,wo:!0});return ww(a,M)}(yield mg(n),n.asyncQueue,e,t,r)})),r.promise}function j1(n,e,t={}){const r=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,d,f,y,E){const A=new ef({next:k=>{d.enqueueAndForget(()=>Ew(a,M)),k.fromCache&&"server"===y.source?E.reject(new Me(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(k)},error:k=>E.reject(k)}),M=new ay(f,A,{includeMetadataChanges:!0,wo:!0});return ww(a,M)}(yield mg(n),n.asyncQueue,e,t,r)})),r.promise}class $1{constructor(e,t,r,a,d,f,y,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=d,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.useFetchStreams=E}}class _g{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _g&&e.projectId===this.projectId&&e.database===this.database}}const H1=new Map;function Uw(n,e,t){if(!t)throw new Me(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rf(n,e,t,r){if(!0===e&&!0===r)throw new Me(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $I(n){if(!tt.isDocumentKey(n))throw new Me(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HI(n){if(tt.isDocumentKey(n))throw new Me(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function by(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=by(n);throw new Me(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GI(n,e){if(e<=0)throw new Me(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ps{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ps({}),this._settingsFrozen=!1,e instanceof _g?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Me(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _g(a.options.projectId)}(e))}get app(){if(!this._app)throw new Me(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ps(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new BC;switch(t.type){case"gapi":const r=t.client;return gt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Nh(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=H1.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),H1.delete(e),t.terminate())}(this),Promise.resolve()}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Oi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class po extends Oi{constructor(e,t,r){super(e,t,_c(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new tt(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function Bw(n,e,...t){if(n=(0,yt.m9)(n),Uw("collection","path",e),n instanceof yg){const r=ln.fromString(e,...t);return HI(r),new po(n,null,r)}{if(!(n instanceof jn||n instanceof po))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return HI(r),new po(n.firestore,null,r)}}function wy(n,e,...t){if(n=(0,yt.m9)(n),1===arguments.length&&(e=SS.A()),Uw("doc","path",e),n instanceof yg){const r=ln.fromString(e,...t);return $I(r),new jn(n,null,new tt(r))}{if(!(n instanceof jn||n instanceof po))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ln.fromString(e,...t));return $I(r),new jn(n.firestore,n instanceof po?n.converter:null,new tt(r))}}function jw(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),(n instanceof jn||n instanceof po)&&(e instanceof jn||e instanceof po)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qw(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&Zh(n._query,e._query)&&n.converter===e.converter}class G1{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new hw(this,"async_queue_retry"),this.bc=()=>{const t=X_();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=X_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=X_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Ur;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Ec(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const a=mI.createAndSchedule(this,e,t,r,d=>this.Sc(d));return this.Tc.push(a),a}Pc(){this.Ec&&nt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function $w(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class Hw{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $n extends yg{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new G1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||YI(this),this._firestoreClient.terminate()}}function mn(n){return n._firestoreClient||YI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YI(n){var e;const t=n._freezeSettings(),r=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $1(n._databaseId,d,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var d,y;n._firestoreClient=new L1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function z1(n,e,t){const r=new Ur;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield py(n,t),yield Lw(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(d=a).name?d.code===he.FAILED_PRECONDITION||d.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var d})).then(()=>r.promise)}function JI(n){if(n._initialized||n._terminated)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Aa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(xr.fromBase64String(e))}catch(t){throw new Me(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fu(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kc{constructor(e){this._methodName=e}}class vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}const X1=/^__.*__$/;class ex{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ea(e,this.data,t,this.fieldTransforms)}}class Gw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sf(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class af{constructor(e,t,r,a,d,f){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=a,void 0===d&&this.xc(),this.fieldTransforms=d||[],this.fieldMask=f||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:r,Fc:!1});return a.Lc(e),a}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:r,Fc:!1});return a.xc(),a}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return wg(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(sf(this.$c)&&X1.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class XI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||sg(e)}Qc(e,t,r,a=!1){return new af({$c:e,methodName:t,jc:r,path:Zr.emptyPath(),Fc:!1,Kc:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function nd(n){const e=n._freezeSettings(),t=sg(n._databaseId);return new XI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ey(n,e,t,r,a,d={}){const f=n.Qc(d.merge||d.mergeFields?2:0,e,t,a);Kw("Data must be an object, but it was:",f,r);const y=rx(r,f);let E,A;if(d.merge)E=new Ph(f.fieldMask),A=f.fieldTransforms;else if(d.mergeFields){const M=[];for(const k of d.mergeFields){const $=bg(e,k,t);if(!f.contains($))throw new Me(he.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);Yw(M,$)||M.push($)}E=new Ph(M),A=f.fieldTransforms.filter(k=>E.covers(k.field))}else E=null,A=f.fieldTransforms;return new ex(new xi(y),E,A)}class Cy extends kc{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cy}}function tx(n,e,t){return new af({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class eD extends kc{_toFieldTransform(e){return new Zp(e.path,new kl)}isEqual(e){return e instanceof eD}}class tD extends kc{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=tx(this,e,!0),r=this.Wc.map(d=>Fc(d,t)),a=new Fl(r);return new Zp(e.path,a)}isEqual(e){return this===e}}class nD extends kc{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=tx(this,e,!0),r=this.Wc.map(d=>Fc(d,t)),a=new Ll(r);return new Zp(e.path,a)}isEqual(e){return this===e}}class nx extends kc{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new yc(e.k,iT(e.k,this.Gc));return new Zp(e.path,t)}isEqual(e){return this===e}}function Ww(n,e,t,r){const a=n.Qc(1,e,t);Kw("Data must be an object, but it was:",a,r);const d=[],f=xi.empty();ya(r,(E,A)=>{const M=iD(e,E,t);A=(0,yt.m9)(A);const k=a.Bc(M);if(A instanceof Cy)d.push(M);else{const $=Fc(A,k);null!=$&&(d.push(M),f.set(M,$))}});const y=new Ph(d);return new Gw(f,y,a.fieldTransforms)}function zw(n,e,t,r,a,d){const f=n.Qc(1,e,t),y=[bg(e,r,t)],E=[a];if(d.length%2!=0)throw new Me(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<d.length;$+=2)y.push(bg(e,d[$])),E.push(d[$+1]);const A=[],M=xi.empty();for(let $=y.length-1;$>=0;--$)if(!Yw(A,y[$])){const X=y[$];let fe=E[$];fe=(0,yt.m9)(fe);const Pe=f.Bc(X);if(fe instanceof Cy)A.push(X);else{const Ue=Fc(fe,Pe);null!=Ue&&(A.push(X),M.set(X,Ue))}}const k=new Ph(A);return new Gw(M,k,f.fieldTransforms)}function rD(n,e,t,r=!1){return Fc(t,n.Qc(r?4:3,e))}function Fc(n,e){if(ix(n=(0,yt.m9)(n)))return Kw("Unsupported field value:",e,n),rx(n,e);if(n instanceof kc)return function(t,r){if(!sf(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const a=[];let d=0;for(const f of t){let y=Fc(f,r.Uc(d));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),d++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return iT(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Qr.fromDate(t);return{timestampValue:du(r.k,a)}}if(t instanceof Qr){const a=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:du(r.k,a)}}if(t instanceof vg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fu)return{bytesValue:yT(r.k,t._byteString)};if(t instanceof jn){const a=r.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw r.qc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Gb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${by(t)}`)}(n,e)}function rx(n,e){const t={};return Rp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(r,a)=>{const d=Fc(a,e.Mc(r));null!=d&&(t[r]=d)}),{mapValue:{fields:t}}}function ix(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qr||n instanceof vg||n instanceof fu||n instanceof jn||n instanceof kc)}function Kw(n,e,t){if(!ix(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=by(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function bg(n,e,t){if((e=(0,yt.m9)(e))instanceof Aa)return e._internalPath;if("string"==typeof e)return iD(n,e);throw wg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Jr=new RegExp("[~\\*/\\[\\]]");function iD(n,e,t){if(e.search(Jr)>=0)throw wg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Aa(...e.split("."))._internalPath}catch(r){throw wg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wg(n,e,t,r,a){const d=r&&!r.isEmpty(),f=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let E="";return(d||f)&&(E+=" (found",d&&(E+=` in field ${r}`),f&&(E+=` in document ${a}`),E+=")"),new Me(he.INVALID_ARGUMENT,y+n+E)}function Yw(n,e){return n.some(t=>t.isEqual(e))}class Eg{constructor(e,t,r,a,d){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ty(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ty extends Eg{data(){return super.data()}}function Iy(n,e){return"string"==typeof e?iD(n,e):e instanceof Aa?e._internalPath:e._delegate._internalPath}class rd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends Eg{constructor(e,t,r,a,d,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class zo extends Sa{data(e={}){return super.data(e)}}class pu{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new rd(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zo(this._firestore,this._userDataWriter,r.key,r,new rd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new zo(r._firestore,r._userDataWriter,f.doc.key,f.doc,new rd(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const y=new zo(r._firestore,r._userDataWriter,f.doc.key,f.doc,new rd(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,A=-1;return 0!==f.type&&(E=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),A=d.indexOf(f.doc.key)),{type:Qw(f.type),doc:y,oldIndex:E,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qw(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function Dy(n,e){return n instanceof Sa&&e instanceof Sa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pu&&e instanceof pu&&n._firestore===e._firestore&&qw(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function sD(n){if(Lp(n)&&0===n.explicitOrderBy.length)throw new Me(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}function Vc(n,...e){for(const t of e)n=t._apply(n);return n}class Jw extends Lc{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=nd(e.firestore),r=function(a,d,f,y,E,A,M){let k;if(E.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){lD(M,A);const X=[];for(const fe of M)X.push(cD(y,a,fe));k={arrayValue:{values:X}}}else k=cD(y,a,M)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||lD(M,A),k=rD(f,"where",M,"in"===A||"not-in"===A);const $=Ri.create(E,A,k);return function(X,fe){if(fe.V()){const Ue=kb(X);if(null!==Ue&&!Ue.isEqual(fe.field))throw new Me(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${fe.field.toString()}'`);const Mt=A_(X);null!==Mt&&dD(0,fe.field,Mt)}const Pe=function(Ue,Mt){for(const xt of Ue.filters)if(Mt.indexOf(xt.op)>=0)return xt.op;return null}(X,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(fe.op));if(null!==Pe)throw new Me(he.INVALID_ARGUMENT,Pe===fe.op?`Invalid query. You cannot use more than one '${fe.op.toString()}' filter.`:`Invalid query. You cannot use '${fe.op.toString()}' filters with '${Pe.toString()}' filters.`)}(a,$),$}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Oi(e.firestore,e.converter,function(a,d){const f=a.filters.concat([d]);return new wa(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class Xr extends Lc{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,a,d){if(null!==r.startAt)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Pl(a,d);return function(y,E){if(null===A_(y)){const A=kb(y);null!==A&&dD(0,A,E.field)}}(r,f),f}(e._query,this.zc,this.Yc);return new Oi(e.firestore,e.converter,function(r,a){const d=r.explicitOrderBy.concat([a]);return new wa(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class aD extends Lc{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new Oi(e.firestore,e.converter,XC(e._query,this.Xc,this.Zc))}}class Cg extends Lc{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=uD(e,this.type,this.ta,this.ea);return new Oi(e.firestore,e.converter,(a=t,new wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class ax extends Lc{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=uD(e,this.type,this.ta,this.ea);return new Oi(e.firestore,e.converter,(a=t,new wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function uD(n,e,t,r){if(t[0]=(0,yt.m9)(t[0]),t[0]instanceof Eg)return function(a,d,f,y,E){if(!y)throw new Me(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const A=[];for(const M of Uh(a))if(M.field.isKeyField())A.push(v_(d,y.key));else{const k=y.data.field(M.field);if(Rb(k))throw new Me(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const $=M.field.canonicalString();throw new Me(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}A.push(k)}return new ba(A,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=nd(n.firestore);return function(d,f,y,E,A,M){const k=d.explicitOrderBy;if(A.length>k.length)throw new Me(he.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let X=0;X<A.length;X++){const fe=A[X];if(k[X].field.isKeyField()){if("string"!=typeof fe)throw new Me(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof fe}`);if(!Fb(d)&&-1!==fe.indexOf("/"))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${fe}' contains a slash.`);const Pe=d.path.child(ln.fromString(fe));if(!tt.isDocumentKey(Pe))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Pe}' is not because it contains an odd number of segments.`);const Ue=new tt(Pe);$.push(v_(f,Ue))}else{const Pe=rD(y,E,fe);$.push(Pe)}}return new ba($,M)}(n._query,n.firestore._databaseId,a,e,t,r)}}function cD(n,e,t){if("string"==typeof(t=(0,yt.m9)(t))){if(""===t)throw new Me(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&-1!==t.indexOf("/"))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ln.fromString(t));if(!tt.isDocumentKey(r))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return v_(n,new tt(r))}if(t instanceof jn)return v_(n,t._key);throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${by(t)}.`)}function lD(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function dD(n,e,t){if(!t.isEqual(e))throw new Me(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hD{convertValue(e,t="none"){switch(mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const r={};return ya(e.fields,(a,d)=>{r[a]=this.convertValue(d,t)}),r}convertGeoPoint(e){return new vg(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Fh(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ln.fromString(e);gt(AT(r));const a=new _g(r.get(1),r.get(3)),d=new tt(r.popFirst(5));return a.isEqual(t)||Sr(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Ay(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class cx extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}class fD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nd(e)}set(e,t,r){this._verifyNotCommitted();const a=id(e,this._firestore),d=Ay(a.converter,t,r),f=Ey(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,r);return this._mutations.push(f.toMutation(a._key,Mr.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const d=id(e,this._firestore);let f;return f="string"==typeof(t=(0,yt.m9)(t))||t instanceof Aa?zw(this._dataReader,"WriteBatch.update",d._key,t,r,a):Ww(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(f.toMutation(d._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=id(e,this._firestore);return this._mutations=this._mutations.concat(new Ca(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function id(n,e){if((n=(0,yt.m9)(n)).firestore!==e)throw new Me(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sd extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function pD(n,e,t){n=zt(n,jn);const r=zt(n.firestore,$n),a=Ay(n.converter,e,t);return uf(r,[Ey(nd(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Mr.none())])}function gD(n,e,t,...r){n=zt(n,jn);const a=zt(n.firestore,$n),d=nd(a);let f;return f="string"==typeof(e=(0,yt.m9)(e))||e instanceof Aa?zw(d,"updateDoc",n._key,e,t,r):Ww(d,"updateDoc",n._key,e),uf(a,[f.toMutation(n._key,Mr.exists(!0))])}function mx(n,...e){var t,r,a;n=(0,yt.m9)(n);let d={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||$w(e[f])||(d=e[f],f++);const y={includeMetadataChanges:d.includeMetadataChanges};if($w(e[f])){const k=e[f];e[f]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[f+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[f+2]=null===(a=k.complete)||void 0===a?void 0:a.bind(k)}let E,A,M;if(n instanceof jn)A=zt(n.firestore,$n),M=_c(n._key.path),E={next:k=>{e[f]&&e[f](Xw(A,n,k))},error:e[f+1],complete:e[f+2]};else{const k=zt(n,Oi);A=zt(k.firestore,$n),M=k._query;const $=new sd(A);E={next:X=>{e[f]&&e[f](new pu(A,$,k,X))},error:e[f+1],complete:e[f+2]},sD(n._query)}return function(k,$,X,fe){const Pe=new ef(fe),Ue=new ay($,Pe,X);return k.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return ww(yield mg(k),Ue)})),()=>{Pe.nc(),k.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Ew(yield mg(k),Ue)}))}}(mn(A),M,y,E)}function uf(n,e){return function(t,r){const a=new Ur;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e,t){return xw.apply(this,arguments)}(yield Vw(t),r,a)})),a.promise}(mn(n),e)}function Xw(n,e,t){const r=t.docs.get(e._key),a=new sd(n);return new Sa(n,a,e._key,r,new rd(t.hasPendingWrites,t.fromCache),e.converter)}class Tg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nd(e)}get(e){const t=id(e,this._firestore),r=new cx(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return nt();const d=a[0];if(d.isFoundDocument())return new Eg(this._firestore,r,d.key,d,t.converter);if(d.isNoDocument())return new Eg(this._firestore,r,t._key,null,t.converter);throw nt()})}set(e,t,r){const a=id(e,this._firestore),d=Ay(a.converter,t,r),f=Ey(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,r);return this._transaction.set(a._key,f),this}update(e,t,r,...a){const d=id(e,this._firestore);let f;return f="string"==typeof(t=(0,yt.m9)(t))||t instanceof Aa?zw(this._dataReader,"Transaction.update",d._key,t,r,a):Ww(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,f),this}delete(e){const t=id(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=id(e,this._firestore),r=new sd(this._firestore);return super.get(e).then(a=>new Sa(this._firestore,r,t._key,a._document,new rd(!1,!1),t.converter))}}function e0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function wx(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function yD(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Rh=Uo.SDK_VERSION,(0,Uo._registerComponent)(new oh.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),d=new $n(a,new IS(t.getProvider("auth-internal")),new xb(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),d._setSettings(r),d},"PUBLIC")),(0,Uo.registerVersion)(UC,"3.4.3",n),(0,Uo.registerVersion)(UC,"3.4.3","esm2017")}();class Ig{constructor(e){this._delegate=e}static fromBase64String(e){return yD(),new Ig(fu.fromBase64String(e))}static fromUint8Array(e){return wx(),new Ig(fu.fromUint8Array(e))}toBase64(){return yD(),this._delegate.toBase64()}toUint8Array(){return wx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function t0(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class mM{enableIndexedDbPersistence(e,t){return function(n,e){JI(n=zt(n,$n));const t=mn(n),r=n._freezeSettings(),a=new VI;return z1(t,a,new P1(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){JI(n=zt(n,$n));const e=mn(n),t=n._freezeSettings(),r=new VI;return z1(e,r,new k1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Me(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!br.Pt())return Promise.resolve();const a=r+"main";yield br.delete(a)}),function(r){return t.apply(this,arguments)})(iw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class n0{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _g||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const d=(n=zt(n,yg))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Mh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=ci.MOCK_USER;else{f=(0,yt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Me(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ci(E)}n._authCredentials=new Nl(new __(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield V1(n),t=yield U1(n);return e.setNetworkEnabled(!0),function(r){const a=qe(r);return a.Gr.delete(0),Yh(a)}(t)}))}(mn(n=zt(n,$n)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield V1(n),t=yield U1(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(a){const d=qe(a);d.Gr.add(0),yield Qh(d),d.Jr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(mn(n=zt(n,$n)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rf("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Ur;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e){return Mw.apply(this,arguments)}(yield Vw(e),t)})),t.promise}(mn(n=zt(n,$n)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new ef(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield mg(n),a=t,qe(r).io.add(a),void a.next();var r,a})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield mg(n),a=t,void qe(r).io.delete(a);var r,a}))}}(mn(n=zt(n,$n)),$w(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new df(this,Bw(this._delegate,e))}catch(t){throw fi(t,"collection()","Firestore.collection()")}}doc(e){try{return new gs(this,wy(this._delegate,e))}catch(t){throw fi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $i(this,function(n,e){if(n=zt(n,yg),Uw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(t=e,new wa(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(a=n,td(a).then(d=>d.datastore));var a;new F1(n.asyncQueue,r,e,t).run()})),t.promise}(mn(n=zt(n,$n)),t=>e(new Tg(n,t)))}(this._delegate,t=>e(new r0(this,t)))}batch(){return mn(this._delegate),new s0(new fD(this._delegate,e=>uf(this._delegate,e)))}loadBundle(e){return function(n,e){const t=mn(n=zt(n,$n)),r=new Hw;return function(n,e,t,r){const a=function(d,f){let y;return y="string"==typeof d?(new TextEncoder).encode(d):d,E=function(E,A){if(E instanceof Uint8Array)return UI(E,A);if(E instanceof ArrayBuffer)return UI(new Uint8Array(E),A);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new tf(E,f);var E}(t,sg(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,e,t){const r=qe(n);var a;(a=(0,_e.Z)(function*(d,f,y){try{const E=yield f.getMetadata();if(yield function($,X){const fe=qe($),Pe=di(X.createTime);return fe.persistence.runTransaction("hasNewerBundle","readonly",Ue=>fe.Ye.getBundleMetadata(Ue,X.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Pe)>=0)}(d.localStore,E))return yield f.close(),void y._completeWith(($=E,{taskState:"Success",documentsLoaded:$.totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}));y._updateProgress(A1(E));const A=new Cw(E,d.localStore,f.k);let M=yield f.Ho();for(;M;){const $=yield A.yo(M);$&&y._updateProgress($),M=yield f.Ho()}const k=yield A.complete();yield Pc(d,k.In,void 0),yield function($,X){const fe=qe($);return fe.persistence.runTransaction("Save bundle","readwrite",Pe=>fe.Ye.saveBundleMetadata(Pe,X))}(d.localStore,E),y._completeWith(k.progress)}catch(E){Mh("SyncEngine",`Loading bundle failed with ${E}`),y._failWith(E)}var $}),function(d,f,y){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Vw(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const a=qe(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.Ye.getNamedQuery(d,r))}(yield jI(n),e)}))}(mn(n=zt(n,$n)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new $i(this,t):null)}}class Sy extends hD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ig(new fu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gs.forKey(t,this.firestore,null)}}class r0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}get(e){const t=od(e);return this._delegate.get(t).then(r=>new cf(this._firestore,new Sa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=od(e);return r?(e0("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const d=od(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...a),this}delete(e){const t=od(e);return this._delegate.delete(t),this}}class s0{constructor(e){this._delegate=e}set(e,t,r){const a=od(e);return r?(e0("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const d=od(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...a),this}delete(e){const t=od(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new zo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lf(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=gu.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let d=a.get(t);return d||(d=new gu(e,new Sy(e),t),a.set(t,d)),d}}gu.INSTANCES=new WeakMap;class gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gs(t,new jn(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new gs(t,new jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new df(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new df(this.firestore,Bw(this._delegate,e))}catch(t){throw fi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yt.m9)(e))instanceof jn&&jw(this._delegate,e)}set(e,t){t=e0("DocumentReference.set",t);try{return t?pD(this._delegate,e,t):pD(this._delegate,e)}catch(r){throw fi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?gD(this._delegate,e):gD(this._delegate,e,t,...r)}catch(a){throw fi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return uf(zt(n.firestore,$n),[new Ca(n._key,Mr.none())])}(this._delegate)}onSnapshot(...e){const t=Dg(e),r=Ag(e,a=>new cf(this.firestore,new Sa(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return mx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=zt(n,jn);const e=zt(n.firestore,$n),t=mn(e),r=new sd(e);return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(a,d,f){try{const y=yield function(E,A){const M=qe(E);return M.persistence.runTransaction("read document","readonly",k=>M.Wn.Rn(k,A))}(a,d);y.isFoundDocument()?f.resolve(y):y.isNoDocument()?f.resolve(null):f.reject(new Me(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const E=Or(y,`Failed to get document '${d} from cache`);f.reject(E)}}),function(a,d,f){return r.apply(this,arguments)})(yield jI(n),e,t);var r})),t.promise}(t,n._key).then(a=>new Sa(e,r,n._key,a,new rd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=zt(n,jn);const e=zt(n.firestore,$n);return vy(mn(e),n._key,{source:"server"}).then(t=>Xw(e,n,t))}(this._delegate):function(n){n=zt(n,jn);const e=zt(n.firestore,$n);return vy(mn(e),n._key).then(t=>Xw(e,n,t))}(this._delegate),t.then(r=>new cf(this.firestore,new Sa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new gs(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function fi(n,e,t){return n.message=n.message.replace(e,t),n}function Dg(n){for(const e of n)if("object"==typeof e&&!t0(e))return e;return{}}function Ag(n,e){var t,r;let a;return a=t0(n[0])?n[0]:t0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class cf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Dy(this._delegate,e._delegate)}}class lf extends cf{data(e){const t=this._delegate.data(e);return function(n,e){n||nt()}(void 0!==t),t}}class $i{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Sy(e)}where(e,t,r){try{return new $i(this.firestore,Vc(this._delegate,function(n,e,t){const r=e,a=Iy("where",n);return new Jw(a,r,t)}(e,t,r)))}catch(a){throw fi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $i(this.firestore,Vc(this._delegate,function(n,e="asc"){const t=e,r=Iy("orderBy",n);return new Xr(r,t)}(e,t)))}catch(r){throw fi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $i(this.firestore,Vc(this._delegate,function(n){return GI("limit",n),new aD("limit",n,"F")}(e)))}catch(t){throw fi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $i(this.firestore,Vc(this._delegate,function(n){return GI("limitToLast",n),new aD("limitToLast",n,"L")}(e)))}catch(t){throw fi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $i(this.firestore,Vc(this._delegate,function(...n){return new Cg("startAt",n,!0)}(...e)))}catch(t){throw fi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $i(this.firestore,Vc(this._delegate,function(...n){return new Cg("startAfter",n,!1)}(...e)))}catch(t){throw fi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $i(this.firestore,Vc(this._delegate,function(...n){return new ax("endBefore",n,!0)}(...e)))}catch(t){throw fi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $i(this.firestore,Vc(this._delegate,function(...n){return new ax("endAt",n,!1)}(...e)))}catch(t){throw fi(t,"endAt()","Query.endAt()")}}isEqual(e){return qw(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=zt(n,Oi);const e=zt(n.firestore,$n),t=mn(e),r=new sd(e);return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(a,d,f){try{const y=yield G_(a,d,!0),E=new Iw(d,y.zn),A=E.Po(y.documents),M=E.applyChanges(A,!1);f.resolve(M.snapshot)}catch(y){const E=Or(y,`Failed to execute query '${d} against cache`);f.reject(E)}}),function(a,d,f){return r.apply(this,arguments)})(yield jI(n),e,t);var r})),t.promise}(t,n._query).then(a=>new pu(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=zt(n,Oi);const e=zt(n.firestore,$n),t=mn(e),r=new sd(e);return j1(t,n._query,{source:"server"}).then(a=>new pu(e,r,n,a))}(this._delegate):function(n){n=zt(n,Oi);const e=zt(n.firestore,$n),t=mn(e),r=new sd(e);return sD(n._query),j1(t,n._query).then(a=>new pu(e,r,n,a))}(this._delegate),t.then(r=>new xy(this.firestore,new pu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Dg(e),r=Ag(e,a=>new xy(this.firestore,new pu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return mx(this._delegate,t,r)}withConverter(e){return new $i(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}class Ex{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $i(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ex(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lf(this._firestore,r))})}isEqual(e){return Dy(this._delegate,e._delegate)}}class df extends $i{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gs(this.firestore,e):null}doc(e){try{return new gs(this.firestore,void 0===e?wy(this._delegate):wy(this._delegate,e))}catch(t){throw fi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=zt(n.firestore,$n),r=wy(n),a=Ay(n.converter,e);return uf(t,[Ey(nd(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new gs(this.firestore,t))}isEqual(e){return jw(this._delegate,e._delegate)}withConverter(e){return new df(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function od(n){return zt(n,jn)}class o0{constructor(...e){this._delegate=new Aa(...e)}static documentId(){return new o0(Zr.keyField().canonicalString())}isEqual(e){return(e=(0,yt.m9)(e))instanceof Aa&&this._delegate._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=new eD("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new mu(e)}static delete(){const e=new Cy("deleteField");return e._methodName="FieldValue.delete",new mu(e)}static arrayUnion(...e){const t=function(...n){return new tD("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mu(t)}static arrayRemove(...e){const t=function(...n){return new nD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mu(t)}static increment(e){const t=function(n){return new nx("increment",n)}(e);return t._methodName="FieldValue.increment",new mu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cx={Firestore:n0,GeoPoint:vg,Timestamp:Qr,Blob:Ig,Transaction:r0,WriteBatch:s0,DocumentReference:gs,DocumentSnapshot:cf,Query:$i,QueryDocumentSnapshot:lf,QuerySnapshot:xy,CollectionReference:df,FieldPath:o0,FieldValue:mu,setLogLevel:function(n){!function(n){gc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function a0(n,e){return function(n,e=NE.z){return new Kt.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function xg(n,e){return a0(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function Rg(n,e){return xg(n,e).pipe(qu(void 0),Pv(),(0,pt.U)(([t,r])=>{const a=r.payload.docChanges(),d=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,y)=>{const E=a.find(M=>M.doc.ref.isEqual(f.ref)),A=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&A&&JSON.stringify(A.metadata)===JSON.stringify(f.metadata)||d.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:f}})}),d}))}function Mg(n,e,t){return Rg(n,t).pipe(Mo((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return u0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return u0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return u0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(d=>d.payload),e),[]),t=>t.lift(new KA(void 0,void 0)),(0,pt.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function u0(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function bD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new oh.wA("firestore-compat",t=>((e,t)=>new n0(e,t,new mM))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Cx)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(OE.Z);class c0{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Rg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(qu(void 0),Pv(),is(([r,a])=>a.length>0||!r),(0,pt.U)(([r,a])=>a),yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=bD(e);return Mg(this.query,t,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return xg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),yr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(yr.iC)}add(e){return this.ref.add(e)}doc(e){return new wD(this.ref.doc(e),this.afs)}}class wD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:d}=ED(r,t);return new c0(a,d,this.afs)}snapshotChanges(){return function(n,e){return a0(n,e).pipe(qu(void 0),Pv(),(0,pt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(yr.iC)}}class Dx{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),is(t=>t.length>0),yr.iC):Rg(this.query,this.afs.schedulers.outsideAngular).pipe(yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=bD(e);return Mg(this.query,t,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return xg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),yr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(yr.iC)}}const Ax=new c.OlP("angularfire2.enableFirestorePersistence"),Uc=new c.OlP("angularfire2.firestore.persistenceSettings"),Ng=new c.OlP("angularfire2.firestore.settings"),l0=new c.OlP("angularfire2.firestore.use-emulator");function ED(n,e=(t=>t)){return{query:e(n),ref:n}}let Og=(()=>{class n{constructor(t,r,a,d,f,y,E,A,M,k,$,X,fe,Pe,Ue,Mt,xt){this.schedulers=E;const Lt=(0,ii.on)(t,y,r),lt=M;k&&ME(Lt,y,$,fe,Pe,Ue,X,Mt),[this.firestore,this.persistenceEnabled$]=(0,ii.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const Cn=y.runOutsideAngular(()=>Lt.firestore());if(d&&Cn.settings(d),lt&&Cn.useEmulator(...lt),a&&!bo(f)){const Pi=()=>{try{return(0,un.D)(Cn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Ef){return"undefined"!=typeof console&&console.warn(Ef),(0,Xe.of)(!1)}};return[Cn,y.runOutsideAngular(Pi)]}return[Cn,(0,Xe.of)(!1)]},[d,lt,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:f}=ED(a,r),y=this.schedulers.ngZone.run(()=>d);return new c0(y,f,this)}collectionGroup(t,r){const a=r||(f=>f),d=this.firestore.collectionGroup(t);return new Dx(a(d),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new wD(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ii.Dh),c.LFG(ii.xv,8),c.LFG(Ax,8),c.LFG(Ng,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(yr.HU),c.LFG(Uc,8),c.LFG(l0,8),c.LFG(qm,8),c.LFG(Nv,8),c.LFG(SE,8),c.LFG(Ov,8),c.LFG(xE,8),c.LFG(jm,8),c.LFG(RE,8),c.LFG(xv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class Sx{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new CD(e,this.dueTime,this.scheduler))}}class CD extends Qn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(TD,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function TD(n){n.debouncedNext()}const ID="firebasestorage.googleapis.com",DD="storageBucket";class Ln extends yt.ZR{constructor(e,t){super(Zc(e),`Firebase Storage: ${t} (${Zc(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ln.prototype)}_codeEquals(e){return Zc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Zc(n){return"storage/"+n}function hf(){return new Ln("unknown","An unknown error occurred, please check the error payload for server response.")}function h0(){return new Ln("canceled","User canceled the upload/download.")}function RD(){return new Ln("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bc(n){return new Ln("invalid-argument",n)}function ND(){return new Ln("app-deleted","The Firebase app was deleted.")}function OD(n){return new Ln("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ny(n,e){return new Ln("invalid-format","String does not match format '"+n+"': "+e)}function Oy(n){throw new Ln("internal-error","Internal error: "+n)}class Gi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Gi.makeFromUrl(e,t)}catch(a){return new Gi(e,"")}if(""===r.path)return r;throw function(n){return new Ln("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+a+"(/(.*))?$","i");function A(lt){lt.path_=decodeURIComponent(lt.path)}const k=t.replace(/[.]/g,"\\."),Lt=[{regex:y,indices:{bucket:1,path:3},postModify:function(lt){"/"===lt.path.charAt(lt.path.length-1)&&(lt.path_=lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${t===ID?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let lt=0;lt<Lt.length;lt++){const Cn=Lt[lt],Pi=Cn.regex.exec(e);if(Pi){let I0=Pi[Cn.indices.path];I0||(I0=""),r=new Gi(Pi[Cn.indices.bucket],I0),Cn.postModify(r);break}}if(null==r)throw function(n){return new Ln("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class yM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function p0(n){return"string"==typeof n||n instanceof String}function PD(n){return kD()&&n instanceof Blob}function kD(){return"undefined"!=typeof Blob}function FD(n,e,t,r){if(r<e)throw Bc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Bc(`Invalid value for '${n}'. Expected ${t} or less.`)}function jc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Fx(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var i=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(i||(i={})),i))();class s{constructor(e,t,r,a,d,f,y,E,A,M,k){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=d,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=E,this.timeout_=A,this.progressCallback_=M,this.connectionFactory_=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(($,X)=>{this.resolve_=$,this.reject_=X,this.start_()})}start_(){const t=(r,a)=>{const d=this.resolve_,f=this.reject_,y=a.connection;if(a.wasSuccessCode)try{const E=this.callback_(y,y.getResponse());!function(n){return void 0!==n}(E)?d():d(E)}catch(E){f(E)}else if(null!==y){const E=hf();E.serverResponse=y.getErrorText(),f(this.errorCallback_?this.errorCallback_(y,E):E)}else f(a.canceled?this.appDelete_?ND():h0():new Ln("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new o(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,a=null,d=null,f=!1,y=0;function E(){return 2===y}let A=!1;function M(...Ue){A||(A=!0,e.apply(null,Ue))}function k(Ue){a=setTimeout(()=>{a=null,n(X,E())},Ue)}function $(){d&&clearTimeout(d)}function X(Ue,...Mt){if(A)return void $();if(Ue)return $(),void M.call(null,Ue,...Mt);if(E()||f)return $(),void M.call(null,Ue,...Mt);let Lt;r<64&&(r*=2),1===y?(y=2,Lt=0):Lt=1e3*(r+Math.random()),k(Lt)}let fe=!1;function Pe(Ue){fe||(fe=!0,$(),!A&&(null!==a?(Ue||(y=2),clearTimeout(a),k(0)):Ue||(y=1)))}return k(0),d=setTimeout(()=>{f=!0,Pe(!0)},t),Pe}((r,a)=>{if(a)return void r(!1,new o(!1,null,!0));const d=this.connectionFactory_();this.pendingConnection_=d;const f=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&d.addUploadProgressListener(f),d.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&d.removeUploadProgressListener(f),this.pendingConnection_=null;const y=d.getErrorCode()===i.NO_ERROR,E=d.getStatus();if(!y||this.isRetryStatusCode_(E)){const M=d.getErrorCode()===i.ABORT;return void r(!1,new o(!1,null,M))}const A=-1!==this.successCodes_.indexOf(E);r(!0,new o(A,d))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),d=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||d}}class o{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function T(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(kD())return new Blob(n);throw new Ln("unsupported-environment","This browser doesn't seem to support creating Blobs")}const P={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class B{constructor(e,t){this.data=e,this.contentType=t||null}}function z(n,e){switch(n){case P.RAW:return new B(ce(e));case P.BASE64:case P.BASE64URL:return new B(Oe(n,e));case P.DATA_URL:return new B(function(n){const e=new we(n);return e.base64?Oe(P.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Ny(P.DATA_URL,"Malformed data URL.")}return ce(e)}(e.rest)}(e),function(n){return new we(n).contentType}(e))}throw hf()}function ce(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Oe(n,e){switch(n){case P.BASE64:{const a=-1!==e.indexOf("-"),d=-1!==e.indexOf("_");if(a||d)throw Ny(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case P.BASE64URL:{const a=-1!==e.indexOf("+"),d=-1!==e.indexOf("/");if(a||d)throw Ny(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(a){throw Ny(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}class we{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ny(P.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class En{constructor(e,t){let r=0,a="";PD(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(PD(this.data_)){const a=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===a?null:new En(a)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new En(r,!0)}}static getBlob(...e){if(kD()){const t=e.map(r=>r instanceof En?r.data_:r);return new En(T.apply(null,t))}{const t=e.map(f=>p0(f)?z(P.RAW,f).data:f.data_);let r=0;t.forEach(f=>{r+=f.byteLength});const a=new Uint8Array(r);let d=0;return t.forEach(f=>{for(let y=0;y<f.length;y++)a[d++]=f[y]}),new En(a,!0)}}uploadData(){return this.data_}}function ms(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function ud(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function gf(n,e){return e}class pi{constructor(e,t,r,a){this.server=e,this.local=t||e,this.writable=!!r,this.xform=a||gf}}let mf=null;function cd(){if(mf)return mf;const n=[];n.push(new pi("bucket")),n.push(new pi("generation")),n.push(new pi("metageneration")),n.push(new pi("name","fullPath",!0));const t=new pi("name");t.xform=function(d,f){return function(n){return!p0(n)||n.length<2?n:ud(n)}(f)},n.push(t);const a=new pi("size");return a.xform=function(d,f){return void 0!==f?Number(f):f},n.push(a),n.push(new pi("timeCreated")),n.push(new pi("updated")),n.push(new pi("md5Hash",null,!0)),n.push(new pi("cacheControl",null,!0)),n.push(new pi("contentDisposition",null,!0)),n.push(new pi("contentEncoding",null,!0)),n.push(new pi("contentLanguage",null,!0)),n.push(new pi("contentType",null,!0)),n.push(new pi("metadata","customMetadata",!0)),mf=n,mf}function EM(n,e,t){const r=ms(e);return null===r?null:function(n,e,t){const r={type:"file"},a=t.length;for(let d=0;d<a;d++){const f=t[d];r[f.local]=f.xform(r,e[f.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const d=new Gi(n.bucket,n.fullPath);return e._makeStorageReference(d)}})}(r,n),r}(n,r,t)}function Lx(n,e){const t={},r=e.length;for(let a=0;a<r;a++){const d=e[a];d.writable&&(t[d.server]=n[d.local])}return JSON.stringify(t)}const CM="prefixes";class qc{constructor(e,t,r,a){this.url=e,this.method=t,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $c(n){if(!n)throw hf()}function LD(n,e){return function(r,a){const d=EM(n,a,e);return $c(null!==d),d}}function Py(n){return function(t,r){let a;return a=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Ln("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ln("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Ln("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Ln("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,a.serverResponse=r.serverResponse,a}}function _0(n){const e=Py(n);return function(r,a){let d=e(r,a);return 404===r.getStatus()&&(d=function(n){return new Ln("object-not-found","Object '"+n+"' does not exist.")}(n.path)),d.serverResponse=a.serverResponse,d}}function IM(n,e,t){const a=jc(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new qc(a,"GET",LD(n,t),f);return y.errorHandler=_0(e),y}function CO(n,e,t,r,a){const d={};d.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(d.delimiter=t),r&&(d.pageToken=r),a&&(d.maxResults=a);const y=jc(e.bucketOnlyServerUrl(),n.host,n._protocol),A=n.maxOperationRetryTime,M=new qc(y,"GET",function(n,e){return function(r,a){const d=function(n,e,t){const r=ms(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[CM])for(const a of t[CM]){const d=a.replace(/\/$/,""),f=n._makeStorageReference(new Gi(e,d));r.prefixes.push(f)}if(t.items)for(const a of t.items){const d=n._makeStorageReference(new Gi(e,a.name));r.items.push(d)}return r}(n,e,r)}(n,e,a);return $c(null!==d),d}}(n,e.bucket),A);return M.urlParams=d,M.errorHandler=Py(e),M}function AM(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class VD{constructor(e,t,r,a){this.current=e,this.total=t,this.finalized=!!r,this.metadata=a||null}}function Vx(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){$c(!1)}return $c(!!t&&-1!==(e||["active"]).indexOf(t)),t}const MO={STATE_CHANGED:"state_changed"},Zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ux(n){switch(n){case"running":case"pausing":case"canceling":return Zs.RUNNING;case"paused":return Zs.PAUSED;case"success":return Zs.SUCCESS;case"canceled":return Zs.CANCELED;case"error":default:return Zs.ERROR}}class NO{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const d=e;this.next=d.next,this.error=d.error,this.complete=d.complete}}}function ky(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class PO extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=i.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=i.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=i.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,a){if(this.sent_)throw Oy("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const d in a)a.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,a[d].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Oy("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Oy("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Oy("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Oy("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function yu(){return new PO}class MM{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=cd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,d)=>{this._resolve=a,this._reject=d,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,a){const d=e.bucketOnlyServerUrl(),f=AM(e,r,a),y={name:f.fullPath},E=jc(d,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},k=Lx(f,t),fe=new qc(E,"POST",function(Pe){let Ue;Vx(Pe);try{Ue=Pe.getResponseHeader("X-Goog-Upload-URL")}catch(Mt){$c(!1)}return $c(p0(Ue)),Ue},n.maxUploadRetryTime);return fe.urlParams=y,fe.headers=M,fe.body=k,fe.errorHandler=Py(e),fe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,yu,e,t);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._uploadUrl=d,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const a=function(n,e,t,r){const E=new qc(t,"POST",function(A){const M=Vx(A,["active","final"]);let k=null;try{k=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch(X){$c(!1)}k||$c(!1);const $=Number(k);return $c(!isNaN($)),new VD($,r.size(),"final"===M)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=Py(e),E}(this._ref.storage,this._ref._location,e,this._blob),d=this._ref.storage._makeRequest(a,yu,t,r);this._request=d,d.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new VD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,d)=>{let f;try{f=function(n,e,t,r,a,d,f,y){const E=new VD(0,0);if(f?(E.current=f.current,E.total=f.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw new Ln("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=E.total-E.current;let M=A;a>0&&(M=Math.min(M,a));const k=E.current,fe={"X-Goog-Upload-Command":M===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},Pe=r.slice(k,k+M);if(null===Pe)throw RD();const Lt=new qc(t,"POST",function(lt,Cn){const Pi=Vx(lt,["active","final"]),Ef=E.current+M,I0=r.size();let uR;return uR="final"===Pi?LD(e,d)(lt,Cn):null,new VD(Ef,I0,"final"===Pi,uR)},e.maxUploadRetryTime);return Lt.headers=fe,Lt.body=Pe.uploadData(),Lt.progressCallback=y||null,Lt.errorHandler=Py(n),Lt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const y=this._ref.storage._makeRequest(f,yu,a,d);this._request=y,y.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=IM(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,yu,e,t);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,a){const d=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},E=function(){let Lt="";for(let lt=0;lt<2;lt++)Lt+=Math.random().toString().slice(2);return Lt}();f["Content-Type"]="multipart/related; boundary="+E;const A=AM(e,r,a),M=Lx(A,t),X=En.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+E+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===X)throw RD();const fe={name:A.fullPath},Pe=jc(d,n.host,n._protocol),Mt=n.maxUploadRetryTime,xt=new qc(Pe,"POST",LD(n,t),Mt);return xt.urlParams=fe,xt.headers=f,xt.body=X.uploadData(),xt.errorHandler=Py(e),xt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,yu,e,t);this._request=a,a.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=h0(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Ux(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,a){const d=new NO(t||void 0,r||void 0,a||void 0);return this._addObserver(d),()=>{this._removeObserver(d)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Ux(this._state)){case Zs.SUCCESS:ky(this._resolve.bind(null,this.snapshot))();break;case Zs.CANCELED:case Zs.ERROR:ky(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ux(this._state)){case Zs.RUNNING:case Zs.PAUSED:e.next&&ky(e.next.bind(e,this.snapshot))();break;case Zs.SUCCESS:e.complete&&ky(e.complete.bind(e))();break;case Zs.CANCELED:case Zs.ERROR:e.error&&ky(e.error.bind(e,this._error))();break;default:e.error&&ky(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class kg{constructor(e,t){this._service=e,this._location=t instanceof Gi?t:Gi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kg(e,t)}get root(){const e=new Gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ud(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Gi(this._location.bucket,e);return new kg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw OD(e)}}function OM(n,e,t){return Zx.apply(this,arguments)}function Zx(){return(Zx=(0,_e.Z)(function*(n,e,t){const a=yield PM(n,{pageToken:t});e.prefixes.push(...a.prefixes),e.items.push(...a.items),null!=a.nextPageToken&&(yield OM(n,e,a.nextPageToken))})).apply(this,arguments)}function PM(n,e){null!=e&&"number"==typeof e.maxResults&&FD("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=CO(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,yu)}function GO(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const a=jc(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new qc(a,"GET",function(n,e){return function(r,a){const d=EM(n,a,e);return $c(null!==d),function(n,e,t,r){const a=ms(e);if(null===a||!p0(a.downloadTokens))return null;const d=a.downloadTokens;if(0===d.length)return null;const f=encodeURIComponent;return d.split(",").map(A=>{const k=n.fullPath;return jc("/b/"+f(n.bucket)+"/o/"+f(k),t,r)+Fx({alt:"media",token:A})})[0]}(d,a,n.host,n._protocol)}}(n,t),f);return y.errorHandler=_0(e),y}(n.storage,n._location,cd());return n.storage.makeRequestWithTokens(e,yu).then(t=>{if(null===t)throw new Ln("no-download-url","The given file does not have any download URLs.");return t})}function kM(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Gi(n._location.bucket,t);return new kg(n.storage,r)}function FM(n,e){if(n instanceof Bx){const t=n;if(null==t._bucket)throw new Ln("no-default-bucket","No default bucket found. Did you set the '"+DD+"' property when initializing the app?");const r=new kg(t,t._bucket);return null!=e?FM(r,e):r}return void 0!==e?kM(n,e):n}function YO(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Bx)return function(n,e){return new kg(n,e)}(n,e);throw Bc("To use ref(service, url), the first argument must be a Storage instance.")}return FM(n,e)}function LM(n,e){const t=null==e?void 0:e[DD];return null==t?null:Gi.makeFromBucketSpec(t,n)}class Bx{constructor(e,t,r,a,d){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=d,this._bucket=null,this._host=ID,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Gi.makeFromBucketSpec(a,this._host):LM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gi.makeFromBucketSpec(this._url,e):LM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kg(this,e)}_makeRequest(e,t,r,a){if(this._deleted)return new yM(ND());{const d=function(n,e,t,r,a,d){const f=Fx(n.urlParams),y=n.url+f,E=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(E,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(E,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(E,d),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(E,r),new s(y,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(e,this._appId,r,a,t,this._firebaseVersion);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(e,t){var r=this;return(0,_e.Z)(function*(){const[a,d]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,a,d).getPromise()})()}}const VM="@firebase/storage";function BM(n,e){return YO(n=(0,yt.m9)(n),e)}(0,Uo._registerComponent)(new oh.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Bx(t,r,a,e,Uo.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(VM,"0.9.1",""),(0,Uo.registerVersion)(VM,"0.9.1","esm2017");class UD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jM{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new UD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new UD(r,this,this._ref))},t)}on(e,t,r,a){let d;return t&&(d="function"==typeof t?f=>t(new UD(f,this,this._ref)):{next:t.next?f=>t.next(new UD(f,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,d,r||void 0,a||void 0)}}class qM{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ld(e,this._service))}get items(){return this._delegate.items.map(e=>new ld(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ld{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return kM(n,e)}(this._delegate,e);return new ld(t,this.storage)}get root(){return new ld(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ld(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new jM(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new MM(n,new En(e),t)}(n=(0,yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=P.RAW,r){this._throwIfRoot("putString");const a=z(t,e),d=Object.assign({},r);return null==d.contentType&&null!=a.contentType&&(d.contentType=a.contentType),new jM(new MM(this._delegate,new En(a.data,!0),d),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return OM(n,e).then(()=>e)}(n=(0,yt.m9)(n))}(this._delegate).then(e=>new qM(e,this.storage))}list(e){return function(n,e){return PM(n=(0,yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new qM(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=IM(n.storage,n._location,cd());return n.storage.makeRequestWithTokens(e,yu)}(n=(0,yt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const d=jc(e.fullServerUrl(),n.host,n._protocol),y=Lx(t,r),A=n.maxOperationRetryTime,M=new qc(d,"PATCH",LD(n,r),A);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=y,M.errorHandler=_0(e),M}(n.storage,n._location,e,cd());return n.storage.makeRequestWithTokens(t,yu)}(n=(0,yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return GO(n=(0,yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=jc(e.fullServerUrl(),n.host,n._protocol),y=new qc(r,"DELETE",function(E,A){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=_0(e),y}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,yu)}(n=(0,yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw OD(e)}}class $M{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(HM(e))throw Bc("ref() expected a child path but got a URL, use refFromURL instead.");return new ld(BM(this._delegate,e),this)}refFromURL(e){if(!HM(e))throw Bc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gi.makeFromUrl(e,this._delegate.host)}catch(t){throw Bc("refFromUrl() expected a valid full URL but got an invalid one.")}return new ld(BM(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken="string"==typeof a?a:(0,yt.Sg)(a,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function HM(n){return/^[A-Za-z]+:\/\//.test(n)}function hP(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new $M(t,r)}function GM(n){const e=function(n){return new Kt.y(e=>{const t=f=>e.next(f);t(n.snapshot);const d=n.on("state_changed",t);return n.then(f=>{t(f),e.complete()},f=>{t(n.snapshot),(f=>{e.error(f)})(f)}),function(){d()}}).pipe(function(n,e=NE.P){return t=>t.lift(new Sx(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,pt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function ZD(n){return{getDownloadURL:()=>(0,Xe.of)(void 0).pipe(yr.fc,Jn(()=>n.getDownloadURL()),yr.iC),getMetadata:()=>(0,Xe.of)(void 0).pipe(yr.fc,Jn(()=>n.getMetadata()),yr.iC),delete:()=>(0,un.D)(n.delete()),child:e=>ZD(n.child(e)),updateMetadata:e=>(0,un.D)(n.updateMetadata(e)),put:(e,t)=>GM(n.put(e,t)),putString:(e,t,r)=>GM(n.putString(e,t,r)),list:e=>(0,un.D)(n.list(e)),listAll:()=>(0,un.D)(n.listAll())}}!function(n){const e={TaskState:Zs,TaskEvent:MO,StringFormat:P,Storage:$M,Reference:ld};n.INTERNAL.registerComponent(new oh.wA("storage-compat",hP,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.9")}(OE.Z);const gP=new c.OlP("angularfire2.storageBucket"),mP=new c.OlP("angularfire2.storage.maxUploadRetryTime"),_P=new c.OlP("angularfire2.storage.maxOperationRetryTime"),yP=new c.OlP("angularfire2.storage.use-emulator");let jx=(()=>{class n{constructor(t,r,a,d,f,y,E,A,M,k){const $=(0,ii.on)(t,f,r);this.storage=(0,ii.cc)(`${$.name}.storage.${a}`,"AngularFireStorage",$.name,()=>{const X=f.runOutsideAngular(()=>$.storage(a||void 0)),fe=M;return fe&&X.useEmulator(...fe),E&&X.setMaxUploadRetryTime(E),A&&X.setMaxOperationRetryTime(A),X},[E,A])}ref(t){return ZD(this.storage.ref(t))}refFromURL(t){return ZD(this.storage.refFromURL(t))}upload(t,r,a){return ZD(this.storage.ref(t)).put(r,a)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ii.Dh),c.LFG(ii.xv,8),c.LFG(gP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(yr.HU),c.LFG(mP,8),c.LFG(_P,8),c.LFG(yP,8),c.LFG(xv,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),y0=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/Students").add(t)}getAllStudents(){return this.afs.collection("/Students").snapshotChanges()}deleteStudent(t){this.afs.doc("/Students/"+t.id).delete()}updateStudent(t){this.deleteStudent(t),this.addStudent(t)}addCategorie(t){return t.id=this.afs.createId(),this.afs.collection("/categories").add(t)}getAllCategories(){return this.afs.collection("/categories").snapshotChanges()}deleteCategorie(t){return this.afs.doc("/categories/"+t.id).delete()}updateCategorie(t){this.deleteCategorie(t),this.addCategorie(t)}addProduiction(t){return t.id=this.afs.createId(),this.afs.collection("/Produictions").add(t)}getAllProduictions(){return this.afs.collection("/Produictions").snapshotChanges()}deleteProduiction(t){return this.afs.doc("/Produictions/"+t.id).delete()}updateProduiction(t){this.deleteProduiction(t),this.addProduiction(t)}addDonnee(t){return t.id=this.afs.createId(),this.afs.collection("/Donnees").add(t)}getAllDonnees(){return this.afs.collection("/Donnees").snapshotChanges()}deleteDonnee(t){return this.afs.doc("/Donnees/"+t.id).delete()}updateDonnnee(t){this.deleteDonnee(t),this.addDonnee(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Og),c.LFG(jx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var vP=F(1555);function BD(n,e){return new Kt.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let d=0,f=0;for(let y=0;y<r;y++){const E=(0,un.D)(n[y]);let A=!1;t.add(E.subscribe({next:M=>{A||(A=!0,f++),a[y]=M},error:M=>t.error(M),complete:()=>{d++,(d===r||!A)&&(f===r&&t.next(e?e.reduce((M,k,$)=>(M[k]=a[$],M),{}):a),t.complete())}}))}})}let WM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fg=(()=>{class n extends WM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Hc=new c.OlP("NgValueAccessor"),EP={provide:Hc,useExisting:(0,c.Gpc)(()=>dd),multi:!0},TP=new c.OlP("CompositionEventMode");let dd=(()=>{class n extends WM{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(TP,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[c._Bn([EP]),c.qOj]}),n})();const _s=new c.OlP("NgValidators"),yf=new c.OlP("NgAsyncValidators");function iN(n){return null!=n}function sN(n){const e=(0,c.QGY)(n)?(0,un.D)(n):n;return(0,c.CqO)(e),e}function oN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function aN(n,e){return e.map(t=>t(n))}function uN(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function qx(n){return null!=n?function(n){if(!n)return null;const e=n.filter(iN);return 0==e.length?null:function(t){return oN(aN(t,e))}}(uN(n)):null}function $x(n){return null!=n?function(n){if(!n)return null;const e=n.filter(iN);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Ss.k)(e))return BD(e,null);if((0,vP.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return BD(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return BD(n=1===n.length&&(0,Ss.k)(n[0])?n[0]:n,null).pipe((0,pt.U)(t=>e(...t)))}return BD(n,null)}(aN(t,e).map(sN)).pipe((0,pt.U)(oN))}}(uN(n)):null}function dN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hx(n){return n?Array.isArray(n)?n:[n]:[]}function jD(n,e){return Array.isArray(n)?n.includes(e):n===e}function pN(n,e){const t=Hx(e);return Hx(n).forEach(a=>{jD(t,a)||t.push(a)}),t}function gN(n,e){return Hx(e).filter(t=>!jD(n,t))}let mN=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$x(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n}),n})(),Bs=(()=>{class n extends mN{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();class bf extends mN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _N{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let Lg=(()=>{class n extends _N{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bf,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),v0=(()=>{class n extends _N{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function b0(n,e){zx(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yN(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function GD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zx(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(dN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(dN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();GD(e._rawValidators,a),GD(e._rawAsyncValidators,a)}function yN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const w0="VALID",KD="INVALID",Fy="PENDING",E0="DISABLED";function Qx(n){return(Xx(n)?n.validators:n)||null}function wN(n){return Array.isArray(n)?qx(n):n||null}function Jx(n,e){return(Xx(e)?e.asyncValidators:n)||null}function EN(n){return Array.isArray(n)?$x(n):n||null}function Xx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class eR{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=wN(this._rawValidators),this._composedAsyncValidatorFn=EN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===w0}get invalid(){return this.status===KD}get pending(){return this.status==Fy}get disabled(){return this.status===E0}get enabled(){return this.status!==E0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=wN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=EN(e)}addValidators(e){this.setValidators(pN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gN(e,this._rawAsyncValidators))}hasValidator(e){return jD(this._rawValidators,e)}hasAsyncValidator(e){return jD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=E0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w0||this.status===Fy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E0:w0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fy,this._hasOwnPendingAsyncValidator=!0;const t=sN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof tR?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof VP&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?E0:this.errors?KD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fy)?Fy:this._anyControlsHaveStatus(KD)?KD:w0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class YD extends eR{constructor(e=null,t,r){super(Qx(t),Jx(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tR extends eR{constructor(e,t,r){super(Qx(t),Jx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof YD?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,d)=>{r=t(r,a,d)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class VP extends eR{constructor(e,t,r){super(Qx(t),Jx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof YD?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const UP={provide:Bs,useExisting:(0,c.Gpc)(()=>Vg)},C0=(()=>Promise.resolve(null))();let Vg=(()=>{class n extends Bs{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new tR({},qx(t),$x(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){C0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),b0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){C0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),zD(this._directives,t)})}addFormGroup(t){C0.then(()=>{const r=this._findContainer(t.path),a=new tR({});(function(n,e){zx(n,e)})(a,t),r.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){C0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){C0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(_s,10),c.Y36(yf,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([UP]),c.qOj]}),n})();const BP={provide:bf,useExisting:(0,c.Gpc)(()=>wf)},IN=(()=>Promise.resolve(null))();let wf=(()=>{class n extends bf{constructor(t,r,a,d){super(),this.control=new YD,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(d=>{d.constructor===dd?t=d:function(n){return Object.getPrototypeOf(n.constructor)===Fg}(d)?r=d:a=d}),a||r||t||null}(0,d)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){b0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){IN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,a=""===r||r&&"false"!==r;IN.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bs,9),c.Y36(_s,10),c.Y36(yf,10),c.Y36(Hc,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([BP]),c.qOj,c.TTD]}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const QP={provide:Hc,useExisting:(0,c.Gpc)(()=>QD),multi:!0};function ON(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let QD=(()=>{class n extends Fg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const a=ON(r,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([QP]),c.qOj]}),n})(),PN=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ON(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(QD,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const XP={provide:Hc,useExisting:(0,c.Gpc)(()=>oR),multi:!0};function kN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let oR=(()=>{class n extends Fg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const a=t.map(d=>this._getOptionId(d));r=(d,f)=>{d._setSelected(a.indexOf(f.toString())>-1)}}else r=(a,d)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const a=[];if(void 0!==r.selectedOptions){const d=r.selectedOptions;for(let f=0;f<d.length;f++){const y=d.item(f),E=this._getOptionValue(y.value);a.push(E)}}else{const d=r.options;for(let f=0;f<d.length;f++){const y=d.item(f);if(y.selected){const E=this._getOptionValue(y.value);a.push(E)}}}this.value=a,t(a)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([XP]),c.qOj]}),n})(),FN=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(oR,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[AN]]}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[GN]}),n})();function lk(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c.TgZ(10,"button",64),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().deleteStudent(d)}),c._UZ(11,"i",65),c.qZA(),c.qZA(),c.TgZ(12,"button",66),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().getAllModaluser(d)}),c._UZ(13,"i",67),c.qZA(),c.TgZ(14,"div",68),c.TgZ(15,"div",69),c.TgZ(16,"div",70),c.TgZ(17,"div",71),c.TgZ(18,"h5",72),c._uU(19,"Modal title"),c.qZA(),c.TgZ(20,"button",73),c.TgZ(21,"span",74),c._uU(22,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",75),c.TgZ(24,"div",43),c.TgZ(25,"div",44),c.TgZ(26,"h5",45),c._uU(27,"Ajouter utilisateur"),c.qZA(),c.qZA(),c.TgZ(28,"div",46),c.TgZ(29,"input",47),c.NdJ("ngModelChange",function(a){return c.CHM(t),c.oxw().first_nam=a}),c.qZA(),c.TgZ(30,"label",48),c._uU(31,"First name"),c.qZA(),c.qZA(),c.TgZ(32,"div",46),c.TgZ(33,"input",49),c.NdJ("ngModelChange",function(a){return c.CHM(t),c.oxw().last_nam=a}),c.qZA(),c.TgZ(34,"label",50),c._uU(35,"Last name"),c.qZA(),c.qZA(),c.TgZ(36,"div",46),c.TgZ(37,"input",51),c.NdJ("ngModelChange",function(a){return c.CHM(t),c.oxw().emaile=a}),c.qZA(),c.TgZ(38,"label",52),c._uU(39,"Email address"),c.qZA(),c.qZA(),c.TgZ(40,"div",46),c.TgZ(41,"input",53),c.NdJ("ngModelChange",function(a){return c.CHM(t),c.oxw().mobil=a}),c.qZA(),c.TgZ(42,"label",54),c._uU(43,"Mobile"),c.qZA(),c.qZA(),c.TgZ(44,"button",76),c.NdJ("click",function(){return c.CHM(t),c.oxw().updateStudent()}),c._uU(45,"Add utilisateur"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(46,"div",77),c.TgZ(47,"button",78),c._uU(48,"Close"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw();c.xp6(2),c.Oqu(t.first_name),c.xp6(2),c.Oqu(t.last_name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.mobile),c.xp6(21),c.Q6J("ngModel",r.first_nam),c.xp6(4),c.Q6J("ngModel",r.last_nam),c.xp6(4),c.Q6J("ngModel",r.emaile),c.xp6(4),c.Q6J("ngModel",r.mobil)}}const WN=function(){return["/frontedashboard"]},zN=function(){return["/dashboard"]},KN=function(){return["/categories"]},YN=function(){return["/produit"]};let dk=(()=>{class n{constructor(t,r,a){this.auth=t,this.data=r,this.afs=a,this.studentsList=[],this.studentObj={id:"",first_name:"",last_name:"",email:"",mobile:"",length:""},this.id="",this.first_name="",this.last_name="",this.email="",this.mobile="",this.first_nam="",this.last_nam="",this.emaile="",this.mobil=""}ngOnInit(){this.getAllStudents()}register(){this.auth.logout()}getAllModaluser(t){this.id=t.id,this.first_nam=t.first_name,this.last_nam=t.last_name,this.emaile=t.email,this.mobil=t.mobile}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("Error while fetching student data")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}addStudent(){""!=this.first_name&&""!=this.last_name&&""!=this.mobile&&""!=this.email?(this.studentObj.id="",this.studentObj.email=this.email,this.studentObj.first_name=this.first_name,this.studentObj.last_name=this.last_name,this.studentObj.mobile=this.mobile,this.data.addStudent(this.studentObj),this.resetForm()):alert("Fill all input fields")}updateStudent(){try{this.afs.collection("Students").doc(this.id).update({first_name:this.first_nam,last_name:this.last_nam,email:this.emaile,mobile:this.mobil}),alert("Update succefully"),this.resetForm()}catch(t){alert(t)}}deleteStudent(t){window.confirm("Are you sure you want to delete "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc),c.Y36(y0),c.Y36(Og))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],decls:121,vars:21,consts:[["id","wrapper",1,"d-flex"],["id","sidebar-wrapper",1,"bg-white"],[1,"sidebar-heading","text-center","py-4","primary-text","fs-4","fw-bold","text-uppercase","border-bottom"],[1,"fas","fa-user-secret","me-2"],[1,"list-group","list-group-flush","my-3"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","active",3,"routerLink"],[1,"fas","fa-tachometer-alt","me-2"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold",3,"routerLink"],[1,"fas","fa-project-diagram","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold"],[1,"fas","fa-chart-line","me-2"],[1,"fas","fa-paperclip","me-2"],[1,"fas","fa-gift","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","text-danger","fw-bold"],[1,"fas","fa-power-off","me-2"],["id","page-content-wrapper"],[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent","py-4","px-4"],[1,"d-flex","align-items-center"],["id","menu-toggle",1,"fas","fa-align-left","primary-text","fs-4","me-3"],[1,"fs-2","m-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","second-text","fw-bold"],[1,"fas","fa-user","me-2"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"routerLink"],["href","#",1,"dropdown-item"],[1,"container-fluid","px-4"],[1,"row","g-3","my-2"],[1,"col-md-6"],[1,"p-3","bg-white","shadow-sm","d-flex","justify-content-around","align-items-center","rounded"],[1,"fs-2"],[1,"fs-5"],[1,"fas","fa-gift","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"fas","fa-chart-line","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"row","my-5"],[1,"fs-4","mb-3"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-4","mt-5"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","mobile","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],["for","mobile"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"col-sm-12","col-md-8","mt-2"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-de-tableau"],[1,"table","table-hover","col-sm-12"],[1,"green-thead","col-sm-12"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-toggle","modal","data-target","#exampleModalCenter",1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["type","button","data-dismiss","modal",1,"btn","btn-outline-success",3,"click"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"i",3),c._uU(4,"Market"),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"a",5),c._UZ(7,"i",6),c._uU(8,"Dashboard"),c.qZA(),c.TgZ(9,"a",7),c._UZ(10,"i",8),c._uU(11,"Users"),c.qZA(),c.TgZ(12,"a",9),c._UZ(13,"i",10),c._uU(14,"Analytics"),c.qZA(),c.TgZ(15,"a",7),c._UZ(16,"i",11),c._uU(17,"Categories"),c.qZA(),c.TgZ(18,"a",7),c._UZ(19,"i",12),c._uU(20,"Products"),c.qZA(),c.TgZ(21,"a",13),c._UZ(22,"i",14),c._uU(23,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",15),c.TgZ(25,"nav",16),c.TgZ(26,"div",17),c._UZ(27,"i",18),c.TgZ(28,"h2",19),c._uU(29,"Utilisateurs"),c.qZA(),c.qZA(),c.TgZ(30,"button",20),c._UZ(31,"span",21),c.qZA(),c.TgZ(32,"div",22),c.TgZ(33,"ul",23),c.TgZ(34,"li",24),c.TgZ(35,"a",25),c._UZ(36,"i",26),c._uU(37,"Utilisateurs "),c.qZA(),c.TgZ(38,"ul",27),c.TgZ(39,"li"),c.TgZ(40,"a",28),c._uU(41,"HOme"),c.qZA(),c.qZA(),c.TgZ(42,"li"),c.TgZ(43,"a",28),c._uU(44,"Profile"),c.qZA(),c.qZA(),c.TgZ(45,"li"),c.TgZ(46,"a",28),c._uU(47,"Categorie"),c.qZA(),c.qZA(),c.TgZ(48,"li"),c.TgZ(49,"a",28),c._uU(50,"Produit"),c.qZA(),c.qZA(),c.TgZ(51,"li"),c.TgZ(52,"a",29),c._uU(53,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(54,"div",30),c.TgZ(55,"div",31),c.TgZ(56,"div",32),c.TgZ(57,"div",33),c.TgZ(58,"div"),c._UZ(59,"h3",34),c.TgZ(60,"p",35),c._uU(61,"Products"),c.qZA(),c.qZA(),c._UZ(62,"i",36),c.qZA(),c.qZA(),c.TgZ(63,"div",32),c.TgZ(64,"div",33),c.TgZ(65,"div"),c.TgZ(66,"h3",34),c._uU(67,"%25"),c.qZA(),c.TgZ(68,"p",35),c._uU(69,"Increase"),c.qZA(),c.qZA(),c._UZ(70,"i",37),c.qZA(),c.qZA(),c.qZA(),c.TgZ(71,"div",38),c.TgZ(72,"h3",39),c._uU(73,"Recent Orders"),c.qZA(),c.TgZ(74,"div",40),c.TgZ(75,"div",41),c.TgZ(76,"div",42),c.TgZ(77,"div",43),c.TgZ(78,"div",44),c.TgZ(79,"h5",45),c._uU(80,"Ajouter utilisateur"),c.qZA(),c.qZA(),c.TgZ(81,"div",46),c.TgZ(82,"input",47),c.NdJ("ngModelChange",function(d){return r.first_name=d}),c.qZA(),c.TgZ(83,"label",48),c._uU(84,"First name"),c.qZA(),c.qZA(),c.TgZ(85,"div",46),c.TgZ(86,"input",49),c.NdJ("ngModelChange",function(d){return r.last_name=d}),c.qZA(),c.TgZ(87,"label",50),c._uU(88,"Last name"),c.qZA(),c.qZA(),c.TgZ(89,"div",46),c.TgZ(90,"input",51),c.NdJ("ngModelChange",function(d){return r.email=d}),c.qZA(),c.TgZ(91,"label",52),c._uU(92,"Email address"),c.qZA(),c.qZA(),c.TgZ(93,"div",46),c.TgZ(94,"input",53),c.NdJ("ngModelChange",function(d){return r.mobile=d}),c.qZA(),c.TgZ(95,"label",54),c._uU(96,"Mobile"),c.qZA(),c.qZA(),c.TgZ(97,"button",55),c.NdJ("click",function(){return r.addStudent()}),c._uU(98,"Add utilisateur"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(99,"div",56),c.TgZ(100,"h5",57),c._uU(101," Liste utilisateur"),c.qZA(),c.TgZ(102,"div",58),c.TgZ(103,"div",59),c.TgZ(104,"table",60),c.TgZ(105,"thead",61),c.TgZ(106,"tr"),c.TgZ(107,"th",62),c._uU(108,"First name"),c.qZA(),c.TgZ(109,"th",62),c._uU(110,"Last name"),c.qZA(),c.TgZ(111,"th",62),c._uU(112,"Email"),c.qZA(),c.TgZ(113,"th",62),c._uU(114,"Mobile"),c.qZA(),c.TgZ(115,"th",62),c._uU(116,"Action"),c.qZA(),c.TgZ(117,"th",62),c._uU(118,"modifier"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(119,"tbody"),c.YNc(120,lk,49,8,"tr",63),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("routerLink",c.DdM(13,WN)),c.xp6(3),c.Q6J("routerLink",c.DdM(14,zN)),c.xp6(6),c.Q6J("routerLink",c.DdM(15,KN)),c.xp6(3),c.Q6J("routerLink",c.DdM(16,YN)),c.xp6(22),c.Q6J("routerLink",c.DdM(17,WN)),c.xp6(3),c.Q6J("routerLink",c.DdM(18,zN)),c.xp6(3),c.Q6J("routerLink",c.DdM(19,KN)),c.xp6(3),c.Q6J("routerLink",c.DdM(20,YN)),c.xp6(33),c.Q6J("ngModel",r.first_name),c.xp6(4),c.Q6J("ngModel",r.last_name),c.xp6(4),c.Q6J("ngModel",r.email),c.xp6(4),c.Q6J("ngModel",r.mobile),c.xp6(26),c.Q6J("ngForOf",r.studentsList))},directives:[tc,dd,Lg,wf,ei],styles:["[_ngcontent-%COMP%]:root{--main-bg-color: #009d63;--main-text-color: #009d63;--second-text-color: #bbbec5;--second-bg-color: #c1efde}.primary-text[_ngcontent-%COMP%]{color:var(--main-text-color)}.second-text[_ngcontent-%COMP%]{color:var(--second-text-color)}.primary-bg[_ngcontent-%COMP%]{background-color:var(--main-bg-color)}.secondary-bg[_ngcontent-%COMP%]{background-color:var(--second-bg-color)}.rounded-full[_ngcontent-%COMP%]{border-radius:100%}#wrapper[_ngcontent-%COMP%]{overflow-x:hidden;background:#dfe9f5}#sidebar-wrapper[_ngcontent-%COMP%]{min-height:100vh;margin-left:-15rem;transition:margin .25s ease-out}#sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:1.2rem}#sidebar-wrapper[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{width:15rem}#page-content-wrapper[_ngcontent-%COMP%]{min-width:100vw}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#menu-toggle[_ngcontent-%COMP%]{cursor:pointer}.list-group-item[_ngcontent-%COMP%]{border:none;padding:20px 30px}.list-group-item.active[_ngcontent-%COMP%]{background-color:transparent;color:var(--main-text-color);font-weight:bold;border:none}@media (min-width: 768px){#sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#page-content-wrapper[_ngcontent-%COMP%]{min-width:0;width:100%}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:-15rem}}.form-floating[_ngcontent-%COMP%]{background-color:#009d63}.green-thead[_ngcontent-%COMP%]{background:#dfe9f5}.btn-outline-primary[_ngcontent-%COMP%]{margin-top:5px}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.card-de-tableau[_ngcontent-%COMP%]{background-color:#fff}"]}),n})();class hk{constructor(e){this.id="",this.name="",this.size=0,this.url="",this.file=e}}let fk=(()=>{class n{constructor(t,r){this.fireStore=t,this.fireStorage=r}saveMetaDataOfFile(t){const r={id:"",name:t.name,url:t.url,size:t.size};r.id=this.fireStore.createId(),this.fireStore.collection("/Upload").add(r)}getAllFiles(){return this.fireStore.collection("/Upload").snapshotChanges()}deleteFile(t){this.fireStore.collection("/Upload").doc(t.id).delete(),this.fireStorage.ref("/Uploads/"+t.name).delete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Og),c.LFG(jx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pk(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"th"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c.TgZ(6,"a",15),c._uU(7,"Download"),c.qZA(),c.TgZ(8,"a",16),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().deleteFile(d)}),c._uU(9,"Delete"),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.size),c.xp6(2),c.s9C("href",t.url,c.LSH)}}const gk=function(n){return{width:n}};let mk=(()=>{class n{constructor(t,r,a){this.fileService=t,this.fireStorage=r,this.dataService=a,this.percentage=0,this.listOfFiles=[]}ngOnInit(){this.getAllFiles()}selectFile(t){this.selectedFiles=t.target.files}uploadFile(){this.currentFileUpload=new hk(this.selectedFiles[0]);const r=this.fireStorage.ref("Uploads/"+this.currentFileUpload.file.name);r.put(this.selectedFiles[0]).snapshotChanges().pipe(Gu(()=>{r.getDownloadURL().subscribe(d=>{this.currentFileUpload.id="",this.currentFileUpload.url=d,this.currentFileUpload.size=this.currentFileUpload.file.size,this.currentFileUpload.name=this.currentFileUpload.file.name,this.fileService.saveMetaDataOfFile(this.currentFileUpload)}),this.ngOnInit()})).subscribe(d=>{this.percentage=100*d.bytesTransferred/d.totalBytes},d=>{console.log("Error occured")})}getAllFiles(){this.fileService.getAllFiles().subscribe(t=>{this.listOfFiles=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{console.log("Error occured while fetching file meta data")})}deleteFile(t){window.confirm("Are you sure you want to delete "+t.name+"?")&&(this.fileService.deleteFile(t),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(fk),c.Y36(jx),c.Y36(y0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-fileupload"]],decls:28,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","mt-5"],[1,"card","border-0","shadow"],[1,"card-body"],["type","file",1,"text-nowrap","text-truncate","file",3,"change"],["type","button",1,"btn","btn-outline-warning",3,"disabled","click"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"],[1,"col-md-8"],[1,"mb-3","mt-3"],[1,"text-primary"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button","download","",1,"btn","btn-outline-info",3,"href"],["type","button",1,"btn","btn-outline-danger","ms-2",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c._uU(5,"x "),c.TgZ(6,"div"),c.TgZ(7,"input",5),c.NdJ("change",function(d){return r.selectFile(d)}),c.qZA(),c.TgZ(8,"button",6),c.NdJ("click",function(){return r.uploadFile()}),c._uU(9,"Upload"),c.qZA(),c.qZA(),c.TgZ(10,"div",7),c.TgZ(11,"div",8),c._uU(12),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"div",9),c.TgZ(14,"div",10),c.TgZ(15,"h4",11),c._uU(16,"File list"),c.qZA(),c.qZA(),c.TgZ(17,"table",12),c.TgZ(18,"thead"),c.TgZ(19,"tr"),c.TgZ(20,"th",13),c._uU(21,"File name"),c.qZA(),c.TgZ(22,"th",13),c._uU(23,"File size"),c.qZA(),c.TgZ(24,"th",13),c._uU(25,"Action"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"tbody"),c.YNc(27,pk,10,3,"tr",14),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(8),c.Q6J("disabled",!r.selectedFiles),c.xp6(3),c.Q6J("ngStyle",c.VKq(5,gk,r.percentage+"%")),c.uIk("aria-valuenow",r.percentage),c.xp6(1),c.hij(" ",r.percentage,"% "),c.xp6(15),c.Q6J("ngForOf",r.listOfFiles))},directives:[hr,ei],styles:[""]}),n})(),_k=(()=>{class n{constructor(t){this.auth=t,this.email=""}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"form"),c.TgZ(7,"div",6),c.TgZ(8,"h4",7),c._uU(9,"Forgot password"),c.qZA(),c.qZA(),c.TgZ(10,"div",6),c.TgZ(11,"label",8),c._uU(12,"Email"),c.qZA(),c.TgZ(13,"input",9),c.NdJ("ngModelChange",function(d){return r.email=d}),c.qZA(),c.qZA(),c.TgZ(14,"button",10),c.NdJ("click",function(){return r.forgotPassword()}),c._uU(15,"Send Link"),c.qZA(),c.TgZ(16,"div",11),c.TgZ(17,"div",12),c.TgZ(18,"a",13),c._uU(19,"Back to "),c.TgZ(20,"span",14),c._uU(21,"Login"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(22,"div",2),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Q6J("ngModel",r.email))},directives:[T0,v0,Vg,dd,Lg,wf],styles:[""]}),n})();function wk(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c.TgZ(6,"button",69),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().deleteDonnee(d)}),c._UZ(7,"i",70),c.qZA(),c.qZA(),c.TgZ(8,"td"),c.TgZ(9,"button",71),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().getAllModaluser(d)}),c._UZ(10,"i",72),c.qZA(),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.first_name),c.xp6(2),c.Oqu(t.last_name)}}const QN=function(){return["/frontedashboard"]},JN=function(){return["/dashboard"]},XN=function(){return["/categories"]},eO=function(){return["/produit"]},tO=function(){return["/frontedashboard"]},nO=function(){return["/dashboard"]},rO=function(){return["/categories"]},iO=function(){return["/produit"]};function Tk(n,e){if(1&n&&(c.TgZ(0,"option"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.first_name)}}function Ik(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c.TgZ(8,"button",77),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().deleteProduiction(d)}),c._UZ(9,"i",78),c.qZA(),c.qZA(),c.TgZ(10,"button",79),c.NdJ("click",function(){const d=c.CHM(t).$implicit;return c.oxw().getAllModaluser(d)}),c._UZ(11,"i",80),c.qZA(),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.produit_title),c.xp6(2),c.Oqu(t.produit_prix),c.xp6(2),c.Oqu(t.categori)}}function Dk(n,e){if(1&n&&(c.TgZ(0,"option"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.first_name)}}const sO=function(){return["/frontedashboard"]},oO=function(){return["/dashboard"]},aO=function(){return["/categories"]},uO=function(){return["/produit"]},Ak=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/register",2,"text-decoration","none"],[1,"text-danger"],["href","/forgot-password",1,"text-dark",2,"text-decoration","none"],[1,"row","mt-2"],[2,"text-decoration","none","cursor","pointer",3,"click"],[1,"card","shadow","text-center"],["src","../../../assets/icons8-google-48.png","alt","","height","24px","width","24px"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"form"),c.TgZ(7,"div",6),c.TgZ(8,"h4",7),c._uU(9,"Login"),c.qZA(),c.qZA(),c.TgZ(10,"div",6),c.TgZ(11,"label",8),c._uU(12,"Email"),c.qZA(),c.TgZ(13,"input",9),c.NdJ("ngModelChange",function(d){return r.email=d}),c.qZA(),c.qZA(),c.TgZ(14,"div",6),c.TgZ(15,"label",10),c._uU(16,"Password"),c.qZA(),c.TgZ(17,"input",11),c.NdJ("ngModelChange",function(d){return r.password=d}),c.qZA(),c.qZA(),c.TgZ(18,"button",12),c.NdJ("click",function(){return r.login()}),c._uU(19,"Login"),c.qZA(),c.TgZ(20,"div",13),c.TgZ(21,"div",14),c.TgZ(22,"a",15),c._uU(23,"Need Account ? "),c.TgZ(24,"span",16),c._uU(25,"Register"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",14),c.TgZ(27,"a",17),c._uU(28," Forgot Password ? "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"div",18),c.TgZ(30,"a",19),c.NdJ("click",function(){return r.signInWithGoogle()}),c.TgZ(31,"div",20),c.TgZ(32,"div",5),c._UZ(33,"img",21),c._uU(34," Sign In with Google "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(35,"div",2),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Q6J("ngModel",r.email),c.xp6(4),c.Q6J("ngModel",r.password))},directives:[T0,v0,Vg,dd,Lg,wf],styles:[""]}),n})()},{path:"dashboard",component:dk},{path:"register",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:27,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"form"),c.TgZ(7,"div",6),c.TgZ(8,"h4",7),c._uU(9,"Register"),c.qZA(),c.qZA(),c.TgZ(10,"div",6),c.TgZ(11,"label",8),c._uU(12,"Email"),c.qZA(),c.TgZ(13,"input",9),c.NdJ("ngModelChange",function(d){return r.email=d}),c.qZA(),c.qZA(),c.TgZ(14,"div",6),c.TgZ(15,"label",10),c._uU(16,"Password"),c.qZA(),c.TgZ(17,"input",11),c.NdJ("ngModelChange",function(d){return r.password=d}),c.qZA(),c.qZA(),c.TgZ(18,"button",12),c.NdJ("click",function(){return r.register()}),c._uU(19,"Register"),c.qZA(),c.TgZ(20,"div",13),c.TgZ(21,"div",14),c.TgZ(22,"a",15),c._uU(23,"Have an account ? "),c.TgZ(24,"span",16),c._uU(25,"Login"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(26,"div",2),c.qZA(),c.qZA()),2&t&&(c.xp6(13),c.Q6J("ngModel",r.email),c.xp6(4),c.Q6J("ngModel",r.password))},directives:[T0,v0,Vg,dd,Lg,wf],styles:[""]}),n})()},{path:"varify-email",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-varify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"form"),c.TgZ(7,"div",6),c.TgZ(8,"h4",7),c._uU(9,"Welcome"),c.qZA(),c.qZA(),c.TgZ(10,"div",6),c.TgZ(11,"p",8),c._uU(12,"Link has sent on your registered email. Please varify it."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(13,"div",2),c.qZA(),c.qZA())},directives:[T0,v0,Vg],styles:[""]}),n})()},{path:"forgot-password",component:_k},{path:"file-upload",component:mk},{path:"categories",component:(()=>{class n{constructor(t,r,a){this.auth=t,this.data=r,this.afs=a,this.donneesList=[],this.donneeObjet={id:"",first_name:"",last_name:"",email:"",mobile:""},this.id="",this.first_name="",this.last_name="",this.first_nam="",this.last_nam="",this.emaile="",this.mobil=""}ngOnInit(){this.getAllDonnees()}getAllDonnees(){this.data.getAllDonnees().subscribe(t=>{this.donneesList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("erreur de votre saisi")})}getAllModaluser(t){this.id=t.id,this.first_nam=t.first_name,this.last_nam=t.last_name}resetForm(){this.id="",this.first_name="",this.last_name=""}addDonnee(){(""==this.first_name||""==this.last_name)&&alert(" mettre des element "),this.donneeObjet.id="",this.donneeObjet.first_name=this.first_name,this.donneeObjet.last_name=this.last_name,this.data.addDonnee(this.donneeObjet),this.resetForm()}updateDonnee(){try{this.afs.collection("Donnees").doc(this.id).update({first_name:this.first_nam,last_name:this.last_nam}),alert("Update succefully"),this.resetForm()}catch(t){alert(t)}}deleteDonnee(t){window.confirm("etes vous sures de vouloir supprimer"+t.first_name+" "+t.last_name+" ?")&&this.data.deleteDonnee(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc),c.Y36(y0),c.Y36(Og))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-categories"]],decls:135,vars:21,consts:[["id","wrapper",1,"d-flex"],["id","sidebar-wrapper",1,"bg-white"],[1,"sidebar-heading","text-center","py-4","primary-text","fs-4","fw-bold","text-uppercase","border-bottom"],[1,"fas","fa-user-secret","me-2"],[1,"list-group","list-group-flush","my-3"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","active",3,"routerLink"],[1,"fas","fa-tachometer-alt","me-2"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold",3,"routerLink"],[1,"fas","fa-project-diagram","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold"],[1,"fas","fa-chart-line","me-2"],[1,"fas","fa-paperclip","me-2"],[1,"fas","fa-gift","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","text-danger","fw-bold"],[1,"fas","fa-power-off","me-2"],["id","page-content-wrapper"],[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent","py-4","px-4"],[1,"d-flex","align-items-center"],["id","menu-toggle",1,"fas","fa-align-left","primary-text","fs-4","me-3"],[1,"fs-2","m-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","second-text","fw-bold"],[1,"fas","fa-user","me-2"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"routerLink"],["href","#",1,"dropdown-item"],[1,"container-fluid","px-4"],[1,"row","g-3","my-2"],[1,"col-md-6"],[1,"p-3","bg-white","shadow-sm","d-flex","justify-content-around","align-items-center","rounded"],[1,"fs-2"],[1,"fs-5"],[1,"fas","fa-gift","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"fas","fa-chart-line","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"row","my-5"],[1,"fs-4","mb-3"],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-4","mt-5"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"col-sm-12","col-md-8","mt-2"],[1,"text-danger"],[1,"card-de-tableau"],[1,"table"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["id","exampleModalLong","tabindex","-1","role","dialog","aria-labelledby","exampleModalLongTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"col-sm-12","mt-5"],["type","button","data-dismiss","modal",1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-toggle","modal","data-target","#exampleModalLong",1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"i",3),c._uU(4,"Market"),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"a",5),c._UZ(7,"i",6),c._uU(8,"Dashboard"),c.qZA(),c.TgZ(9,"a",7),c._UZ(10,"i",8),c._uU(11,"Users"),c.qZA(),c.TgZ(12,"a",9),c._UZ(13,"i",10),c._uU(14,"Analytics"),c.qZA(),c.TgZ(15,"a",7),c._UZ(16,"i",11),c._uU(17,"Categories"),c.qZA(),c.TgZ(18,"a",7),c._UZ(19,"i",12),c._uU(20,"Products"),c.qZA(),c.TgZ(21,"a",13),c._UZ(22,"i",14),c._uU(23,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",15),c.TgZ(25,"nav",16),c.TgZ(26,"div",17),c._UZ(27,"i",18),c.TgZ(28,"h2",19),c._uU(29,"Dashboard"),c.qZA(),c.qZA(),c.TgZ(30,"button",20),c._UZ(31,"span",21),c.qZA(),c.TgZ(32,"div",22),c.TgZ(33,"ul",23),c.TgZ(34,"li",24),c.TgZ(35,"a",25),c._UZ(36,"i",26),c._uU(37,"Categories "),c.qZA(),c.TgZ(38,"ul",27),c.TgZ(39,"li"),c.TgZ(40,"a",28),c._uU(41,"HOme"),c.qZA(),c.qZA(),c.TgZ(42,"li"),c.TgZ(43,"a",28),c._uU(44,"Profile"),c.qZA(),c.qZA(),c.TgZ(45,"li"),c.TgZ(46,"a",28),c._uU(47,"Categorie"),c.qZA(),c.qZA(),c.TgZ(48,"li"),c.TgZ(49,"a",28),c._uU(50,"Produit"),c.qZA(),c.qZA(),c.TgZ(51,"li"),c.TgZ(52,"a",29),c._uU(53,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(54,"div",30),c.TgZ(55,"div",31),c.TgZ(56,"div",32),c.TgZ(57,"div",33),c.TgZ(58,"div"),c._UZ(59,"h3",34),c.TgZ(60,"p",35),c._uU(61,"Products"),c.qZA(),c.qZA(),c._UZ(62,"i",36),c.qZA(),c.qZA(),c.TgZ(63,"div",32),c.TgZ(64,"div",33),c.TgZ(65,"div"),c.TgZ(66,"h3",34),c._uU(67,"%25"),c.qZA(),c.TgZ(68,"p",35),c._uU(69,"Increase"),c.qZA(),c.qZA(),c._UZ(70,"i",37),c.qZA(),c.qZA(),c.qZA(),c.TgZ(71,"div",38),c.TgZ(72,"h3",39),c._uU(73,"Recent Orders"),c.qZA(),c.TgZ(74,"div",40),c.TgZ(75,"div",41),c.TgZ(76,"div",42),c.TgZ(77,"div",43),c.TgZ(78,"div",44),c.TgZ(79,"h5",45),c._uU(80,"Ajouter categories"),c.qZA(),c.qZA(),c.TgZ(81,"div",46),c.TgZ(82,"input",47),c.NdJ("ngModelChange",function(d){return r.first_name=d}),c.qZA(),c.TgZ(83,"label",48),c._uU(84,"Nom de categorie"),c.qZA(),c.qZA(),c.TgZ(85,"div",46),c.TgZ(86,"input",49),c.NdJ("ngModelChange",function(d){return r.last_name=d}),c.qZA(),c.TgZ(87,"label",50),c._uU(88,"Description"),c.qZA(),c.qZA(),c.TgZ(89,"button",51),c.NdJ("click",function(){return r.addDonnee()}),c._uU(90,"Ajouter categories"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(91,"div",52),c.TgZ(92,"h5",53),c._uU(93," Liste categories"),c.qZA(),c.TgZ(94,"div",54),c.TgZ(95,"div",55),c.TgZ(96,"table",56),c.TgZ(97,"thead"),c.TgZ(98,"tr"),c.TgZ(99,"th",57),c._uU(100,"Nom categorie"),c.qZA(),c.TgZ(101,"th",57),c._uU(102,"Description"),c.qZA(),c.TgZ(103,"th",57),c._uU(104,"Suprimer"),c.qZA(),c.TgZ(105,"th",57),c._uU(106,"Modifier"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(107,"tbody"),c.YNc(108,wk,11,2,"tr",58),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(109,"div",59),c.TgZ(110,"div",60),c.TgZ(111,"div",61),c.TgZ(112,"div",62),c.TgZ(113,"h5",63),c._uU(114,"Categorie"),c.qZA(),c.TgZ(115,"button",64),c.TgZ(116,"span",65),c._uU(117,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(118,"div",66),c.TgZ(119,"div",41),c.TgZ(120,"div",67),c.TgZ(121,"div",43),c.TgZ(122,"div",44),c.TgZ(123,"h5",45),c._uU(124,"Modifier categorie"),c.qZA(),c.qZA(),c.TgZ(125,"div",46),c.TgZ(126,"input",47),c.NdJ("ngModelChange",function(d){return r.first_nam=d}),c.qZA(),c.TgZ(127,"label",48),c._uU(128,"Nom de categorie"),c.qZA(),c.qZA(),c.TgZ(129,"div",46),c.TgZ(130,"input",49),c.NdJ("ngModelChange",function(d){return r.last_nam=d}),c.qZA(),c.TgZ(131,"label",50),c._uU(132,"Description"),c.qZA(),c.qZA(),c.TgZ(133,"button",68),c.NdJ("click",function(){return r.updateDonnee()}),c._uU(134,"Ajouter categories"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("routerLink",c.DdM(13,QN)),c.xp6(3),c.Q6J("routerLink",c.DdM(14,JN)),c.xp6(6),c.Q6J("routerLink",c.DdM(15,XN)),c.xp6(3),c.Q6J("routerLink",c.DdM(16,eO)),c.xp6(22),c.Q6J("routerLink",c.DdM(17,QN)),c.xp6(3),c.Q6J("routerLink",c.DdM(18,JN)),c.xp6(3),c.Q6J("routerLink",c.DdM(19,XN)),c.xp6(3),c.Q6J("routerLink",c.DdM(20,eO)),c.xp6(33),c.Q6J("ngModel",r.first_name),c.xp6(4),c.Q6J("ngModel",r.last_name),c.xp6(22),c.Q6J("ngForOf",r.donneesList),c.xp6(18),c.Q6J("ngModel",r.first_nam),c.xp6(4),c.Q6J("ngModel",r.last_nam))},directives:[tc,dd,Lg,wf,ei],styles:["[_ngcontent-%COMP%]:root{--main-bg-color: #009d63;--main-text-color: #009d63;--second-text-color: #bbbec5;--second-bg-color: #c1efde}.primary-text[_ngcontent-%COMP%]{color:var(--main-text-color)}.second-text[_ngcontent-%COMP%]{color:var(--second-text-color)}.primary-bg[_ngcontent-%COMP%]{background-color:var(--main-bg-color)}.secondary-bg[_ngcontent-%COMP%]{background-color:var(--second-bg-color)}.rounded-full[_ngcontent-%COMP%]{border-radius:100%}#wrapper[_ngcontent-%COMP%]{overflow-x:hidden;background:#dfe9f5}#sidebar-wrapper[_ngcontent-%COMP%]{min-height:100vh;margin-left:-15rem;transition:margin .25s ease-out}#sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:1.2rem}#sidebar-wrapper[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{width:15rem}#page-content-wrapper[_ngcontent-%COMP%]{min-width:100vw}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#menu-toggle[_ngcontent-%COMP%]{cursor:pointer}.list-group-item[_ngcontent-%COMP%]{border:none;padding:20px 30px}.list-group-item.active[_ngcontent-%COMP%]{background-color:transparent;color:var(--main-text-color);font-weight:bold;border:none}@media (min-width: 768px){#sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#page-content-wrapper[_ngcontent-%COMP%]{min-width:0;width:100%}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:-15rem}}.card-de-tableau[_ngcontent-%COMP%]{background-color:#fff}"]}),n})()},{path:"frontedashboard",component:(()=>{class n{constructor(t,r){this.auth=t,this.data=r,this.donneesList=[],this.studentsList=[],this.produictionList=[]}ngOnInit(){this.getAllDonnees(),this.getAllStudents(),this.getAllProduictions()}getAllDonnees(){this.data.getAllDonnees().subscribe(t=>{this.donneesList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("erreur de votre saisi")})}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("Error while fetching student data")})}getAllProduictions(){this.data.getAllProduictions().subscribe(t=>{this.produictionList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("Error while fetching produit data")})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc),c.Y36(y0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-frontdasboard"]],decls:85,vars:19,consts:[["id","wrapper",1,"d-flex"],["id","sidebar-wrapper",1,"bg-white"],[1,"sidebar-heading","text-center","py-4","primary-text","fs-4","fw-bold","text-uppercase","border-bottom"],[1,"fas","fa-user-secret","me-2"],[1,"list-group","list-group-flush","my-3"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","active",3,"routerLink"],[1,"fas","fa-tachometer-alt","me-2"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold",3,"routerLink"],[1,"fas","fa-project-diagram","me-2"],[1,"fas","fa-paperclip","me-2"],[1,"fas","fa-gift","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","text-danger","fw-bold"],[1,"fas","fa-power-off","me-2"],["id","page-content-wrapper"],[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent","py-4","px-4"],[1,"d-flex","align-items-center"],["id","menu-toggle",1,"fas","fa-align-left","primary-text","fs-4","me-3"],[1,"fs-2","m-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","second-text","fw-bold"],[1,"fas","fa-user","me-2"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"routerLink"],["href","#",1,"dropdown-item"],[1,"container-fluid","px-4"],[1,"row","g-3","my-2"],[1,"col-md-4"],[1,"p-3","bg-white","shadow-sm","d-flex","justify-content-around","align-items-center","rounded"],[1,"fs-2"],[1,"fs-5"],[1,"fas","fa-gift","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"fas","fa-chart-line","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"row","my-5"],[1,"fs-4","mb-3"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card"],["src","./../../assets/Playground__Chart_Gallery__OG_Image.png","alt",""]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"i",3),c._uU(4,"Market"),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"a",5),c._UZ(7,"i",6),c._uU(8,"Dashboard"),c.qZA(),c.TgZ(9,"a",7),c._UZ(10,"i",8),c._uU(11,"Users"),c.qZA(),c.TgZ(12,"a",7),c._UZ(13,"i",9),c._uU(14,"Categories"),c.qZA(),c.TgZ(15,"a",7),c._UZ(16,"i",10),c._uU(17,"Products"),c.qZA(),c.TgZ(18,"a",11),c._UZ(19,"i",12),c._uU(20,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(21,"div",13),c.TgZ(22,"nav",14),c.TgZ(23,"div",15),c._UZ(24,"i",16),c.TgZ(25,"h2",17),c._uU(26,"Home"),c.qZA(),c.qZA(),c.TgZ(27,"button",18),c._UZ(28,"span",19),c.qZA(),c.TgZ(29,"div",20),c.TgZ(30,"ul",21),c.TgZ(31,"li",22),c.TgZ(32,"a",23),c._UZ(33,"i",24),c._uU(34,"Home "),c.qZA(),c.TgZ(35,"ul",25),c.TgZ(36,"li"),c.TgZ(37,"a",26),c._uU(38,"HOme"),c.qZA(),c.qZA(),c.TgZ(39,"li"),c.TgZ(40,"a",26),c._uU(41,"Profile"),c.qZA(),c.qZA(),c.TgZ(42,"li"),c.TgZ(43,"a",26),c._uU(44,"Categorie"),c.qZA(),c.qZA(),c.TgZ(45,"li"),c.TgZ(46,"a",26),c._uU(47,"Produit"),c.qZA(),c.qZA(),c.TgZ(48,"li"),c.TgZ(49,"a",27),c._uU(50,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(51,"div",28),c.TgZ(52,"div",29),c.TgZ(53,"div",30),c.TgZ(54,"div",31),c.TgZ(55,"div"),c.TgZ(56,"h3",32),c._uU(57),c.qZA(),c.TgZ(58,"p",33),c._uU(59,"Categorie"),c.qZA(),c.qZA(),c._UZ(60,"i",34),c.qZA(),c.qZA(),c.TgZ(61,"div",30),c.TgZ(62,"div",31),c.TgZ(63,"div"),c.TgZ(64,"h3",32),c._uU(65),c.qZA(),c.TgZ(66,"p",33),c._uU(67,"Produit"),c.qZA(),c.qZA(),c._UZ(68,"i",35),c.qZA(),c.qZA(),c.TgZ(69,"div",30),c.TgZ(70,"div",31),c.TgZ(71,"div"),c.TgZ(72,"h3",32),c._uU(73),c.qZA(),c.TgZ(74,"p",33),c._uU(75,"Utilisateur"),c.qZA(),c.qZA(),c._UZ(76,"i",34),c.qZA(),c.qZA(),c.qZA(),c.TgZ(77,"div",36),c.TgZ(78,"h3",37),c._uU(79,"Recent Orders"),c.qZA(),c.TgZ(80,"div",38),c.TgZ(81,"div",39),c.TgZ(82,"div",40),c.TgZ(83,"div",41),c._UZ(84,"img",42),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("routerLink",c.DdM(11,tO)),c.xp6(3),c.Q6J("routerLink",c.DdM(12,nO)),c.xp6(3),c.Q6J("routerLink",c.DdM(13,rO)),c.xp6(3),c.Q6J("routerLink",c.DdM(14,iO)),c.xp6(22),c.Q6J("routerLink",c.DdM(15,tO)),c.xp6(3),c.Q6J("routerLink",c.DdM(16,nO)),c.xp6(3),c.Q6J("routerLink",c.DdM(17,rO)),c.xp6(3),c.Q6J("routerLink",c.DdM(18,iO)),c.xp6(11),c.Oqu(r.donneesList.length),c.xp6(8),c.Oqu(r.produictionList.length),c.xp6(8),c.Oqu(r.studentsList.length))},directives:[tc],styles:["[_ngcontent-%COMP%]:root{--main-bg-color: #009d63;--main-text-color: #009d63;--second-text-color: #bbbec5;--second-bg-color: #c1efde}.primary-text[_ngcontent-%COMP%]{color:var(--main-text-color)}.second-text[_ngcontent-%COMP%]{color:var(--second-text-color)}.primary-bg[_ngcontent-%COMP%]{background-color:var(--main-bg-color)}.secondary-bg[_ngcontent-%COMP%]{background-color:var(--second-bg-color)}.rounded-full[_ngcontent-%COMP%]{border-radius:100%}#wrapper[_ngcontent-%COMP%]{overflow-x:hidden;background:#dfe9f5}#sidebar-wrapper[_ngcontent-%COMP%]{min-height:100vh;margin-left:-15rem;transition:margin .25s ease-out}#sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:1.2rem}#sidebar-wrapper[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{width:15rem}#page-content-wrapper[_ngcontent-%COMP%]{min-width:100vw}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#menu-toggle[_ngcontent-%COMP%]{cursor:pointer}.list-group-item[_ngcontent-%COMP%]{border:none;padding:20px 30px}.list-group-item.active[_ngcontent-%COMP%]{background-color:transparent;color:var(--main-text-color);font-weight:bold;border:none}@media (min-width: 768px){#sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#page-content-wrapper[_ngcontent-%COMP%]{min-width:0;width:100%}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:-15rem}}"]}),n})()},{path:"produit",component:(()=>{class n{constructor(t,r,a){this.auth=t,this.data=r,this.afs=a,this.produictionList=[],this.donneesList=[],this.produictionObj={id:"",produit_title:"",produit_prix:"",categori:""},this.id="",this.produit_title="",this.produit_prix="",this.categori="",this.produit_titl="",this.produit_pri="",this.categor="",this.UserList=[]}ngOnInit(){this.getAllProduictions(),this.getAllDonnees()}getAllModaluser(t){this.id=t.id,this.produit_titl=t.produit_title,this.produit_pri=t.produit_prix}getAllDonnees(){this.data.getAllDonnees().subscribe(t=>{this.donneesList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("erreur de votre saisi")})}getAllProduictions(){this.data.getAllProduictions().subscribe(t=>{this.produictionList=t.map(r=>{const a=r.payload.doc.data();return a.id=r.payload.doc.id,a})},t=>{alert("Error while fetching produit data")})}resetForm(){this.id="",this.produit_title="",this.produit_prix=""}addProduiction(){""!=this.produit_title&&""!=this.produit_prix&&""!=this.categori?(this.produictionObj.id="",this.produictionObj.produit_title=this.produit_title,this.produictionObj.produit_prix=this.produit_prix,this.produictionObj.categori=this.categori,this.data.addProduiction(this.produictionObj),this.resetForm()):alert("fill all in inputs fiels")}updateProduiction(){try{this.afs.collection("Produictions").doc(this.id).update({produit_title:this.produit_titl,produit_prix:this.produit_pri}),alert("Update succefully"),this.resetForm()}catch(t){alert(t)}}deleteProduiction(t){window.confirm("etes vous sure de vouloir supprimer "+t.produit_prix+" "+t.produit_title+" ?")&&this.data.deleteProduiction(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(oc),c.Y36(y0),c.Y36(Og))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-produit"]],decls:166,vars:25,consts:[["id","wrapper",1,"d-flex"],["id","sidebar-wrapper",1,"bg-white"],[1,"sidebar-heading","text-center","py-4","primary-text","fs-4","fw-bold","text-uppercase","border-bottom"],[1,"fas","fa-user-secret","me-2"],[1,"list-group","list-group-flush","my-3"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","active",3,"routerLink"],[1,"fas","fa-tachometer-alt","me-2"],[1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold",3,"routerLink"],[1,"fas","fa-project-diagram","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","second-text","fw-bold"],[1,"fas","fa-chart-line","me-2"],[1,"fas","fa-paperclip","me-2"],[1,"fas","fa-gift","me-2"],["href","#",1,"list-group-item","list-group-item-action","bg-transparent","text-danger","fw-bold"],[1,"fas","fa-power-off","me-2"],["id","page-content-wrapper"],[1,"navbar","navbar-expand-lg","navbar-light","bg-transparent","py-4","px-4"],[1,"d-flex","align-items-center"],["id","menu-toggle",1,"fas","fa-align-left","primary-text","fs-4","me-3"],[1,"fs-2","m-0"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","second-text","fw-bold"],[1,"fas","fa-user","me-2"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"routerLink"],["href","#",1,"dropdown-item"],[1,"container-fluid","px-4"],[1,"row","g-3","my-2"],[1,"col-md-6"],[1,"p-3","bg-white","shadow-sm","d-flex","justify-content-around","align-items-center","rounded"],[1,"fs-2"],[1,"fs-5"],[1,"fas","fa-gift","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"fas","fa-chart-line","fs-1","primary-text","border","rounded-full","secondary-bg","p-3"],[1,"row","my-5"],[1,"fs-4","mb-3"],[1,"container"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-secondary"],[1,"row"],["id","exampleModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","produictionTitle","name","produictionTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","produictionPrix","name","produictionTitle",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["aria-label","Default select example",1,"form-select",3,"ngModel","ngModelChange"],["selected",""],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],[1,"col-sm-12","col-md-4","mt-5"],[1,"col-sm-12","mt-2"],[1,"text-danger"],[1,"card-de-tableau"],[1,"tableau"],[1,"table","table-hover"],["scope","col"],[1,"col-sm-12","mt-5"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["type","button","data-dismiss","modal",1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary","icons",3,"click"],[1,"fas","fa-edit"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c._UZ(3,"i",3),c._uU(4,"Market"),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"a",5),c._UZ(7,"i",6),c._uU(8,"Dashboard"),c.qZA(),c.TgZ(9,"a",7),c._UZ(10,"i",8),c._uU(11,"Users"),c.qZA(),c.TgZ(12,"a",9),c._UZ(13,"i",10),c._uU(14,"Analytics"),c.qZA(),c.TgZ(15,"a",7),c._UZ(16,"i",11),c._uU(17,"Categories"),c.qZA(),c.TgZ(18,"a",7),c._UZ(19,"i",12),c._uU(20,"Products"),c.qZA(),c.TgZ(21,"a",13),c._UZ(22,"i",14),c._uU(23,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",15),c.TgZ(25,"nav",16),c.TgZ(26,"div",17),c._UZ(27,"i",18),c.TgZ(28,"h2",19),c._uU(29,"Produits"),c.qZA(),c.qZA(),c.TgZ(30,"button",20),c._UZ(31,"span",21),c.qZA(),c.TgZ(32,"div",22),c.TgZ(33,"ul",23),c.TgZ(34,"li",24),c.TgZ(35,"a",25),c._UZ(36,"i",26),c._uU(37,"produit "),c.qZA(),c.TgZ(38,"ul",27),c.TgZ(39,"li"),c.TgZ(40,"a",28),c._uU(41,"HOme"),c.qZA(),c.qZA(),c.TgZ(42,"li"),c.TgZ(43,"a",28),c._uU(44,"Profile"),c.qZA(),c.qZA(),c.TgZ(45,"li"),c.TgZ(46,"a",28),c._uU(47,"Categorie"),c.qZA(),c.qZA(),c.TgZ(48,"li"),c.TgZ(49,"a",28),c._uU(50,"Produit"),c.qZA(),c.qZA(),c.TgZ(51,"li"),c.TgZ(52,"a",29),c._uU(53,"Logout"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(54,"div",30),c.TgZ(55,"div",31),c.TgZ(56,"div",32),c.TgZ(57,"div",33),c.TgZ(58,"div"),c._UZ(59,"h3",34),c.TgZ(60,"p",35),c._uU(61,"Products"),c.qZA(),c.qZA(),c._UZ(62,"i",36),c.qZA(),c.qZA(),c.TgZ(63,"div",32),c.TgZ(64,"div",33),c.TgZ(65,"div"),c.TgZ(66,"h3",34),c._uU(67,"%25"),c.qZA(),c.TgZ(68,"p",35),c._uU(69,"Increase"),c.qZA(),c.qZA(),c._UZ(70,"i",37),c.qZA(),c.qZA(),c.qZA(),c.TgZ(71,"div",38),c.TgZ(72,"h3",39),c._uU(73,"Recent Orders"),c.qZA(),c.TgZ(74,"div",40),c.TgZ(75,"button",41),c._uU(76," Click pour ajouter "),c.qZA(),c.TgZ(77,"div",42),c.TgZ(78,"div",43),c.TgZ(79,"div",44),c.TgZ(80,"div",45),c.TgZ(81,"div",46),c.TgZ(82,"h5",47),c._uU(83,"Modal title"),c.qZA(),c.TgZ(84,"button",48),c.TgZ(85,"span",49),c._uU(86,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(87,"div",50),c.TgZ(88,"div",51),c.TgZ(89,"div",52),c.TgZ(90,"h5",53),c._uU(91,"Ajouter produit"),c.qZA(),c.qZA(),c.TgZ(92,"div",54),c.TgZ(93,"input",55),c.NdJ("ngModelChange",function(d){return r.produit_title=d}),c.qZA(),c.TgZ(94,"label",56),c._uU(95,"Produit"),c.qZA(),c.qZA(),c.TgZ(96,"div",54),c.TgZ(97,"input",57),c.NdJ("ngModelChange",function(d){return r.produit_prix=d}),c.qZA(),c.TgZ(98,"label",58),c._uU(99,"Prix"),c.qZA(),c.qZA(),c.TgZ(100,"div",54),c.TgZ(101,"select",59),c.NdJ("ngModelChange",function(d){return r.categori=d}),c.TgZ(102,"option",60),c._uU(103,"Selectionner la categorie"),c.qZA(),c.YNc(104,Tk,2,1,"option",61),c.qZA(),c.qZA(),c.TgZ(105,"button",62),c.NdJ("click",function(){return r.addProduiction()}),c._uU(106,"Ajouter produit"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(107,"div",63),c.TgZ(108,"button",64),c._uU(109,"Close"),c.qZA(),c.TgZ(110,"button",65),c._uU(111,"Save changes"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(112,"div",66),c.TgZ(113,"div",67),c.TgZ(114,"h5",68),c._uU(115," Liste de produit"),c.qZA(),c.TgZ(116,"div",69),c.TgZ(117,"div",70),c.TgZ(118,"table",71),c.TgZ(119,"thead"),c.TgZ(120,"tr"),c.TgZ(121,"th",72),c._uU(122,"Produit"),c.qZA(),c.TgZ(123,"th",72),c._uU(124,"Prix"),c.qZA(),c.TgZ(125,"th",72),c._uU(126,"categorie"),c.qZA(),c.TgZ(127,"th",72),c._uU(128,"Supprimer"),c.qZA(),c.TgZ(129,"th",72),c._uU(130,"Modifier"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(131,"tbody"),c.YNc(132,Ik,12,3,"tr",61),c.qZA(),c.qZA(),c.TgZ(133,"div",43),c.TgZ(134,"div",44),c.TgZ(135,"div",45),c.TgZ(136,"div",46),c._UZ(137,"h5",47),c.TgZ(138,"button",48),c.TgZ(139,"span",49),c._uU(140,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(141,"div",50),c.TgZ(142,"div",42),c.TgZ(143,"div",73),c.TgZ(144,"div",51),c.TgZ(145,"div",52),c.TgZ(146,"h5",53),c._uU(147,"Modifier categorie"),c.qZA(),c.qZA(),c.TgZ(148,"div",54),c.TgZ(149,"input",74),c.NdJ("ngModelChange",function(d){return r.produit_titl=d}),c.qZA(),c.TgZ(150,"label",56),c._uU(151,"Nom de categorie"),c.qZA(),c.qZA(),c.TgZ(152,"div",54),c.TgZ(153,"input",75),c.NdJ("ngModelChange",function(d){return r.produit_pri=d}),c.qZA(),c.TgZ(154,"label",58),c._uU(155,"Description"),c.qZA(),c.qZA(),c.TgZ(156,"div",54),c.TgZ(157,"select",59),c.NdJ("ngModelChange",function(d){return r.categori=d}),c.TgZ(158,"option",60),c._uU(159,"Selectionner la categorie"),c.qZA(),c.YNc(160,Dk,2,1,"option",61),c.qZA(),c.qZA(),c.TgZ(161,"button",76),c.NdJ("click",function(){return r.updateProduiction()}),c._uU(162,"Ajouter categories"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(163,"div",63),c.TgZ(164,"button",64),c._uU(165,"Close"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("routerLink",c.DdM(17,sO)),c.xp6(3),c.Q6J("routerLink",c.DdM(18,oO)),c.xp6(6),c.Q6J("routerLink",c.DdM(19,aO)),c.xp6(3),c.Q6J("routerLink",c.DdM(20,uO)),c.xp6(22),c.Q6J("routerLink",c.DdM(21,sO)),c.xp6(3),c.Q6J("routerLink",c.DdM(22,oO)),c.xp6(3),c.Q6J("routerLink",c.DdM(23,aO)),c.xp6(3),c.Q6J("routerLink",c.DdM(24,uO)),c.xp6(44),c.Q6J("ngModel",r.produit_title),c.xp6(4),c.Q6J("ngModel",r.produit_prix),c.xp6(4),c.Q6J("ngModel",r.categori),c.xp6(3),c.Q6J("ngForOf",r.donneesList),c.xp6(28),c.Q6J("ngForOf",r.produictionList),c.xp6(17),c.Q6J("ngModel",r.produit_titl),c.xp6(4),c.Q6J("ngModel",r.produit_pri),c.xp6(4),c.Q6J("ngModel",r.categori),c.xp6(3),c.Q6J("ngForOf",r.donneesList))},directives:[tc,dd,Lg,wf,QD,PN,FN,ei],styles:["[_ngcontent-%COMP%]:root{--main-bg-color: #009d63;--main-text-color: #009d63;--second-text-color: #bbbec5;--second-bg-color: #c1efde}.primary-text[_ngcontent-%COMP%]{color:var(--main-text-color)}.second-text[_ngcontent-%COMP%]{color:var(--second-text-color)}.primary-bg[_ngcontent-%COMP%]{background-color:var(--main-bg-color)}.secondary-bg[_ngcontent-%COMP%]{background-color:var(--second-bg-color)}.rounded-full[_ngcontent-%COMP%]{border-radius:100%}#wrapper[_ngcontent-%COMP%]{overflow-x:hidden;background:#dfe9f5}#sidebar-wrapper[_ngcontent-%COMP%]{min-height:100vh;margin-left:-15rem;transition:margin .25s ease-out}#sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-heading[_ngcontent-%COMP%]{padding:.875rem 1.25rem;font-size:1.2rem}#sidebar-wrapper[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{width:15rem}#page-content-wrapper[_ngcontent-%COMP%]{min-width:100vw}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#menu-toggle[_ngcontent-%COMP%]{cursor:pointer}.list-group-item[_ngcontent-%COMP%]{border:none;padding:20px 30px}.list-group-item.active[_ngcontent-%COMP%]{background-color:transparent;color:var(--main-text-color);font-weight:bold;border:none}@media (min-width: 768px){#sidebar-wrapper[_ngcontent-%COMP%]{margin-left:0}#page-content-wrapper[_ngcontent-%COMP%]{min-width:0;width:100%}#wrapper.toggled[_ngcontent-%COMP%]   #sidebar-wrapper[_ngcontent-%COMP%]{margin-left:-15rem}}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.card-de-tableau[_ngcontent-%COMP%]{background-color:#fff}"]}),n})()}];let Sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[lv.forRoot(Ak)],lv]}),n})(),xk=(()=>{class n{constructor(){this.title="AngularFirebaseconnect"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Em],styles:[""]}),n})();const cO_firebase={apiKey:"AIzaSyAfWTXps_kms1clZ8NvBVo5qDwbCGRSJpw",authDomain:"angular-firebase-crud-d02b0.firebaseapp.com",projectId:"angular-firebase-crud-d02b0",storageBucket:"angular-firebase-crud-d02b0.appspot.com",messagingSenderId:"424587321640",appId:"1:424587321640:web:42f4b52417a938e88eb01d"};let Rk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[xk]}),n.\u0275inj=c.cJS({providers:[],imports:[[Ba,Sk,ii.hO.initializeApp(cO_firebase),ck]]}),n})();(0,c.G48)(),ll().bootstrapModule(Rk).catch(n=>console.error(n))},3394:(et,De,F)=>{"use strict";F.d(De,{Z:()=>Te});var c=F(3854),Z=F(3910),O=F(8026),ae=F(5422);class oe{constructor(Y,ve){this._delegate=Y,this.firebase=ve,(0,O._addComponent)(Y,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=Y.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this._delegate.automaticDataCollectionEnabled=Y}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Y=>{this._delegate.checkDestroyed(),Y()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Y,ve=O._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(Y);return!pe.isInitialized()&&"EXPLICIT"===(null===(me=pe.getComponent())||void 0===me?void 0:me.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:ve})}_removeServiceInstance(Y,ve=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Y).clearInstance(ve)}_addComponent(Y){(0,O._addComponent)(this._delegate,Y)}_addOrOverwriteComponent(Y){(0,O._addOrOverwriteComponent)(this._delegate,Y)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function ne(){const ge=function(ge){const Y={},ve={__esModule:!0,initializeApp:function(ft,_n={}){const wt=O.initializeApp(ft,_n);if((0,c.r3)(Y,wt.name))return Y[wt.name];const It=new ge(wt,ve);return Y[wt.name]=It,It},app:pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(ft){const _n=ft.name,wt=_n.replace("-compat","");if(O._registerComponent(ft)&&"PUBLIC"===ft.type){const It=(dt=pe())=>{if("function"!=typeof dt[wt])throw ye.create("invalid-app-argument",{appName:_n});return dt[wt]()};void 0!==ft.serviceProps&&(0,c.ZB)(It,ft.serviceProps),ve[wt]=It,ge.prototype[wt]=function(...dt){return this._getService.bind(this,_n).apply(this,ft.multipleInstances?dt:[])}}return"PUBLIC"===ft.type?ve[wt]:null},removeApp:function(ft){delete Y[ft]},useAsService:function(ft,_n){return"serverAuth"===_n?null:_n},modularAPIs:O}};function pe(ft){if(!(0,c.r3)(Y,ft=ft||O._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ft});return Y[ft]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function(){return Object.keys(Y).map(ft=>Y[ft])}}),pe.App=ge,ve}(oe);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function(ve){(0,c.ZB)(ge,ve)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ge}(),V=new ae.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=L;(0,O.registerVersion)("@firebase/app-compat","0.1.15",undefined)},8026:(et,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>ys,_addComponent:()=>Wi,_addOrOverwriteComponent:()=>zi,_apps:()=>lr,_clearComponents:()=>Sn,_components:()=>ki,_getProvider:()=>dn,_registerComponent:()=>gi,_removeServiceInstance:()=>Ut,deleteApp:()=>Hn,getApp:()=>Re,getApps:()=>fn,initializeApp:()=>jr,onLog:()=>Vt,registerVersion:()=>Tn,setLogLevel:()=>Gn});var c=F(8239),Z=F(3910),O=F(5422),ae=F(3854);class oe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function(st){const Se=st.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Zt)){const on=Zt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Zt=>Zt).join(" ")}}const ye="@firebase/app",ne=new O.Yd("@firebase/app"),ys="[DEFAULT]",go={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lr=new Map,ki=new Map;function Wi(st,Se){try{st.container.addComponent(Se)}catch(Zt){ne.debug(`Component ${Se.name} failed to register with FirebaseApp ${st.name}`,Zt)}}function zi(st,Se){st.container.addOrOverwriteComponent(Se)}function gi(st){const Se=st.name;if(ki.has(Se))return ne.debug(`There were multiple attempts to register component ${Se}.`),!1;ki.set(Se,st);for(const Zt of lr.values())Wi(Zt,st);return!0}function dn(st,Se){return st.container.getProvider(Se)}function Ut(st,Se,Zt=ys){dn(st,Se).clearInstance(Zt)}function Sn(){ki.clear()}const Xt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class hn{constructor(Se,Zt,on){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const Fi="9.6.4";function jr(st,Se={}){"object"!=typeof Se&&(Se={name:Se});const Zt=Object.assign({name:ys,automaticDataCollectionEnabled:!1},Se),on=Zt.name;if("string"!=typeof on||!on)throw Xt.create("bad-app-name",{appName:String(on)});const tn=lr.get(on);if(tn){if((0,ae.vZ)(st,tn.options)&&(0,ae.vZ)(Zt,tn.config))return tn;throw Xt.create("duplicate-app",{appName:on})}const $t=new Z.H0(on);for(const Qe of ki.values())$t.addComponent(Qe);const Ge=new hn(st,Zt,$t);return lr.set(on,Ge),Ge}function Re(st=ys){const Se=lr.get(st);if(!Se)throw Xt.create("no-app",{appName:st});return Se}function fn(){return Array.from(lr.values())}function Hn(st){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(st){const Se=st.name;lr.has(Se)&&(lr.delete(Se),yield Promise.all(st.container.getProviders().map(Zt=>Zt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function Tn(st,Se,Zt){var on;let tn=null!==(on=go[st])&&void 0!==on?on:st;Zt&&(tn+=`-${Zt}`);const $t=tn.match(/\s|\//),Ge=Se.match(/\s|\//);if($t||Ge){const Qe=[`Unable to register library "${tn}" with version "${Se}":`];return $t&&Qe.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),$t&&Ge&&Qe.push("and"),Ge&&Qe.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ne.warn(Qe.join(" "))}gi(new Z.wA(`${tn}-version`,()=>({library:tn,version:Se}),"VERSION"))}function Vt(st,Se){if(null!==st&&"function"!=typeof st)throw Xt.create("invalid-log-argument");(0,O.Am)(st,Se)}function Gn(st){(0,O.Ub)(st)}gi(new Z.wA("platform-logger",Se=>new oe(Se),"PRIVATE")),Tn(ye,"0.7.14",""),Tn(ye,"0.7.14","esm2017"),Tn("fire-js","")},3910:(et,De,F)=>{"use strict";F.d(De,{wA:()=>O,H0:()=>ue});var c=F(8239),Z=F(3854);class O{constructor(L,V,ee){this.name=L,this.instanceFactory=V,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ae="[DEFAULT]";class oe{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const ee=new Z.BH;if(this.instancesDeferred.set(V,ee),this.isInitialized(V)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:V});Q&&ee.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const ee=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),Q=null!==(V=null==L?void 0:L.optional)&&void 0!==V&&V;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(le){if(Q)return null;throw le}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(V){}for(const[V,ee]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(V);try{const le=this.getOrInitializeService({instanceIdentifier:Q});ee.resolve(le)}catch(le){}}}}clearInstance(L=ae){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,c.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...V.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ae){return this.instances.has(L)}getOptions(L=ae){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,ee=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:ee,options:V});for(const[le,Te]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(le)&&Te.resolve(Q);return Q}onInit(L,V){var ee;const Q=this.normalizeInstanceIdentifier(V),le=null!==(ee=this.onInitCallbacks.get(Q))&&void 0!==ee?ee:new Set;le.add(L),this.onInitCallbacks.set(Q,le);const Te=this.instances.get(Q);return Te&&L(Te,Q),()=>{le.delete(L)}}invokeOnInitCallbacks(L,V){const ee=this.onInitCallbacks.get(V);if(ee)for(const Q of ee)try{Q(L,V)}catch(le){}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let ee=this.instances.get(L);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=L,ne===ae?void 0:ne),options:V}),this.instances.set(L,ee),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(ee,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ee)}catch(Q){}var ne;return ee||null}normalizeInstanceIdentifier(L=ae){return this.component?this.component.multipleInstances?L:ae:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new oe(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(et,De,F)=>{"use strict";F.d(De,{in:()=>Z,Yd:()=>ye,Ub:()=>ue,Am:()=>ne});const c=[];var Z=(()=>{return(L=Z||(Z={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",Z;var L})();const O={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ae=Z.INFO,oe={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},se=(L,V,...ee)=>{if(V<L.logLevel)return;const Q=(new Date).toISOString(),le=oe[V];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[le](`[${Q}]  ${L.name}:`,...ee)};class ye{constructor(V){this.name=V,this._logLevel=ae,this._logHandler=se,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in Z))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?O[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...V),this._logHandler(this,Z.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...V),this._logHandler(this,Z.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...V),this._logHandler(this,Z.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...V),this._logHandler(this,Z.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...V),this._logHandler(this,Z.ERROR,...V)}}function ue(L){c.forEach(V=>{V.setLogLevel(L)})}function ne(L,V){for(const ee of c){let Q=null;V&&V.level&&(Q=O[V.level]),ee.userLogHandler=null===L?null:(le,Te,...ge)=>{const Y=ge.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(me){return null}}).filter(ve=>ve).join(" ");Te>=(null!=Q?Q:le.logLevel)&&L({level:Z[Te].toLowerCase(),message:Y,args:ge,type:le.name})}}}},8239:(et,De,F)=>{"use strict";function c(O,ae,oe,se,ye,ue,ne){try{var L=O[ue](ne),V=L.value}catch(ee){return void oe(ee)}L.done?ae(V):Promise.resolve(V).then(se,ye)}function Z(O){return function(){var ae=this,oe=arguments;return new Promise(function(se,ye){var ue=O.apply(ae,oe);function ne(V){c(ue,se,ye,ne,L,"next",V)}function L(V){c(ue,se,ye,ne,L,"throw",V)}ne(void 0)})}}F.d(De,{Z:()=>Z})}},et=>{et(et.s=1746)}]);