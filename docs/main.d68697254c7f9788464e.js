(self.webpackChunkfirebase_angular_crud=self.webpackChunkfirebase_angular_crud||[]).push([[179],{8255:et=>{function De(F){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+F+"'");throw d.code="MODULE_NOT_FOUND",d})}De.keys=()=>[],De.resolve=De,De.id=8255,et.exports=De},3018:(et,De,F)=>{"use strict";F.d(De,{deG:()=>Hu,tb:()=>gy,AFp:()=>VT,ip1:()=>Xh,CZH:()=>ef,hGG:()=>dD,z2F:()=>rf,sBO:()=>_I,Sil:()=>nf,_Vd:()=>wa,EJc:()=>_y,SBq:()=>Rt,qLn:()=>Jd,vpe:()=>Da,gxx:()=>ap,tBr:()=>ua,XFs:()=>Se,OlP:()=>On,zs3:()=>sn,ZZ4:()=>Zp,aQg:()=>k_,soG:()=>ed,YKP:()=>Wb,v3s:()=>Ey,h0i:()=>_c,PXZ:()=>Jx,R0b:()=>ps,FiY:()=>so,Lbi:()=>FE,g9A:()=>py,Qsj:()=>N_,FYo:()=>cr,JOm:()=>ha,Tiy:()=>jb,q3G:()=>Dn,tp0:()=>oo,EAV:()=>tD,Rgc:()=>zp,dDg:()=>jE,DyG:()=>Zu,q4F:()=>$b,GfV:()=>O_,s_b:()=>Yp,ifc:()=>nn,eFA:()=>Aa,G48:()=>r1,Gpc:()=>ge,X6Q:()=>WT,_c5:()=>uR,VLi:()=>HE,c2e:()=>my,zSh:()=>Um,wAp:()=>Le,vHH:()=>pe,EiD:()=>El,mCW:()=>Xu,qzn:()=>Ei,JVY:()=>Jg,pB0:()=>qd,eBb:()=>$y,L6k:()=>Xg,LAX:()=>Qu,cg1:()=>Sb,Tjo:()=>sR,kL8:()=>ls,yhl:()=>nu,dqk:()=>$,sIi:()=>oc,CqO:()=>sb,QGY:()=>xl,F4k:()=>Eh,RDi:()=>kr,AaK:()=>Q,z3N:()=>Os,qOj:()=>jv,TTD:()=>vd,_Bn:()=>jp,xp6:()=>Jw,uIk:()=>gp,ekj:()=>l_,Suo:()=>fT,Xpm:()=>we,lG2:()=>Ft,Yz7:()=>hn,cJS:()=>$r,oAB:()=>Un,Yjl:()=>Pr,Y36:()=>Dl,_UZ:()=>Ip,qZA:()=>bh,TgZ:()=>jo,EpF:()=>_C,n5z:()=>za,Ikx:()=>m_,LFG:()=>Hn,$8M:()=>ni,NdJ:()=>o_,CRH:()=>ny,oxw:()=>uu,Q6J:()=>s_,s9C:()=>hc,DdM:()=>eT,VKq:()=>lE,iGM:()=>hT,CHM:()=>Ru,LSH:()=>as,kYT:()=>Wn,YNc:()=>iC,_uU:()=>vb,Oqu:()=>f_,hij:()=>_a});var d=F(9765),B=F(5319),O=F(7574),ae=F(6682),oe=F(2441);var ue=F(1307);function ne(){return new d.xQ}function V(r){for(let i in r)if(r[i]===V)return i;throw Error("Could not find renamed property on target object.")}function ee(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function Q(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Q).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function le(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const Ie=V({__forward_ref__:V});function ge(r){return r.__forward_ref__=ge,r.toString=function(){return Q(this())},r}function Y(r){return ve(r)?r():r}function ve(r){return"function"==typeof r&&r.hasOwnProperty(Ie)&&r.__forward_ref__===ge}class pe extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function Ve(r){return"string"==typeof r?r:null==r?"":String(r)}function Pt(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ve(r)}function Tt(r,i){const o=i?` in ${i}`:"";throw new pe("201",`No provider for ${Pt(r)} found${o}`)}function dn(r,i){null==r&&function(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function hn(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function $r(r){return{providers:r.providers||[],imports:r.imports||[]}}function Re(r){return fn(r,Vt)||fn(r,Hr)}function fn(r,i){return r.hasOwnProperty(i)?r[i]:null}function In(r){return r&&(r.hasOwnProperty(Gn)||r.hasOwnProperty(st))?r[Gn]:null}const Vt=V({\u0275prov:V}),Gn=V({\u0275inj:V}),Hr=V({ngInjectableDef:V}),st=V({ngInjectorDef:V});var Se=(()=>((Se=Se||{})[Se.Default=0]="Default",Se[Se.Host=1]="Host",Se[Se.Self=2]="Self",Se[Se.SkipSelf=4]="SkipSelf",Se[Se.Optional=8]="Optional",Se))();let Bt;function tn(r){const i=Bt;return Bt=r,i}function qt(r,i,o){const u=Re(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Se.Optional?null:void 0!==i?i:void Tt(Q(r),"Injector")}function Qe(r){return{toString:r}.toString()}var Er=(()=>((Er=Er||{})[Er.OnPush=0]="OnPush",Er[Er.Default=1]="Default",Er))(),nn=(()=>((nn=nn||{})[nn.Emulated=0]="Emulated",nn[nn.None=2]="None",nn[nn.ShadowDom=3]="ShadowDom",nn))();const en="undefined"!=typeof globalThis&&globalThis,vs="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$=en||"undefined"!=typeof global&&global||vs||H,qe={},$e=[],Qt=V({\u0275cmp:V}),xn=V({\u0275dir:V}),Rn=V({\u0275pipe:V}),nr=V({\u0275mod:V}),Nt=V({\u0275loc:V}),ie=V({\u0275fac:V}),G=V({__NG_ELEMENT_ID__:V});let Z=0;function we(r){return Qe(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Er.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||$e,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||nn.Emulated,id:"c",styles:r.styles||$e,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,g=r.pipes;return u.id+=Z++,u.inputs=rr(r.inputs,o),u.outputs=rr(r.outputs),h&&h.forEach(_=>_(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(_t):null,u.pipeDefs=g?()=>("function"==typeof g?g():g).map(wt):null,u})}function _t(r){return zn(r)||function(r){return r[xn]||null}(r)}function wt(r){return function(r){return r[Rn]||null}(r)}const $t={};function Un(r){return Qe(()=>{const i={type:r.type,bootstrap:r.bootstrap||$e,declarations:r.declarations||$e,imports:r.imports||$e,exports:r.exports||$e,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&($t[r.id]=r.type),i})}function Wn(r,i){return Qe(()=>{const o=wr(r,!0);o.declarations=i.declarations||$e,o.imports=i.imports||$e,o.exports=i.exports||$e})}function rr(r,i){if(null==r)return qe;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}const Ft=we;function Pr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function zn(r){return r[Qt]||null}function wr(r,i){const o=r[nr]||null;if(!o&&!0===i)throw new Error(`Type ${Q(r)} does not have '\u0275mod' property.`);return o}function Es(r){return Array.isArray(r)&&"object"==typeof r[1]}function cn(r){return Array.isArray(r)&&!0===r[1]}function Eu(r){return 0!=(8&r.flags)}function Qo(r){return 2==(2&r.flags)}function Oa(r){return 1==(1&r.flags)}function ti(r){return null!==r.template}function wf(r){return 0!=(512&r[2])}function _i(r,i){return r.hasOwnProperty(ie)?r[ie]:null}class yi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function vd(){return bo}function bo(r){return r.type.prototype.ngOnChanges&&(r.setInput=zc),jg}function jg(){const r=Pa(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===qe)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function zc(r,i,o,u){const c=Pa(r)||function(r,i){return r[Tf]=i}(r,{previous:qe,current:null}),h=c.current||(c.current={}),g=c.previous,_=this.declaredInputs[o],b=g[_];h[_]=new yi(b&&b.currentValue,i,g===qe),r[u]=i}vd.ngInherit=!0;const Tf="__ngSimpleChanges__";function Pa(r){return r[Tf]||null}let Gs;function kr(r){Gs=r}function Mn(r){return!!r.listen}const Du={createRenderer:(r,i)=>void 0!==Gs?Gs:"undefined"!=typeof document?document:void 0};function vt(r){for(;Array.isArray(r);)r=r[0];return r}function Au(r,i){return vt(i[r])}function Gr(r,i){return vt(i[r.index])}function Yn(r,i){return r.data[i]}function Fr(r,i){const o=i[r];return Es(o)?o:o[0]}function Jo(r){return 4==(4&r[2])}function Eo(r){return 128==(128&r[2])}function Is(r,i){return null==i?null:r[i]}function Su(r){r[18]=0}function Xo(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ut={lFrame:ra(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fa(){return ut.bindingsEnabled}function Ae(){return ut.lFrame.lView}function Ot(){return ut.lFrame.tView}function Ru(r){return ut.lFrame.contextLView=r,r[8]}function Nn(){let r=el();for(;null!==r&&64===r.type;)r=r.parent;return r}function el(){return ut.lFrame.currentTNode}function ts(r,i){const o=ut.lFrame;o.currentTNode=r,o.isParent=i}function Co(){return ut.lFrame.isParent}function Ys(){return ut.isInCheckNoChangesMode}function Vi(r){ut.isInCheckNoChangesMode=r}function Wr(){const r=ut.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function ns(){return ut.lFrame.bindingIndex++}function Ua(r,i){const o=ut.lFrame;o.bindingIndex=o.bindingRootIndex=r,na(i)}function na(r){ut.lFrame.currentDirectiveIndex=r}function ku(){return ut.lFrame.currentQueryIndex}function Ed(r){ut.lFrame.currentQueryIndex=r}function xf(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Fu(r,i,o){if(o&Se.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||o&Se.Host||(c=xf(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const u=ut.lFrame=wd();return u.currentTNode=i,u.lView=r,!0}function Io(r){const i=wd(),o=r[1];ut.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function wd(){const r=ut.lFrame,i=null===r?null:r.child;return null===i?ra(r):i}function ra(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function nl(){const r=ut.lFrame;return ut.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Cd=nl;function Id(){const r=nl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Ir(){return ut.lFrame.selectedIndex}function Ui(r){ut.lFrame.selectedIndex=r}function vn(){const r=ut.lFrame;return Yn(r.tView,r.selectedIndex)}function Ba(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:D}=h;g&&(r.contentHooks||(r.contentHooks=[])).push(-o,g),_&&((r.contentHooks||(r.contentHooks=[])).push(o,_),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,_)),b&&(r.viewHooks||(r.viewHooks=[])).push(-o,b),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=D&&(r.destroyHooks||(r.destroyHooks=[])).push(o,D)}}function ia(r,i,o){al(r,i,3,o)}function ol(r,i,o,u){(3&r[2])===o&&al(r,i,o,u)}function Ds(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function al(r,i,o,u){const h=null!=u?u:-1,g=i.length-1;let _=0;for(let b=void 0!==u?65535&r[18]:0;b<g;b++)if("number"==typeof i[b+1]){if(_=i[b],null!=u&&_>=u)break}else i[b]<0&&(r[18]+=65536),(_<h||-1==h)&&(ul(r,o,i,b),r[18]=(4294901760&r[18])+b+2),b++}function ul(r,i,o,u){const c=o[u]<0,h=o[u+1],_=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}class ja{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function $a(r,i,o){const u=Mn(r);let c=0;for(;c<o.length;){const h=o[c];if("number"==typeof h){if(0!==h)break;c++;const g=o[c++],_=o[c++],b=o[c++];u?r.setAttribute(i,_,b,g):i.setAttributeNS(g,_,b)}else{const g=h,_=o[++c];Js(g)?u&&r.setProperty(i,g,_):u?r.setAttribute(i,g,_):i.setAttribute(g,_),c++}}return c}function Do(r){return 3===r||4===r||6===r}function Js(r){return 64===r.charCodeAt(0)}function Ao(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Dd(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Dd(r,i,o,u,c){let h=0,g=r.length;if(-1===i)g=-1;else for(;h<r.length;){const _=r[h++];if("number"==typeof _){if(_===i){g=-1;break}if(_>i){g=h-1;break}}}for(;h<r.length;){const _=r[h];if("number"==typeof _)break;if(_===o){if(null===u)return void(null!==c&&(r[h+1]=c));if(u===r[h+1])return void(r[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==g&&(r.splice(g,0,i),h=g+1),r.splice(h++,0,o),null!==u&&r.splice(h++,0,u),null!==c&&r.splice(h++,0,c)}function Uu(r){return-1!==r}function Ha(r){return 32767&r}function So(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Bu=!0;function qa(r){const i=Bu;return Bu=r,i}let Xe=0;function sa(r,i){const o=$u(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,gr(u.data,r),gr(i,null),gr(u.blueprint,null));const c=Ss(r,i),h=r.injectorIndex;if(Uu(c)){const g=Ha(c),_=So(c,i),b=_[1].data;for(let I=0;I<8;I++)i[h+I]=_[g+I]|b[g+I]}return i[h+8]=c,h}function gr(r,i){r.push(0,0,0,0,0,0,0,0,i)}function $u(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Ss(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const h=c[1],g=h.type;if(u=2===g?h.declTNode:1===g?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Qn(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(G)&&(u=o[G]),null==u&&(u=o[G]=Xe++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function Za(r,i,o){if(o&Se.Optional)return r;Tt(i,"NodeInjector")}function Ad(r,i,o,u){if(o&Se.Optional&&void 0===u&&(u=null),0==(o&(Se.Self|Se.Host))){const c=r[9],h=tn(void 0);try{return c?c.get(i,u,o&Se.Optional):qt(i,u,o&Se.Optional)}finally{tn(h)}}return Za(u,i,o)}function Kt(r,i,o,u=Se.Default,c){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(G)?r[G]:void 0;return"number"==typeof i?i>=0?255&i:Ga:i}(o);if("function"==typeof h){if(!Fu(i,r,u))return u&Se.Host?Za(c,o,u):Ad(i,o,u,c);try{const g=h(u);if(null!=g||u&Se.Optional)return g;Tt(o)}finally{Cd()}}else if("number"==typeof h){let g=null,_=$u(r,i),b=-1,I=u&Se.Host?i[16][6]:null;for((-1===_||u&Se.SkipSelf)&&(b=-1===_?Ss(r,i):i[_+8],-1!==b&&xo(u,!1)?(g=i[1],_=Ha(b),i=So(b,i)):_=-1);-1!==_;){const D=i[1];if(Rd(h,_,D.data)){const N=xd(_,i,o,g,u,I);if(N!==Sd)return N}b=i[_+8],-1!==b&&xo(u,i[1].data[_+8]===I)&&Rd(h,_,i)?(g=D,_=Ha(b),i=So(b,i)):_=-1}}}return Ad(i,o,u,c)}const Sd={};function Ga(){return new vi(Nn(),Ae())}function xd(r,i,o,u,c,h){const g=i[1],_=g.data[r+8],D=Xs(_,g,o,null==u?Qo(_)&&Bu:u!=g&&0!=(3&_.type),c&Se.Host&&h===_);return null!==D?Wa(i,g,D,_):Sd}function Xs(r,i,o,u,c){const h=r.providerIndexes,g=i.data,_=1048575&h,b=r.directiveStart,D=h>>20,P=c?_+D:r.directiveEnd;for(let j=u?_:_+D;j<P;j++){const z=g[j];if(j<b&&o===z||j>=b&&z.type===o)return j}if(c){const j=g[b];if(j&&ti(j)&&j.type===o)return b}return null}function Wa(r,i,o,u){let c=r[o];const h=i.data;if(function(r){return r instanceof ja}(c)){const g=c;g.resolving&&function(r,i){throw new pe("200",`Circular dependency in DI detected for ${r}`)}(Pt(h[o]));const _=qa(g.canSeeViewProviders);g.resolving=!0;const b=g.injectImpl?tn(g.injectImpl):null;Fu(r,u,Se.Default);try{c=r[o]=g.factory(void 0,h,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const g=bo(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,g),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,g)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==b&&tn(b),qa(_),g.resolving=!1,Cd()}}return c}function Rd(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function xo(r,i){return!(r&Se.Self||r&Se.Host&&i)}class vi{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Kt(this._tNode,this._lView,i,u,o)}}function za(r){return Qe(()=>{const i=r.prototype.constructor,o=i[ie]||eo(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const h=c[ie]||eo(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function eo(r){return ve(r)?()=>{const i=eo(Y(r));return i&&i()}:_i(r)}function ni(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Do(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(Nn(),r)}const rs="__parameters__";function to(r,i,o){return Qe(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const g=new c(...h);return _.annotation=g,_;function _(b,I,D){const N=b.hasOwnProperty(rs)?b[rs]:Object.defineProperty(b,rs,{value:[]})[rs];for(;N.length<=D;)N.push(null);return(N[D]=N[D]||[]).push(g),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class On{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=hn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hu=new On("AnalyzeForEntryComponents"),Zu=Function;function ri(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),ri(u,i)):i!==r&&i.push(u)}return i}function ji(r,i){r.forEach(o=>Array.isArray(o)?ji(o,i):i(o))}function ss(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function No(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function C(r,i,o){let u=x(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function T(r,i){const o=x(r,i);if(o>=0)return r[1|o]}function x(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const h=u+(c-u>>1),g=r[h<<o];if(i===g)return h<<o;g>i?c=h:u=h+1}return~(c<<o)}(r,i,1)}const os={},Qa="__NG_DI_FLAG__",bi="ngTempTokenPath",xs=/\n/gm,Lf="__source",Ld=V({provide:String,useValue:V});let Ja;function aa(r){const i=Ja;return Ja=r,i}function Vf(r,i=Se.Default){if(void 0===Ja)throw new Error("inject() must be called from an injection context");return null===Ja?qt(r,void 0,i):Ja.get(r,i&Se.Optional?null:void 0,i)}function Hn(r,i=Se.Default){return(Bt||Vf)(Y(r),i)}function Po(r){const i=[];for(let o=0;o<r.length;o++){const u=Y(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,h=Se.Default;for(let g=0;g<u.length;g++){const _=u[g],b=Cw(_);"number"==typeof b?-1===b?c=_.token:h|=b:c=_}i.push(Hn(c,h))}else i.push(Hn(u))}return i}function Wu(r,i){return r[Qa]=i,r.prototype[Qa]=i,r}function Cw(r){return r[Qa]}function or(r,i,o,u){const c=r[bi];throw i[Lf]&&c.unshift(i[Lf]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=Q(i);if(Array.isArray(i))c=i.map(Q).join(" -> ");else if("object"==typeof i){let h=[];for(let g in i)if(i.hasOwnProperty(g)){let _=i[g];h.push(g+":"+("string"==typeof _?JSON.stringify(_):Q(_)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(xs,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[bi]=null,r}const ua=Wu(to("Inject",r=>({token:r})),-1),so=Wu(to("Optional"),8),oo=Wu(to("SkipSelf"),4);let eu;function Fo(r){var i;return(null===(i=function(){if(void 0===eu&&(eu=null,$.trustedTypes))try{eu=$.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return eu}())||void 0===i?void 0:i.createHTML(r))||r}class tu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class By extends tu{getTypeName(){return"HTML"}}class jf extends tu{getTypeName(){return"Style"}}class jy extends tu{getTypeName(){return"Script"}}class Qg extends tu{getTypeName(){return"URL"}}class $f extends tu{getTypeName(){return"ResourceURL"}}function Os(r){return r instanceof tu?r.changingThisBreaksApplicationSecurity:r}function Ei(r,i){const o=nu(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function nu(r){return r instanceof tu&&r.getTypeName()||null}function Jg(r){return new By(r)}function Xg(r){return new jf(r)}function $y(r){return new jy(r)}function Qu(r){return new Qg(r)}function qd(r){return new $f(r)}class Ju{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Fo(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class tm{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Fo(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Fo(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const g=o.item(c).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&i.removeAttribute(g)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const nm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xu(r){return(r=String(r)).match(nm)||r.match(Hf)?r:"unsafe:"+r}function Ps(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function bl(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const rm=Ps("area,br,col,hr,img,wbr"),Hy=Ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=Ps("rp,rt"),S=bl(rm,bl(Hy,Ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bl(v,Ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bl(v,Hy)),R=Ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),K=Ps("srcset"),ke=bl(R,K,Ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),at=Ps("script,style,template");class Wt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!S.hasOwnProperty(o))return this.sanitizedSomething=!0,!at.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),g=h.name,_=g.toLowerCase();if(!ke.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let b=h.value;R[_]&&(b=Xu(b)),K[_]&&(r=b,b=(r=String(r)).split(",").map(i=>Xu(i.trim())).join(", ")),this.buf.push(" ",g,'="',Lo(b),'"')}var r;return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();S.hasOwnProperty(o)&&!rm.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Lo(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const pn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Vr=/([^\#-~ |!])/g;function Lo(r){return r.replace(/&/g,"&amp;").replace(pn,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Vr,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let la;function El(r,i){let o=null;try{la=la||function(r){const i=new tm(r);return function(){try{return!!(new window.DOMParser).parseFromString(Fo(""),"text/html")}catch(r){return!1}}()?new Ju(i):i}(r);let u=i?String(i):"";o=la.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=la.getInertBodyElement(u)}while(u!==h);return Fo((new Wt).sanitizeChildren(Wd(o)||o))}finally{if(o){const u=Wd(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Wd(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function as(r){const i=function(){const r=Ae();return r&&r[12]}();return i?i.sanitize(Dn.URL,r)||"":Ei(r,"URL")?Os(r):Xu(Ve(r))}const um="__ngContext__";function An(r,i){r[um]=i}function cm(r){const i=function(r){return r[um]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function hm(r){return r.ngOriginalError}function zy(r,...i){r.error(...i)}class Jd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||zy;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(hm(i)):null}_findOriginalError(i){let o=i&&hm(i);for(;o&&hm(o);)o=hm(o);return o||null}}const Fw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($))();function da(r){return r instanceof Function?r():r}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();function Yy(r,i){return undefined(r,i)}function eh(r){const i=r[3];return cn(i)?i[3]:i}function mm(r){return Uw(r[13])}function Xy(r){return Uw(r[4])}function Uw(r){for(;null!==r&&!cn(r);)r=r[4];return r}function th(r,i,o,u,c){if(null!=u){let h,g=!1;cn(u)?h=u:Es(u)&&(g=!0,u=u[0]);const _=vt(u);0===r&&null!==o?null==c?vm(i,o,_):fa(i,o,_,c||null,!0):1===r&&null!==o?fa(i,o,_,c||null,!0):2===r?function(r,i,o){const u=bm(r,i);u&&function(r,i,o,u){Mn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,_,g):3===r&&i.destroyNode(_),null!=h&&function(r,i,o,u,c){const h=o[7];h!==vt(o)&&th(i,r,u,h,c);for(let _=10;_<o.length;_++){const b=o[_];Qf(b[1],b,r,i,u,h)}}(i,r,h,o,c)}}function tv(r,i,o){return Mn(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function jw(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Xo(c,-1)),o.splice(u,1)}function rv(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&jw(c,u),i>0&&(r[o-1][4]=u[4]);const h=No(r,10+i);!function(r,i){Qf(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const g=h[19];null!==g&&g.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function $w(r,i){if(!(256&i[2])){const o=i[11];Mn(o)&&o.destroyNode&&Qf(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return ym(r[1],r);for(;i;){let o=null;if(Es(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Es(i)&&ym(i[1],i),i=i[3];null===i&&(i=r),Es(i)&&ym(i[1],i),o=i&&i[4]}i=o}}(i)}}function ym(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof ja)){const h=o[u+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const _=c[h[g]],b=h[g+1];try{b.call(_)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const g=o[h+1],_="function"==typeof g?g(i):vt(i[g]),b=u[c=o[h+2]],I=o[h+3];"boolean"==typeof I?_.removeEventListener(o[h],b,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),h+=2}else{const g=u[c=o[h+1]];o[h].call(g)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();i[7]=null}}(r,i),1===i[1].type&&Mn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&cn(i[3])){o!==i[3]&&jw(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Ii(r,i,o){return function(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===nn.None||c===nn.Emulated)return null}return Gr(u,o)}(r,i.parent,o)}function fa(r,i,o,u,c){Mn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function vm(r,i,o){Mn(r)?r.appendChild(i,o):i.appendChild(o)}function Kf(r,i,o,u,c){null!==u?fa(r,i,o,u,c):vm(r,i,o)}function bm(r,i){return Mn(r)?r.parentNode(i):i.parentNode}let iv=function(r,i,o){return 40&r.type?Gr(r,o):null};function Yf(r,i,o,u){const c=Ii(r,u,i),h=i[11],_=function(r,i,o){return iv(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)Kf(h,c,o[b],_,!1);else Kf(h,c,o,_,!1)}function ih(r,i){if(null!==i){const o=i.type;if(3&o)return Gr(i,r);if(4&o)return iu(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return ih(r,u);{const c=r[i.index];return cn(c)?iu(-1,c):vt(c)}}if(32&o)return Yy(i,r)()||vt(r[i.index]);{const u=vA(r,i);return null!==u?Array.isArray(u)?u[0]:ih(eh(r[16]),u):ih(r,i.next)}}return null}function vA(r,i){return null!==i?r[16][6].projection[i.projection]:null}function iu(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return ih(u,c)}return i[7]}function uv(r,i,o,u,c,h,g){for(;null!=o;){const _=u[o.index],b=o.type;if(g&&0===i&&(_&&An(vt(_),u),o.flags|=4),64!=(64&o.flags))if(8&b)uv(r,i,o.child,u,c,h,!1),th(i,r,c,_,h);else if(32&b){const I=Yy(o,u);let D;for(;D=I();)th(i,r,c,D,h);th(i,r,c,_,h)}else 16&b?cv(r,i,u,o,c,h):th(i,r,c,_,h);o=g?o.projectionNext:o.next}}function Qf(r,i,o,u,c,h){uv(o,u,r.firstChild,i,c,h,!1)}function cv(r,i,o,u,c,h){const g=o[16],b=g[6].projection[u.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)th(i,r,c,b[I],h);else uv(r,i,b,g[3],c,h,!0)}function Zw(r,i,o){Mn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function wm(r,i,o){Mn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Gw(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||r.charCodeAt(c+h)<=32)return c}o=c+1}}const Ww="ng-template";function lv(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Gw(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function zw(r){return 4===r.type&&r.value!==Ww}function CA(r,i,o){return i===(4!==r.type||o?r.value:Ww)}function Kw(r,i,o){let u=4;const c=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(Do(r[i]))return i;return r.length}(c);let g=!1;for(let _=0;_<i.length;_++){const b=i[_];if("number"!=typeof b){if(!g)if(4&u){if(u=2|1&u,""!==b&&!CA(r,b,o)||""===b&&1===i.length){if(Vo(u))return!1;g=!0}}else{const I=8&u?b:i[++_];if(8&u&&null!==r.attrs){if(!lv(r.attrs,I,o)){if(Vo(u))return!1;g=!0}continue}const N=mM(8&u?"class":b,c,zw(r),o);if(-1===N){if(Vo(u))return!1;g=!0;continue}if(""!==I){let P;P=N>h?"":c[N+1].toLowerCase();const j=8&u?P:null;if(j&&-1!==Gw(j,I,0)||2&u&&I!==P){if(Vo(u))return!1;g=!0}}}}else{if(!g&&!Vo(u)&&!Vo(b))return!1;if(g&&Vo(b))continue;g=!1,u=b|1&u}}return Vo(u)||g}function Vo(r){return 0==(1&r)}function mM(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const g=i[c];if(g===r)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let _=i[++c];for(;"string"==typeof _;)_=i[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function Yw(r,i,o=!1){for(let u=0;u<i.length;u++)if(Kw(r,i[u],o))return!0;return!1}function Qw(r,i){return r?":not("+i.trim()+")":i}function Jf(r){let i=r[0],o=1,u=2,c="",h=!1;for(;o<r.length;){let g=r[o];if("string"==typeof g)if(2&u){const _=r[++o];c+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?c+="."+g:4&u&&(c+=" "+g);else""!==c&&!Vo(g)&&(i+=Qw(h,c),c=""),u=g,h=h||!Vo(u);o++}return""!==c&&(i+=Qw(h,c)),i}const At={};function Jw(r){dv(Ot(),Ae(),Ir()+r,Ys())}function dv(r,i,o,u){if(!u)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&ia(i,h,o)}else{const h=r.preOrderHooks;null!==h&&ol(i,h,0,o)}Ui(o)}function Cm(r,i){return r<<17|i<<2}function ao(r){return r>>17&32767}function ii(r){return 2|r}function pa(r){return(131068&r)>>2}function oh(r,i){return-131069&r|i<<2}function e0(r){return 1|r}function o0(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],h=o[u+1];if(-1!==h){const g=r.data[h];Ed(c),g.contentQueries(2,i[h],h)}}}function ic(r,i,o,u,c,h,g,_,b,I){const D=i.blueprint.slice();return D[0]=c,D[2]=140|u,Su(D),D[3]=D[15]=r,D[8]=o,D[10]=g||r&&r[10],D[11]=_||r&&r[11],D[12]=b||r&&r[12]||null,D[9]=I||r&&r[9]||null,D[6]=h,D[16]=2==i.type?r[16]:D,D}function wl(r,i,o,u,c){let h=r.data[i];if(null===h)h=function(r,i,o,u,c){const h=el(),g=Co(),b=r.data[i]=function(r,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=b),null!==h&&(g?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(r,i,o,u,c),ut.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const g=function(){const r=ut.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return ts(h,!0),h}function ah(r,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function np(r,i,o){Io(i);try{const u=r.viewQuery;null!==u&&op(1,u,o);const c=r.template;null!==c&&Mm(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&o0(r,i),r.staticViewQueries&&op(2,r.viewQuery,o);const h=r.components;null!==h&&function(r,i){for(let o=0;o<i.length;o++)RM(r,i[o])}(i,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,Id()}}function uh(r,i,o,u){const c=i[2];if(256==(256&c))return;Io(i);const h=Ys();try{Su(i),function(r){ut.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Mm(r,i,o,2,u);const g=3==(3&c);if(!h)if(g){const I=r.preOrderCheckHooks;null!==I&&ia(i,I,null)}else{const I=r.preOrderHooks;null!==I&&ol(i,I,0,null),Ds(i,0)}if(function(r){for(let i=mm(r);null!==i;i=Xy(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],h=c[3];0==(1024&c[2])&&Xo(h,1),c[2]|=1024}}}(i),function(r){for(let i=mm(r);null!==i;i=Xy(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Eo(u)&&uh(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&o0(r,i),!h)if(g){const I=r.contentCheckHooks;null!==I&&ia(i,I)}else{const I=r.contentHooks;null!==I&&ol(i,I,1),Ds(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Ui(~c);else{const h=c,g=o[++u],_=o[++u];Ua(g,h),_(2,i[h])}}}finally{Ui(-1)}}(r,i);const _=r.components;null!==_&&function(r,i){for(let o=0;o<i.length;o++)b0(r,i[o])}(i,_);const b=r.viewQuery;if(null!==b&&op(2,b,u),!h)if(g){const I=r.viewCheckHooks;null!==I&&ia(i,I)}else{const I=r.viewHooks;null!==I&&ol(i,I,2),Ds(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Xo(i[3],-1))}finally{Id()}}function u0(r,i,o,u){const c=i[10],h=!Ys(),g=Jo(i);try{h&&!g&&c.begin&&c.begin(),g&&np(r,i,u),uh(r,i,o,u)}finally{h&&!g&&c.end&&c.end()}}function Mm(r,i,o,u,c){const h=Ir(),g=2&u;try{Ui(-1),g&&i.length>20&&dv(r,i,20,Ys()),o(u,c)}finally{Ui(h)}}function rp(r,i,o){!Fa()||(function(r,i,o,u){const c=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||sa(o,i),An(u,i);const g=o.initialInputs;for(let _=c;_<h;_++){const b=r.data[_],I=ti(b);I&&_0(i,o,b);const D=Wa(i,r,_,o);An(D,i),null!==g&&UA(0,_-c,D,b,0,g),I&&(Fr(o.index,i)[8]=D)}}(r,i,o,Gr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,g=o.index,_=ut.lFrame.currentDirectiveIndex;try{Ui(g);for(let b=u;b<c;b++){const I=r.data[b],D=i[b];na(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&p0(I,D)}}finally{Ui(-1),na(_)}}(r,i,o))}function Nm(r,i,o=Gr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const g=u[h+1],_=-1===g?o(i,r):r[g];r[c++]=_}}}function ch(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Om(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Om(r,i,o,u,c,h,g,_,b,I){const D=20+u,N=D+c,P=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:At);return o}(D,N),j="function"==typeof I?I():I;return P[1]={type:r,blueprint:P,template:o,queries:null,viewQuery:_,declTNode:i,data:P.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:b,consts:j,incompleteFirstPass:!1}}function bv(r,i,o,u){const c=Vm(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&HA(r).push(u,c.length-1))}function km(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function ks(r,i,o,u,c,h,g,_){const b=Gr(i,o);let D,I=i.inputs;!_&&null!=I&&(D=I[u])?(T0(r,o,D,u,c),Qo(i)&&function(r,i){const o=Fr(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=g?g(c,i.value||"",u):c,Mn(h)?h.setProperty(b,u,c):Js(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}function lh(r,i,o,u){let c=!1;if(Fa()){const h=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const g=u[h];Yw(o,g.selectors,!1)&&(c||(c=[]),Qn(sa(o,i),r,g.type),ti(g)?(g0(r,o),c.unshift(g)):c.push(g))}return c}(r,i,o),g=null===u?null:{"":-1};if(null!==h){c=!0,m0(o,r.data.length,h.length);for(let D=0;D<h.length;D++){const N=h[D];N.providersResolver&&N.providersResolver(N)}let _=!1,b=!1,I=ah(r,i,h.length,null);for(let D=0;D<h.length;D++){const N=h[D];o.mergedAttrs=Ao(o.mergedAttrs,N.hostAttrs),ip(r,o,i,I,N),VA(I,N,g),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const P=N.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),_=!0),!b&&(P.ngOnChanges||P.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),b=!0),I++}!function(r,i){const u=i.directiveEnd,c=r.data,h=i.attrs,g=[];let _=null,b=null;for(let I=i.directiveStart;I<u;I++){const D=c[I],N=D.inputs,P=null===h||zw(i)?null:BA(N,h);g.push(P),_=km(N,I,_),b=km(D.outputs,I,b)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=16),_.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=g,i.inputs=_,i.outputs=b}(r,o)}g&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new pe("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],h)}}}(o,u,g)}return o.mergedAttrs=Ao(o.mergedAttrs,o.attrs),c}function f0(r,i,o,u,c,h){const g=h.hostBindings;if(g){let _=r.hostBindingOpCodes;null===_&&(_=r.hostBindingOpCodes=[]);const b=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(_)!=b&&_.push(b),_.push(u,c,g)}}function p0(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function g0(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function VA(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;ti(i)&&(o[""]=r)}}function m0(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function ip(r,i,o,u,c){r.data[u]=c;const h=c.factory||(c.factory=_i(c.type)),g=new ja(h,ti(c),null);r.blueprint[u]=g,o[u]=g,f0(r,i,0,u,ah(r,o,c.hostVars,At),c)}function _0(r,i,o){const u=Gr(i,r),c=ch(o),h=r[10],g=Iv(r,ic(r,c,null,o.onPush?64:16,u,i,h,h.createRenderer(u,o),null,null));r[i.index]=g}function Bo(r,i,o,u,c,h){const g=Gr(r,i);!function(r,i,o,u,c,h,g){if(null==h)Mn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const _=null==g?Ve(h):g(h,u||"",c);Mn(r)?r.setAttribute(i,c,_,o):o?i.setAttributeNS(o,c,_):i.setAttribute(c,_)}}(i[11],g,h,r.value,o,u,c)}function UA(r,i,o,u,c,h){const g=h[i];if(null!==g){const _=u.setInput;for(let b=0;b<g.length;){const I=g[b++],D=g[b++],N=g[b++];null!==_?u.setInput(o,N,I,D):o[D]=N}}}function BA(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function Cv(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function b0(r,i){const o=Fr(i,r);if(Eo(o)){const u=o[1];80&o[2]?uh(u,o,u.template,o[8]):o[5]>0&&Lm(o)}}function Lm(r){for(let u=mm(r);null!==u;u=Xy(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const g=h[1];uh(g,h,g.template,h[8])}else h[5]>0&&Lm(h)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Fr(o[u],r);Eo(c)&&c[5]>0&&Lm(c)}}function RM(r,i){const o=Fr(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),np(u,o,o[8])}function Iv(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function E0(r){for(;r;){r[2]|=64;const i=eh(r);if(wf(r)&&!i)return r;r=i}return null}function Dv(r,i,o){const u=i[10];u.begin&&u.begin();try{uh(r,i,r.template,o)}catch(c){throw qA(i,c),c}finally{u.end&&u.end()}}function Av(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=cm(o),c=u[1];u0(c,u,c.template,o)}}(r[8])}function op(r,i,o){Ed(0),i(r,o)}const MM=(()=>Promise.resolve(null))();function Vm(r){return r[7]||(r[7]=[])}function HA(r){return r.cleanup||(r.cleanup=[])}function qA(r,i){const o=r[9],u=o?o.get(Jd,null):null;u&&u.handleError(i)}function T0(r,i,o,u,c){for(let h=0;h<o.length;){const g=o[h++],_=o[h++],b=i[g],I=r.data[g];null!==I.setInput?I.setInput(b,c,u,_):b[_]=c}}function su(r,i,o){const u=Au(i,r);!function(r,i,o){Mn(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function xv(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==i)for(let g=0;g<i.length;g++){const _=i[g];"number"==typeof _?h=_:1==h?c=le(c,_):2==h&&(u=le(u,_+": "+i[++g]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const ap=new On("INJECTOR",-1);class GA{get(i,o=os){if(o===os){const u=new Error(`NullInjectorError: No provider for ${Q(i)}!`);throw u.name="NullInjectorError",u}return o}}const Um=new On("Set Injector scope."),Bm={},OM={};let Rv;function Mv(){return void 0===Rv&&(Rv=new GA),Rv}function Nv(r,i=null,o=null,u){return new A0(r,o,i||Mv(),u)}class A0{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&ji(o,_=>this.processProvider(_,i,o)),ji([i],_=>this.processInjectorType(_,[],h)),this.records.set(ap,up(void 0,this));const g=this.records.get(Um);this.scope=null!=g?g.value:null,this.source=c||("object"==typeof i?null:Q(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=os,u=Se.Default){this.assertNotDestroyed();const c=aa(this),h=tn(void 0);try{if(!(u&Se.SkipSelf)){let _=this.records.get(i);if(void 0===_){const b=("function"==typeof(r=i)||"object"==typeof r&&r instanceof On)&&Re(i);_=b&&this.injectableDefInScope(b)?up(jm(i),Bm):null,this.records.set(i,_)}if(null!=_)return this.hydrate(i,_)}return(u&Se.Self?Mv():this.parent).get(i,o=u&Se.Optional&&o===os?null:o)}catch(g){if("NullInjectorError"===g.name){if((g[bi]=g[bi]||[]).unshift(Q(i)),c)throw g;return or(g,i,"R3InjectorError",this.source)}throw g}finally{tn(h),aa(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(Q(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=Y(i)))return!1;let c=In(i);const h=null==c&&i.ngModule||void 0,g=void 0===h?i:h,_=-1!==u.indexOf(g);if(void 0!==h&&(c=In(h)),null==c)return!1;if(null!=c.imports&&!_){let D;u.push(g);try{ji(c.imports,N=>{this.processInjectorType(N,o,u)&&(void 0===D&&(D=[]),D.push(N))})}finally{}if(void 0!==D)for(let N=0;N<D.length;N++){const{ngModule:P,providers:j}=D[N];ji(j,z=>this.processProvider(z,P,j||$e))}}this.injectorDefTypes.add(g);const b=_i(g)||(()=>new g);this.records.set(g,up(b,Bm));const I=c.providers;if(null!=I&&!_){const D=i;ji(I,N=>this.processProvider(N,D,I))}return void 0!==h&&void 0!==i.providers}processProvider(i,o,u){let c=dh(i=Y(i))?i:Y(i&&i.provide);const h=Cl(r=i)?up(void 0,r.useValue):up($m(r),Bm);var r;if(dh(i)||!0!==i.multi)this.records.get(c);else{let g=this.records.get(c);g||(g=up(void 0,Bm,!0),g.factory=()=>Po(g.multi),this.records.set(c,g)),c=i,g.multi.push(i)}this.records.set(c,h)}hydrate(i,o){return o.value===Bm&&(o.value=OM,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Y(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function jm(r){const i=Re(r),o=null!==i?i.factory:_i(r);if(null!==o)return o;if(r instanceof On)throw new Error(`Token ${Q(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=function(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?");throw new Error(`Can't resolve all parameters for ${Q(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[Vt]||r[Hr]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function $m(r,i,o){let u;if(dh(r)){const c=Y(r);return _i(c)||jm(c)}if(Cl(r))u=()=>Y(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Po(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>Hn(Y(r.useExisting));else{const c=Y(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return _i(c)||jm(c);u=()=>new c(...Po(r.deps))}return u}function up(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Cl(r){return null!==r&&"object"==typeof r&&Ld in r}function dh(r){return"function"==typeof r}const N0=function(r,i,o){return function(r,i=null,o=null,u){const c=Nv(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let sn=(()=>{class r{static create(o,u){return Array.isArray(o)?N0(o,u,""):N0(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=os,r.NULL=new GA,r.\u0275prov=hn({token:r,providedIn:"any",factory:()=>Hn(ap)}),r.__NG_ELEMENT_ID__=-1,r})();function Bv(r,i){Ba(cm(r)[1],Nn())}function jv(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(ti(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const g=r;g.inputs=dp(r.inputs),g.declaredInputs=dp(r.declaredInputs),g.outputs=dp(r.outputs);const _=c.hostBindings;_&&rS(r,_);const b=c.viewQuery,I=c.contentQueries;if(b&&Y0(r,b),I&&nS(r,I),ee(r.inputs,c.inputs),ee(r.declaredInputs,c.declaredInputs),ee(r.outputs,c.outputs),ti(c)&&c.data.animation){const D=r.data;D.animation=(D.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let g=0;g<h.length;g++){const _=h[g];_&&_.ngInherit&&_(r),_===jv&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Ao(c.hostAttrs,o=Ao(o,c.hostAttrs))}}(u)}function dp(r){return r===qe?{}:r===$e?[]:r}function Y0(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function nS(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function rS(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let sc=null;function fh(){if(!sc){const r=$.Symbol;if(r&&r.iterator)sc=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(sc=u)}}}return sc}function oc(r){return!!fp(r)&&(Array.isArray(r)||!(r instanceof Map)&&fh()in r)}function fp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function co(r,i,o){return r[i]=o}function ai(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function gp(r,i,o,u){const c=Ae();return ai(c,ns(),i)&&(Ot(),Bo(vn(),c,r,i,o,u)),gp}function gh(r,i,o,u){return ai(r,ns(),o)?i+Ve(o)+u:At}function iC(r,i,o,u,c,h,g,_){const b=Ae(),I=Ot(),D=r+20,N=I.firstCreatePass?function(r,i,o,u,c,h,g,_,b){const I=i.consts,D=wl(i,r,4,g||null,Is(I,_));lh(i,o,D,Is(I,b)),Ba(i,D);const N=D.tViews=Om(2,D,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,D),N.queries=i.queries.embeddedTView(D)),D}(D,I,b,i,o,u,c,h,g):I.data[D];ts(N,!1);const P=b[11].createComment("");Yf(I,b,P,N),An(P,b),Iv(b,b[D]=Cv(P,b,P,N)),Oa(N)&&rp(I,b,N),null!=g&&Nm(b,N,_)}function Dl(r,i=Se.Default){const o=Ae();return null===o?Hn(r,i):Kt(Nn(),o,Y(r),i)}function s_(r,i,o){const u=Ae();return ai(u,ns(),i)&&ks(Ot(),vn(),u,r,i,u[11],o,!1),s_}function rb(r,i,o,u,c){const g=c?"class":"style";T0(r,o,i.inputs[g],g,u)}function jo(r,i,o,u){const c=Ae(),h=Ot(),g=20+r,_=c[11],b=c[g]=tv(_,i,ut.lFrame.currentNamespace),I=h.firstCreatePass?function(r,i,o,u,c,h,g){const _=i.consts,I=wl(i,r,2,c,Is(_,h));return lh(i,o,I,Is(_,g)),null!==I.attrs&&xv(I,I.attrs,!1),null!==I.mergedAttrs&&xv(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(g,h,c,0,i,o,u):h.data[g];ts(I,!0);const D=I.mergedAttrs;null!==D&&$a(_,b,D);const N=I.classes;null!==N&&wm(_,b,N);const P=I.styles;null!==P&&Zw(_,b,P),64!=(64&I.flags)&&Yf(h,c,b,I),0===ut.lFrame.elementDepthCount&&An(b,c),ut.lFrame.elementDepthCount++,Oa(I)&&(rp(h,c,I),function(r,i,o){if(Eu(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const g=r.data[h];g.contentQueries&&g.contentQueries(1,o[h],h)}}}(h,I,c)),null!==u&&Nm(c,I)}function bh(){let r=Nn();Co()?ut.lFrame.isParent=!1:(r=r.parent,ts(r,!1));const i=r;ut.lFrame.elementDepthCount--;const o=Ot();o.firstCreatePass&&(Ba(o,r),Eu(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&rb(o,i,Ae(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&rb(o,i,Ae(),i.stylesWithoutHost,!1)}function Ip(r,i,o,u){jo(r,i,o,u),bh()}function _C(){return Ae()}function xl(r){return!!r&&"function"==typeof r.then}function Eh(r){return!!r&&"function"==typeof r.subscribe}const sb=Eh;function o_(r,i,o,u){const c=Ae(),h=Ot(),g=Nn();return function(r,i,o,u,c,h,g,_){const b=Oa(u),D=r.firstCreatePass&&HA(r),N=i[8],P=Vm(i);let j=!0;if(3&u.type||_){const te=Gr(u,i),Oe=_?_(te):te,Ee=P.length,rt=_?mt=>_(vt(mt[u.index])):u.index;if(Mn(o)){let mt=null;if(!_&&b&&(mt=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===o&&c[h+1]===u){const _=i[7],b=c[h+2];return _.length>b?_[b]:null}"string"==typeof g&&(h+=2)}return null}(r,i,c,u.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=h,mt.__ngLastListenerFn__=h,j=!1;else{h=Rl(u,i,N,h,!1);const Ht=o.listen(Oe,c,h);P.push(h,Ht),D&&D.push(c,rt,Ee,Ee+1)}}else h=Rl(u,i,N,h,!0),Oe.addEventListener(c,h,g),P.push(h),D&&D.push(c,rt,Ee,g)}else h=Rl(u,i,N,h,!1);const z=u.outputs;let ce;if(j&&null!==z&&(ce=z[c])){const te=ce.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const wn=i[ce[Oe]][ce[Oe+1]].subscribe(h),ms=P.length;P.push(h,wn),D&&D.push(c,u.index,ms,-(ms+1))}}}(h,c,c[11],g,r,i,!!o,u),o_}function bC(r,i,o,u){try{return!1!==o(u)}catch(c){return qA(r,c),!1}}function Rl(r,i,o,u,c){return function h(g){if(g===Function)return u;const _=2&r.flags?Fr(r.index,i):i;0==(32&i[2])&&E0(_);let b=bC(i,0,u,g),I=h.__ngNextListenerFn__;for(;I;)b=bC(i,0,I,g)&&b,I=I.__ngNextListenerFn__;return c&&!1===b&&(g.preventDefault(),g.returnValue=!1),b}}function uu(r=1){return function(r){return(ut.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,ut.lFrame.contextLView))[8]}(r)}function hc(r,i,o){return ob(r,"",i,"",o),hc}function ob(r,i,o,u,c){const h=Ae(),g=gh(h,i,o,u);return g!==At&&ks(Ot(),vn(),h,r,g,h[11],c,!1),ob}function DC(r,i,o,u,c){const h=r[o+1],g=null===i;let _=u?ao(h):pa(h),b=!1;for(;0!==_&&(!1===b||g);){const D=r[_+1];pS(r[_],i)&&(b=!0,r[_+1]=u?e0(D):ii(D)),_=u?ao(D):pa(D)}b&&(r[o+1]=u?ii(h):e0(h))}function pS(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&x(r,i)>=0}function l_(r,i){return function(r,i,o,u){const c=Ae(),h=Ot(),g=function(r){const i=ut.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);h.firstUpdatePass&&function(r,i,o,u){const c=r.data;if(null===c[o+1]){const h=c[Ir()],g=function(r,i){return i>=r.expandoStartIndex}(r,o);(function(r,i){return 0!=(r.flags&(i?16:32))})(h,u)&&null===i&&!g&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ut.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=Ap(o=Th(null,r,i,o,u),i.attrs,u),h=null);else{const g=i.directiveStylingLast;if(-1===g||r[g]!==c)if(o=Th(c,r,i,o,u),null===h){let b=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==pa(u))return r[ao(u)]}(r,i,u);void 0!==b&&Array.isArray(b)&&(b=Th(null,r,i,b[1],u),b=Ap(b,i.attrs,u),function(r,i,o,u){r[ao(o?i.classBindings:i.styleBindings)]=u}(r,i,u,b))}else h=function(r,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=Ap(u,r[h].hostAttrs,o);return Ap(u,i.attrs,o)}(r,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function(r,i,o,u,c,h){let g=h?i.classBindings:i.styleBindings,_=ao(g),b=pa(g);r[u]=o;let D,I=!1;if(Array.isArray(o)){const N=o;D=N[1],(null===D||x(N,D)>0)&&(I=!0)}else D=o;if(c)if(0!==b){const P=ao(r[_+1]);r[u+1]=Cm(P,_),0!==P&&(r[P+1]=oh(r[P+1],u)),r[_+1]=function(r,i){return 131071&r|i<<17}(r[_+1],u)}else r[u+1]=Cm(_,0),0!==_&&(r[_+1]=oh(r[_+1],u)),_=u;else r[u+1]=Cm(b,0),0===_?_=u:r[b+1]=oh(r[b+1],u),b=u;I&&(r[u+1]=ii(r[u+1])),DC(r,D,u,!0),DC(r,D,u,!1),function(r,i,o,u,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&x(h,i)>=0&&(o[u+1]=e0(o[u+1]))}(i,D,r,u,h),g=Cm(_,b),h?i.classBindings=g:i.styleBindings=g}(c,h,i,o,g,u)}}(h,r,g,u),i!==At&&ai(c,g,i)&&function(r,i,o,u,c,h,g,_){if(!(3&i.type))return;const b=r.data,I=b[_+1];Ah(function(r){return 1==(1&r)}(I)?h_(b,i,o,c,pa(I),g):void 0)||(Ah(h)||function(r){return 2==(2&r)}(I)&&(h=h_(b,null,o,c,_,g)),function(r,i,o,u,c){const h=Mn(r);if(i)c?h?r.addClass(o,u):o.classList.add(u):h?r.removeClass(o,u):o.classList.remove(u);else{let g=-1===u.indexOf("-")?void 0:ha.DashCase;if(null==c)h?r.removeStyle(o,u,g):o.style.removeProperty(u);else{const _="string"==typeof c&&c.endsWith("!important");_&&(c=c.slice(0,-10),g|=ha.Important),h?r.setStyle(o,u,c,g):o.style.setProperty(u,c,_?"important":"")}}}(u,g,Au(Ir(),o),c,h))}(h,h.data[Ir()],c,c[11],r,c[g+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=Q(Os(r)))),r}(i,o),u,g)}(r,i,null,!0),l_}function Th(r,i,o,u,c){let h=null;const g=o.directiveEnd;let _=o.directiveStylingLast;for(-1===_?_=o.directiveStart:_++;_<g&&(h=i[_],u=Ap(u,h.hostAttrs,c),h!==r);)_++;return null!==r&&(o.directiveStylingLast=_),u}function Ap(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const g=i[h];"number"==typeof g?c=g:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),C(r,g,!!o||i[++h]))}return void 0===r?null:r}function h_(r,i,o,u,c,h){const g=null===i;let _;for(;c>0;){const b=r[c],I=Array.isArray(b),D=I?b[1]:b,N=null===D;let P=o[c+1];P===At&&(P=N?$e:void 0);let j=N?T(P,u):D===u?P:void 0;if(I&&!Ah(j)&&(j=T(b,u)),Ah(j)&&(_=j,g))return _;const z=r[c+1];c=g?ao(z):pa(z)}if(null!==i){let b=h?i.residualClasses:i.residualStyles;null!=b&&(_=T(b,u))}return _}function Ah(r){return void 0!==r}function vb(r,i=""){const o=Ae(),u=Ot(),c=r+20,h=u.firstCreatePass?wl(u,c,1,i,null):u.data[c],g=o[c]=function(r,i){return Mn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Yf(u,o,g,h),ts(h,!1)}function f_(r){return _a("",r,""),f_}function _a(r,i,o){const u=Ae(),c=gh(u,r,i,o);return c!==At&&su(u,Ir(),c),_a}function m_(r,i,o){const u=Ae();return ai(u,ns(),i)&&ks(Ot(),vn(),u,r,i,u[11],o,!0),m_}const Ml=void 0;var DS=["en",[["a","p"],["AM","PM"],Ml],[["AM","PM"],Ml,Ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ml,"{1} 'at' {0}",Ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Mh={};function Sb(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=BC(i);if(o)return o;const u=i.split("-")[0];if(o=BC(u),o)return o;if("en"===u)return DS;throw new Error(`Missing locale data for the locale "${r}".`)}function ls(r){return Sb(r)[Le.PluralCase]}function BC(r){return r in Mh||(Mh[r]=$.ng&&$.ng.common&&$.ng.common.locales&&$.ng.common.locales[r]),Mh[r]}var Le=(()=>((Le=Le||{})[Le.LocaleId=0]="LocaleId",Le[Le.DayPeriodsFormat=1]="DayPeriodsFormat",Le[Le.DayPeriodsStandalone=2]="DayPeriodsStandalone",Le[Le.DaysFormat=3]="DaysFormat",Le[Le.DaysStandalone=4]="DaysStandalone",Le[Le.MonthsFormat=5]="MonthsFormat",Le[Le.MonthsStandalone=6]="MonthsStandalone",Le[Le.Eras=7]="Eras",Le[Le.FirstDayOfWeek=8]="FirstDayOfWeek",Le[Le.WeekendRange=9]="WeekendRange",Le[Le.DateFormat=10]="DateFormat",Le[Le.TimeFormat=11]="TimeFormat",Le[Le.DateTimeFormat=12]="DateTimeFormat",Le[Le.NumberSymbols=13]="NumberSymbols",Le[Le.NumberFormats=14]="NumberFormats",Le[Le.CurrencyCode=15]="CurrencyCode",Le[Le.CurrencySymbol=16]="CurrencySymbol",Le[Le.CurrencyName=17]="CurrencyName",Le[Le.Currencies=18]="Currencies",Le[Le.Directionality=19]="Directionality",Le[Le.PluralCase=20]="PluralCase",Le[Le.ExtraData=21]="ExtraData",Le))();const bt="en-US";let HC=bt;function Br(r){dn(r,"Expected localeId to be defined"),"string"==typeof r&&(HC=r.toLowerCase().replace(/_/g,"-"))}function A_(r,i,o,u,c){if(r=Y(r),Array.isArray(r))for(let h=0;h<r.length;h++)A_(r[h],i,o,u,c);else{const h=Ot(),g=Ae();let _=dh(r)?r:Y(r.provide),b=$m(r);const I=Nn(),D=1048575&I.providerIndexes,N=I.directiveStart,P=I.providerIndexes>>20;if(dh(r)||!r.multi){const j=new ja(b,c,Dl),z=S_(_,i,c?D:D+P,N);-1===z?(Qn(sa(I,g),h,_),mc(h,r,i.length),i.push(_),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(j),g.push(j)):(o[z]=j,g[z]=j)}else{const j=S_(_,i,D+P,N),z=S_(_,i,D,D+P),ce=j>=0&&o[j],te=z>=0&&o[z];if(c&&!te||!c&&!ce){Qn(sa(I,g),h,_);const Oe=function(r,i,o,u,c){const h=new ja(r,o,Dl);return h.multi=[],h.index=i,h.componentProviders=0,Lb(h,c,u&&!o),h}(c?BS:Bp,o.length,c,u,b);!c&&te&&(o[z].providerFactory=Oe),mc(h,r,i.length,0),i.push(_),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(Oe),g.push(Oe)}else mc(h,r,j>-1?j:z,Lb(o[c?z:j],b,!c&&u));!c&&u&&te&&o[z].componentProviders++}}}function mc(r,i,o,u){const c=dh(i);if(c||function(r){return!!r.useClass}(i)){const g=(i.useClass||i).prototype.ngOnDestroy;if(g){const _=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const b=_.indexOf(o);-1===b?_.push(o,[u,g]):_[b+1].push(u,g)}else _.push(o,g)}}}function Lb(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function S_(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function Bp(r,i,o,u){return Vb(this.multi,[])}function BS(r,i,o,u){const c=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Wa(o,o[1],this.providerFactory.index,u);h=_.slice(0,g),Vb(c,h);for(let b=g;b<_.length;b++)h.push(_[b])}else h=[],Vb(c,h);return h}function Vb(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function jp(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=Ot();if(u.firstCreatePass){const c=ti(r);A_(o,u.data,u.blueprint,c,!0),A_(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class oI{}const aI="ngComponent";class uI{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${Q(r)}. Did you add it to @NgModule.entryComponents?`);return i[aI]=r,i}(i)}}let wa=(()=>{class r{}return r.NULL=new uI,r})();function $p(...r){}function Ca(r,i){return new Rt(Gr(r,i))}const Nr=function(){return Ca(Nn(),Ae())};let Rt=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Nr,r})();function Bb(r){return r instanceof Rt?r.nativeElement:r}class cr{}let N_=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>lI(),r})();const lI=function(){const r=Ae(),o=Fr(Nn().index,r);return function(r){return r[11]}(Es(o)?o:r)};let jb=(()=>{class r{}return r.\u0275prov=hn({token:r,providedIn:"root",factory:()=>null}),r})();class O_{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const $b=new O_("12.2.15");class Hb{constructor(){}supports(i){return oc(i)}create(i){return new ZS(i)}}const qS=(r,i)=>i;class ZS{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||qS}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const g=!u||o&&o.currentIndex<qp(u,c,h)?o:u,_=qp(g,c,h),b=g.currentIndex;if(g===u)c--,u=u._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{h||(h=[]);const I=_-c,D=b-c;if(I!=D){for(let P=0;P<I;P++){const j=P<h.length?h[P]:h[P]=0,z=j+P;D<=z&&z<I&&(h[P]=j+1)}h[g.previousIndex]=D-I}}_!==b&&i(g,_,b)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!oc(i))throw new Error(`Error trying to diff '${Q(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,g,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let _=0;_<this.length;_++)h=i[_],g=this._trackByFn(_,h),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,h,g,_)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,g,_),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[fh()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,_=>{g=this._trackByFn(c,_),null!==o&&Object.is(o.trackById,g)?(u&&(o=this._verifyReinsertion(o,_,g,c)),Object.is(o.item,_)||this._addIdentityChange(o,_)):(o=this._mismatch(o,_,g,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new P_(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Bh),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bh),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class P_{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hp{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Bh{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Hp,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qp(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class qb{constructor(){}supports(i){return i instanceof Map||fp(i)}create(){return new dI}}class dI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||fp(i)))throw new Error(`Error trying to diff '${Q(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const u=new hI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class hI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fI(){return new Zp([new Hb])}let Zp=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||fI()),deps:[[r,new oo,new so]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=hn({token:r,providedIn:"root",factory:fI}),r})();function gI(){return new k_([new qb])}let k_=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||gI()),deps:[[r,new oo,new so]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=hn({token:r,providedIn:"root",factory:gI}),r})();function F_(r,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(vt(h)),cn(h))for(let _=10;_<h.length;_++){const b=h[_],I=b[1].firstChild;null!==I&&F_(b[1],b,I,u)}const g=o.type;if(8&g)F_(r,i,o.child,u);else if(32&g){const _=Yy(o,i);let b;for(;b=_();)u.push(b)}else if(16&g){const _=vA(i,o);if(Array.isArray(_))u.push(..._);else{const b=eh(i[16]);F_(b[1],b,_,u,!0)}}o=c?o.projectionNext:o.next}return u}class du{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return F_(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(cn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(rv(i,u),No(o,u))}this._attachedToViewContainer=!1}$w(this._lView[1],this._lView)}onDestroy(i){bv(this._lView[1],this._lView,null,i)}markForCheck(){E0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Dv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){Vi(!0);try{Dv(r,i,o)}finally{Vi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Qf(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class mI extends du{constructor(i){super(i),this._view=i}detectChanges(){Av(this._view)}checkNoChanges(){!function(r){Vi(!0);try{Av(r)}finally{Vi(!1)}}(this._view)}get context(){return null}}const Zb=function(r){return function(r,i,o){if(Qo(r)&&!o){const u=Fr(r.index,i);return new du(u,u)}return 47&r.type?new du(i[16],i):null}(Nn(),Ae(),16==(16&r))};let _I=(()=>{class r{}return r.__NG_ELEMENT_ID__=Zb,r})();const Gb=[new qb],Wp=new Zp([new Hb]),vI=new k_(Gb),zS=function(){return Kp(Nn(),Ae())};let zp=(()=>{class r{}return r.__NG_ELEMENT_ID__=zS,r})();const L_=zp,EI=class extends L_{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=ic(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),np(o,u,i),new du(u)}};function Kp(r,i){return 4&r.type?new EI(i,r,Ca(r,i)):null}class _c{}class Wb{}const wI=function(){return CI(Nn(),Ae())};let Yp=(()=>{class r{}return r.__NG_ELEMENT_ID__=wI,r})();const XS=Yp,Vl=class extends XS{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new vi(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ss(this._hostTNode,this._hostLView);if(Uu(i)){const o=So(i,this._hostLView),u=Ha(i);return new vi(o[1].data[u+8],o)}return new vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Ul(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,h){const g=u||this.parentInjector;if(!h&&null==i.ngModule&&g){const b=g.get(_c,null);b&&(h=b)}const _=i.create(g,c,void 0,h);return this.insert(_.hostView,o),_}insert(i,o){const u=i._lView,c=u[1];if(cn(u[3])){const D=this.indexOf(i);if(-1!==D)this.detach(D);else{const N=u[3],P=new Vl(N,N[6],N[3]);P.detach(P.indexOf(i))}}const h=this._adjustIndex(o),g=this._lContainer;!function(r,i,o,u){const c=10+u,h=o.length;u>0&&(o[c-1][4]=i),u<h-10?(i[4]=o[c],ss(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const g=i[17];null!==g&&o!==g&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(g,i);const _=i[19];null!==_&&_.insertView(r),i[2]|=128}(c,u,g,h);const _=iu(h,g),b=u[11],I=bm(b,g[7]);return null!==I&&function(r,i,o,u,c,h){u[0]=c,u[6]=i,Qf(r,u,o,1,c,h)}(c,g[6],b,u,I,_),i.attachToViewContainerRef(),ss(zb(g),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Ul(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=rv(this._lContainer,o);u&&(No(zb(this._lContainer),o),$w(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=rv(this._lContainer,o);return u&&null!=No(zb(this._lContainer),o)?new du(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Ul(r){return r[8]}function zb(r){return r[8]||(r[8]=[])}function CI(r,i){let o;const u=i[r.index];if(cn(u))o=u;else{let c;if(8&r.type)c=vt(u);else{const h=i[11];c=h.createComment("");const g=Gr(r,i);fa(h,bm(h,g),c,function(r,i){return Mn(r)?r.nextSibling(i):i.nextSibling}(h,g),!1)}i[r.index]=o=Cv(u,i,c,r),Iv(i,o)}return new Vl(o,r,i)}const Ac={};class jr extends wa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=zn(i);return new KI(o,this.ngModule)}}function zI(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const gx=new On("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fw});class KI extends oI{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(Jf).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return zI(this.componentDef.inputs)}get outputs(){return zI(this.componentDef.outputs)}create(i,o,u,c){const h=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const h=r.get(o,Ac,c);return h!==Ac||u===Ac?h:i.get(o,u,c)}}}(i,c.injector):i,g=h.get(cr,Du),_=h.get(jb,null),b=g.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",D=u?function(r,i,o){if(Mn(r))return r.selectRootElement(i,o===nn.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(b,u,this.componentDef.encapsulation):tv(g.createRenderer(null,this.componentDef),I,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,P=function(r,i){return{components:[],scheduler:r||Fw,clean:MM,playerHandler:i||null,flags:0}}(),j=Om(0,null,null,1,0,null,null,null,null,null),z=ic(null,j,P,N,null,null,g,b,_,h);let ce,te;Io(z);try{const Oe=function(r,i,o,u,c,h){const g=o[1];o[20]=r;const b=wl(g,20,2,"#host",null),I=b.mergedAttrs=i.hostAttrs;null!==I&&(xv(b,I,!0),null!==r&&($a(c,r,I),null!==b.classes&&wm(c,r,b.classes),null!==b.styles&&Zw(c,r,b.styles)));const D=u.createRenderer(r,i),N=ic(o,ch(i),null,i.onPush?64:16,o[20],b,u,D,h||null,null);return g.firstCreatePass&&(Qn(sa(b,o),g,i.type),g0(g,b),m0(b,o.length,1)),Iv(o,N),o[20]=N}(D,this.componentDef,z,g,b);if(D)if(u)$a(b,D,["ng-version",$b.full]);else{const{attrs:Ee,classes:rt}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++u]):8===c&&o.push(h);else{if(!Vo(c))break;c=h}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ee&&$a(b,D,Ee),rt&&rt.length>0&&wm(b,D,rt.join(" "))}if(te=Yn(j,20),void 0!==o){const Ee=te.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const mt=o[rt];Ee.push(null!=mt?Array.from(mt):null)}}ce=function(r,i,o,u,c){const h=o[1],g=function(r,i,o){const u=Nn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),ip(r,u,i,ah(r,i,1,null),o));const c=Wa(i,r,u.directiveStart,u);An(c,i);const h=Gr(u,i);return h&&An(h,i),c}(h,o,i);if(u.components.push(g),r[8]=g,c&&c.forEach(b=>b(g,i)),i.contentQueries){const b=Nn();i.contentQueries(1,g,b.directiveStart)}const _=Nn();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Ui(_.index),f0(o[1],_,0,_.directiveStart,_.directiveEnd,i),p0(i,g)),g}(Oe,this.componentDef,z,P,[Bv]),np(j,z,null)}finally{Id()}return new QI(this.componentType,ce,Ca(te,z),z,te)}}class QI extends class{}{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new mI(c),this.componentType=i}get injector(){return new vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Sc=new Map;class cE extends _c{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jr(this);const u=wr(i),c=i[Nt]||null;c&&Br(c),this._bootstrapComponents=da(u.bootstrap),this._r3Injector=Nv(i,o,[{provide:_c,useValue:this},{provide:wa,useValue:this.componentFactoryResolver}],Q(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=sn.THROW_IF_NOT_FOUND,u=Se.Default){return i===sn||i===_c||i===ap?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Q_ extends Wb{constructor(i){super(),this.moduleType=i,null!==wr(i)&&function(r){const i=new Set;!function o(u){const c=wr(u,!0),h=c.id;null!==h&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${Q(i)} vs ${Q(i.name)}`)}(h,Sc.get(h),u),Sc.set(h,u));const g=da(c.imports);for(const _ of g)i.has(_)||(i.add(_),o(_))}(r)}(i)}create(i){return new cE(this.moduleType,i)}}function eT(r,i,o){const u=Wr()+r,c=Ae();return c[u]===At?co(c,u,o?i.call(o):i()):function(r,i){return r[i]}(c,u)}function lE(r,i,o,u){return function(r,i,o,u,c,h){const g=i+o;return ai(r,g,c)?co(r,g+1,h?u.call(h,c):u(c)):function(r,i){const o=r[i];return o===At?void 0:o}(r,g+1)}(Ae(),Wr(),r,i,o,u)}function ey(r){return i=>{setTimeout(r,void 0,i)}}const Da=class extends d.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,h,g;let _=i,b=o||(()=>null),I=u;if(i&&"object"==typeof i){const N=i;_=null===(c=N.next)||void 0===c?void 0:c.bind(N),b=null===(h=N.error)||void 0===h?void 0:h.bind(N),I=null===(g=N.complete)||void 0===g?void 0:g.bind(N)}this.__isAsync&&(b=ey(b),_&&(_=ey(_)),I&&(I=ey(I)));const D=super.subscribe({next:_,error:b,complete:I});return i instanceof B.w&&i.add(D),D}};function gE(){return this._results[fh()]()}class ty{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=fh(),u=ty.prototype;u[o]||(u[o]=gE)}get changes(){return this._changes||(this._changes=new Da)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=ri(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Qh{constructor(i){this.queryList=i,this.matches=null}clone(){return new Qh(this.queryList)}setDirty(){this.queryList.setDirty()}}class ug{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const g=o.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new ug(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Jl(i,o).matches&&this.queries[o].setDirty()}}class _E{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Rc{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Rc(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class cg{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new cg(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,wx(o,h)),this.matchTNodeWithReadOption(i,o,Xs(o,i,h,!1,!1))}else u===zp?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Xs(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Rt||c===Yp||c===zp&&4&o.type)this.addMatch(o.index,-2);else{const h=Xs(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function wx(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function cT(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Ca(r,i):4&r.type?Kp(r,i):null}(i,r):-2===o?function(r,i,o){return o===Rt?Ca(i,r):o===zp?Kp(i,r):o===Yp?CI(i,r):void 0}(r,i,u):Wa(r,r[1],o,i)}function dT(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const h=r.data,g=o.matches,_=[];for(let b=0;b<g.length;b+=2){const I=g[b];_.push(I<0?null:cT(i,h[I],g[b+1],o.metadata.read))}c.matches=_}return c.matches}function lg(r,i,o,u){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const g=dT(r,i,c,o);for(let _=0;_<h.length;_+=2){const b=h[_];if(b>0)u.push(g[_/2]);else{const I=h[_+1],D=i[-b];for(let N=10;N<D.length;N++){const P=D[N];P[17]===P[3]&&lg(P[1],P,I,u)}if(null!==D[9]){const N=D[9];for(let P=0;P<N.length;P++){const j=N[P];lg(j[1],j,I,u)}}}}}return u}function hT(r){const i=Ae(),o=Ot(),u=ku();Ed(u+1);const c=Jl(o,u);if(r.dirty&&Jo(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?lg(o,i,u,[]):dT(o,i,c,u);r.reset(h,Bb),r.notifyOnChanges()}return!0}return!1}function fT(r,i,o,u){const c=Ot();if(c.firstCreatePass){const h=Nn();(function(r,i,o){null===r.queries&&(r.queries=new Rc),r.queries.track(new cg(i,o))})(c,new _E(i,o,u),h.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function(r,i,o){const u=new ty(4==(4&o));bv(r,i,u,u.destroy),null===i[19]&&(i[19]=new ug),i[19].queries.push(new Qh(u))}(c,Ae(),o)}function ny(){return r=Ae(),i=ku(),r[19].queries[i].queryList;var r,i}function Jl(r,i){return r.queries.getByIndex(i)}const Xh=new On("Application Initializer");let ef=(()=>{class r{constructor(o){this.appInits=o,this.resolve=$p,this.reject=$p,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(xl(h))o.push(h);else if(sb(h)){const g=new Promise((_,b)=>{h.subscribe({complete:_,error:b})});o.push(g)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Hn(Xh,8))},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();const VT=new On("AppId"),Lx={provide:VT,useFactory:function(){return`${fy()}${fy()}${fy()}`},deps:[]};function fy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const py=new On("Platform Initializer"),FE=new On("Platform ID"),gy=new On("appBootstrapListener");let my=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();const ed=new On("LocaleId"),_y=new On("DefaultCurrencyCode");class Bx{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const yy=function(r){return new Q_(r)},jx=yy,Hx=function(r){return Promise.resolve(yy(r))},jT=function(r){const i=yy(r),u=da(wr(r).declarations).reduce((c,h)=>{const g=zn(h);return g&&c.push(new KI(g)),c},[]);return new Bx(i,u)},qx=jT,VE=function(r){return Promise.resolve(jT(r))};let nf=(()=>{class r{constructor(){this.compileModuleSync=jx,this.compileModuleAsync=Hx,this.compileModuleAndAllComponentsSync=qx,this.compileModuleAndAllComponentsAsync=VE}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();const vy=(()=>Promise.resolve(0))();function zt(r){"undefined"==typeof Zone?vy.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ps{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=$.requestAnimationFrame,i=$.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call($,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,po(r),r.isCheckStableRunning=!0,UE(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),po(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,g,_)=>{try{return BE(r),o.invokeTask(c,h,g,_)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),ZT(r)}},onInvoke:(o,u,c,h,g,_,b)=>{try{return BE(r),o.invoke(c,h,g,_,b)}finally{r.shouldCoalesceRunChangeDetection&&i(),ZT(r)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,po(r),UE(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ps.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ps.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,i,yg,$p,$p);try{return h.runTask(g,o,u)}finally{h.cancelTask(g)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const yg={};function UE(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function po(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function BE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function ZT(r){r._nesting--,UE(r)}class by{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let jE=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ps.assertNotInAngularZone(),zt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zt(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Hn(ps))},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})(),$E=(()=>{class r{constructor(){this._applications=new Map,qE.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return qE.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();class Gx{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function HE(r){qE=r}let qE=new Gx,GT=!0,qn=!1;function WT(){return qn=!0,GT}function r1(){if(qn)throw new Error("Cannot enable prod mode after platform setup.");GT=!1}let mn;const KT=new On("AllowMultipleToken");class Jx{constructor(i,o){this.name=i,this.token=o}}function Aa(r,i,o=[]){const u=`Platform: ${i}`,c=new On(u);return(h=[])=>{let g=Oc();if(!g||g.injector.get(KT,!1))if(r)r(o.concat(h).concat({provide:c,useValue:!0}));else{const _=o.concat(h).concat({provide:c,useValue:!0},{provide:Um,useValue:"platform"});!function(r){if(mn&&!mn.destroyed&&!mn.injector.get(KT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mn=r.get(vg);const i=r.get(py,null);i&&i.forEach(o=>o())}(sn.create({providers:_,name:u}))}return function(r){const i=Oc();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function Oc(){return mn&&!mn.destroyed?mn:null}let vg=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const _=function(r,i){let o;return o="noop"===r?new by:("zone.js"===r?void 0:r)||new ps({enableLongStackTrace:WT(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:ps,useValue:_}];return _.run(()=>{const I=sn.create({providers:b,parent:this.injector,name:o.moduleType.name}),D=o.create(I),N=D.injector.get(Jd,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return _.runOutsideAngular(()=>{const P=_.onError.subscribe({next:j=>{N.handleError(j)}});D.onDestroy(()=>{sf(this._modules,D),P.unsubscribe()})}),function(r,i,o){try{const u=o();return xl(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(N,_,()=>{const P=D.injector.get(ef);return P.runInitializers(),P.donePromise.then(()=>(Br(D.injector.get(ed,bt)||bt),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const c=ZE({},u);return function(r,i,o){const u=new Q_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(rf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Q(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Hn(sn))},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();function ZE(r,i){return Array.isArray(i)?i.reduce(ZE,r):Object.assign(Object.assign({},r),i)}let rf=(()=>{class r{constructor(o,u,c,h,g){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new O.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ps.assertNotInAngularZone(),zt(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ae.T)(_,b.pipe(r=>(0,ue.x)()(function(r,i){return function(u){let c;c="function"==typeof r?r:function(){return r};const h=Object.create(u,oe.N);return h.source=u,h.subjectFactory=c,h}}(ne)(r))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof oI?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const h=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(_c),_=c.create(sn.NULL,[],u||c.selector,h),b=_.location.nativeElement,I=_.injector.get(jE,null),D=I&&_.injector.get($E);return I&&D&&D.registerApplication(b,I),_.onDestroy(()=>{this.detachView(_.hostView),sf(this.components,_),D&&D.unregisterApplication(b)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;sf(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(gy,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Hn(ps),Hn(sn),Hn(Jd),Hn(wa),Hn(ef))},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();function sf(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class Ey{}class GE{}const WE={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tD=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||WE}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),F(8255)(u).then(h=>h[c]).then(h=>Pc(h,u,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,c]=o.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(g=>g[c+h]).then(g=>Pc(g,u,c))}}return r.\u0275fac=function(o){return new(o||r)(Hn(nf),Hn(GE,8))},r.\u0275prov=hn({token:r,factory:r.\u0275fac}),r})();function Pc(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const sR=function(r){return null},uR=Aa(null,"core",[{provide:FE,useValue:"unknown"},{provide:vg,deps:[sn]},{provide:$E,deps:[]},{provide:my,deps:[]}]),Dy=[{provide:rf,useClass:rf,deps:[ps,sn,Jd,wa,ef]},{provide:gx,deps:[ps],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:ef,useClass:ef,deps:[[new so,Xh]]},{provide:nf,useClass:nf,deps:[]},Lx,{provide:Zp,useFactory:function(){return Wp},deps:[]},{provide:k_,useFactory:function(){return vI},deps:[]},{provide:ed,useFactory:function(r){return Br(r=r||"undefined"!=typeof $localize&&$localize.locale||bt),r},deps:[[new ua(ed),new so,new oo]]},{provide:_y,useValue:"USD"}];let dD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Hn(rf))},r.\u0275mod=Un({type:r}),r.\u0275inj=$r({providers:Dy}),r})()},8939:(et,De,F)=>{"use strict";F.d(De,{hO:()=>Q,xv:()=>ne,Dh:()=>ue,GT:()=>se,cc:()=>le,on:()=>L,pX:()=>oe});var d=F(3018),B=F(7841),O=F(6436);et=F.hmd(et);const ae=["ngOnDestroy"],oe=(ve,me,pe,Ne={})=>new Proxy(ve,{get:(ze,Ve)=>pe.runOutsideAngular(()=>{var Pt;if(ve[Ve])return(null===(Pt=null==Ne?void 0:Ne.spy)||void 0===Pt?void 0:Pt.get)&&Ne.spy.get(Ve,ve[Ve]),ve[Ve];if(ae.indexOf(Ve)>-1)return()=>{};const ft=me.toPromise().then(_n=>{const Et=_n&&_n[Ve];return"function"==typeof Et?Et.bind(_n):Et&&Et.then?Et.then(Tt=>pe.run(()=>Tt)):pe.run(()=>Et)});return new Proxy(()=>{},{get:(_n,Et)=>ft[Et],apply:(_n,Et,Tt)=>ft.then(dt=>{var ot;const kt=dt&&dt(...Tt);return(null===(ot=null==Ne?void 0:Ne.spy)||void 0===ot?void 0:ot.apply)&&Ne.spy.apply(Ve,Tt,kt),kt})})})}),se=(ve,me)=>{me.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Ne=>{Object.defineProperty(ve.prototype,Ne,Object.getOwnPropertyDescriptor(pe.prototype||pe,Ne))})})};class ye{constructor(me){return me}}const ue=new d.OlP("angularfire2.app.options"),ne=new d.OlP("angularfire2.app.name");function L(ve,me,pe){const ze="object"==typeof pe&&pe||{};ze.name=ze.name||"string"==typeof pe&&pe||"[DEFAULT]";const Pt=B.Z.apps.filter(ft=>ft&&ft.name===ze.name)[0]||me.runOutsideAngular(()=>B.Z.initializeApp(ve,ze));try{JSON.stringify(ve)!==JSON.stringify(Pt.options)&&V("error",`${Pt.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ft){}return new ye(Pt)}const V=(ve,...me)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ve](...me)},ee={provide:ye,useFactory:L,deps:[ue,d.R0b,[new d.FiY,ne]]};let Q=(()=>{class ve{constructor(pe){B.Z.registerVersion("angularfire",O.q4.full,"core"),B.Z.registerVersion("angularfire",O.q4.full,"app-compat"),B.Z.registerVersion("angular",d.q4F.full,pe.toString())}static initializeApp(pe,Ne){return{ngModule:ve,providers:[{provide:ue,useValue:pe},{provide:ne,useValue:Ne}]}}}return ve.\u0275fac=function(pe){return new(pe||ve)(d.LFG(d.Lbi))},ve.\u0275mod=d.oAB({type:ve}),ve.\u0275inj=d.cJS({providers:[ee]}),ve})();function le(ve,me,pe,Ne,ze){const[,Ve,Pt]=globalThis.\u0275AngularfireInstanceCache.find(ft=>ft[0]===ve)||[];if(Ve)return function(ve,me){try{return ve.toString()===me.toString()}catch(pe){return ve===me}}(ze,Pt)||(Y("error",`${me} was already initialized on the ${pe} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),Y("warn",{is:ze,was:Pt})),Ve;{const ft=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ve,ft,ze]),ft}}const ge=!!et.hot,Y=(ve,...me)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ve](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6436:(et,De,F)=>{"use strict";F.d(De,{q4:()=>Gg,iC:()=>Kr,fc:()=>kd,HU:()=>ji,vb:()=>Ka,JM:()=>Zu});var d=F(3018),B=F(2329),O=F(8239),ae=F(8026),oe=F(3854),se=F(3910),ye=F(5422),ue=F(6676);const ne="@firebase/installations",L="0.5.5",ee=`w:${L}`,Q="FIS_v2",me=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pe(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Ne({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function ze(C){return{token:C.token,requestStatus:2,expiresIn:dt(C.expiresIn),creationTime:Date.now()}}function Ve(C,T){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(C,T){const U=(yield T.json()).error;return me.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ft({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function _n(C,{refreshToken:T}){const x=ft(C);return x.append("Authorization",function(C){return`${Q} ${C}`}(T)),x}function Et(C){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function dt(C){return Number(C.replace("s","000"))}function kt(C,T){return Je.apply(this,arguments)}function Je(){return(Je=(0,O.Z)(function*(C,{fid:T}){const x=Ne(C),de={method:"POST",headers:ft(C),body:JSON.stringify({fid:T,authVersion:Q,appId:C.appId,sdkVersion:ee})},xe=yield Et(()=>fetch(x,de));if(xe.ok){const Ke=yield xe.json();return{fid:Ke.fid||T,registrationStatus:2,refreshToken:Ke.refreshToken,authToken:ze(Ke.authToken)}}throw yield Ve("Create Installation",xe)})).apply(this,arguments)}function tr(C){return new Promise(T=>{setTimeout(T,C)})}const ys=/^[cdef][\w-]{21}$/;function lr(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return ys.test(x)?x:""}catch(C){return""}}function Wi(C){return`${C.appName}!${C.appId}`}const zi=new Map;function gi(C,T){const x=Wi(C);Sn(x,T),function(C,T){const x=(!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=C=>{Sn(C.data.key,C.data.fid)}),Xt);x&&x.postMessage({key:C,fid:T}),0===zi.size&&Xt&&(Xt.close(),Xt=null)}(x,T)}function Sn(C,T){const x=zi.get(C);if(x)for(const U of x)U(T)}let Xt=null;const fn="firebase-installations-store";let Zn=null;function mi(){return Zn||(Zn=(0,ue.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(fn)}})),Zn}function In(C,T){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(C,T){const x=Wi(C),J=(yield mi()).transaction(fn,"readwrite"),de=J.objectStore(fn),xe=yield de.get(x);return yield de.put(T,x),yield J.complete,(!xe||xe.fid!==T.fid)&&gi(C,T.fid),T})).apply(this,arguments)}function Gn(C){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(C){const T=Wi(C),U=(yield mi()).transaction(fn,"readwrite");yield U.objectStore(fn).delete(T),yield U.complete})).apply(this,arguments)}function st(C,T){return Se.apply(this,arguments)}function Se(){return(Se=(0,O.Z)(function*(C,T){const x=Wi(C),J=(yield mi()).transaction(fn,"readwrite"),de=J.objectStore(fn),xe=yield de.get(x),Ke=T(xe);return void 0===Ke?yield de.delete(x):yield de.put(Ke,x),yield J.complete,Ke&&(!xe||xe.fid!==Ke.fid)&&gi(C,Ke.fid),Ke})).apply(this,arguments)}function Bt(C){return on.apply(this,arguments)}function on(){return(on=(0,O.Z)(function*(C){let T;const x=yield st(C,U=>{const J=tn(U),de=qt(C,J);return T=de.registrationPromise,de.installationEntry});return""===x.fid?{installationEntry:yield T}:{installationEntry:x,registrationPromise:T}})).apply(this,arguments)}function tn(C){return nn(C||{fid:lr(),registrationStatus:0})}function qt(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(me.create("app-offline"))};const x={fid:T.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,T){return Qe.apply(this,arguments)}(C,x)}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Er(C)}:{installationEntry:T}}function Qe(){return(Qe=(0,O.Z)(function*(C,T){try{return In(C,yield kt(C,T))}catch(x){throw pe(x)&&409===x.customData.serverCode?yield Gn(C):yield In(C,{fid:T.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Er(C){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(C){let T=yield Yt(C);for(;1===T.registrationStatus;)yield tr(100),T=yield Yt(C);if(0===T.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield Bt(C);return U||x}return T})).apply(this,arguments)}function Yt(C){return st(C,T=>{if(!T)throw me.create("installation-not-found");return nn(T)})}function nn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function vs(C,T){return H.apply(this,arguments)}function H(){return(H=(0,O.Z)(function*({appConfig:C,platformLoggerProvider:T},x){const U=W(C,x),J=_n(C,x),de=T.getImmediate({optional:!0});de&&J.append("x-firebase-client",de.getPlatformInfoString());const Ke={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee}})},We=yield Et(()=>fetch(U,Ke));if(We.ok)return ze(yield We.json());throw yield Ve("Generate Auth Token",We)})).apply(this,arguments)}function W(C,{fid:T}){return`${Ne(C)}/${T}/authTokens:generate`}function $(C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*(C,T=!1){let x;const U=yield st(C.appConfig,de=>{if(!Rn(de))throw me.create("not-registered");const xe=de.authToken;if(!T&&nr(xe))return de;if(1===xe.requestStatus)return x=re(C,T),de;{if(!navigator.onLine)throw me.create("app-offline");const Ke=ie(de);return x=Qt(C,Ke),Ke}});return x?yield x:U.authToken})).apply(this,arguments)}function re(C,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,O.Z)(function*(C,T){let x=yield $e(C.appConfig);for(;1===x.authToken.requestStatus;)yield tr(100),x=yield $e(C.appConfig);const U=x.authToken;return 0===U.requestStatus?$(C,T):U})).apply(this,arguments)}function $e(C){return st(C,T=>{if(!Rn(T))throw me.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Qt(C,T){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(C,T){try{const x=yield vs(C,T),U=Object.assign(Object.assign({},T),{authToken:x});return yield In(C.appConfig,U),x}catch(x){if(!pe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield In(C.appConfig,U)}else yield Gn(C.appConfig);throw x}})).apply(this,arguments)}function Rn(C){return void 0!==C&&2===C.registrationStatus}function nr(C){return 2===C.requestStatus&&!function(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function ie(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function we(){return(we=(0,O.Z)(function*(C){const T=C,{installationEntry:x,registrationPromise:U}=yield Bt(T.appConfig);return U?U.catch(console.error):$(T).catch(console.error),x.fid})).apply(this,arguments)}function _t(){return(_t=(0,O.Z)(function*(C,T=!1){const x=C;return yield wt(x.appConfig),(yield $(x,T)).token})).apply(this,arguments)}function wt(C){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(C){const{registrationPromise:T}=yield Bt(C);T&&(yield T)})).apply(this,arguments)}function wr(C){return me.create("missing-app-config-values",{valueName:C})}const dd="installations";(0,ae._registerComponent)(new se.wA(dd,C=>{const T=C.getProvider("app").getImmediate();return{app:T,appConfig:function(C){if(!C||!C.options)throw wr("App Configuration");if(!C.name)throw wr("App Name");const T=["projectId","apiKey","appId"];for(const x of T)if(!C.options[x])throw wr(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T),platformLoggerProvider:(0,ae._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new se.wA("installations-internal",C=>{const T=C.getProvider("app").getImmediate(),x=(0,ae._getProvider)(T,dd).getImmediate();return{getId:()=>function(C){return we.apply(this,arguments)}(x),getToken:J=>function(C){return _t.apply(this,arguments)}(x,J)}},"PRIVATE")),(0,ae.registerVersion)(ne,L),(0,ae.registerVersion)(ne,L,"esm2017");const Zr="@firebase/remote-config",Kn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hd{constructor(T,x,U,J){this.client=T,this.storage=x,this.storageCache=U,this.logger=J}isCachedDataFresh(T,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,J=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${J}.`),J}fetch(T){var x=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(T.cacheMaxAgeMillis,U))return J;T.eTag=J&&J.eTag;const de=yield x.client.fetch(T),xe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&xe.push(x.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(xe),de})()}}function Es(C=navigator){return C.languages&&C.languages[0]||C.language}class cn{constructor(T,x,U,J,de,xe){this.firebaseInstallations=T,this.sdkVersion=x,this.namespace=U,this.projectId=J,this.apiKey=de,this.appId=xe}fetch(T){var x=this;return(0,O.Z)(function*(){const[U,J]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},We={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:x.appId,language_code:Es()},Zt={method:"POST",headers:Ke,body:JSON.stringify(We)},Gt=fetch(xe,Zt),Dr=new Promise((Oo,xs)=>{T.signal.addEventListener(()=>{const Dt=new Error("The operation was aborted.");Dt.name="AbortError",xs(Dt)})});let Ar;try{yield Promise.race([Gt,Dr]),Ar=yield Gt}catch(Oo){let xs="fetch-client-network";throw"AbortError"===Oo.name&&(xs="fetch-timeout"),Kn.create(xs,{originalErrorMessage:Oo.message})}let _r=Ar.status;const os=Ar.headers.get("ETag")||void 0;let Qa,bi;if(200===Ar.status){let Oo;try{Oo=yield Ar.json()}catch(xs){throw Kn.create("fetch-client-parse",{originalErrorMessage:xs.message})}Qa=Oo.entries,bi=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===bi?_r=500:"NO_CHANGE"===bi?_r=304:("NO_TEMPLATE"===bi||"EMPTY_CONFIG"===bi)&&(Qa={}),304!==_r&&200!==_r)throw Kn.create("fetch-status",{httpStatus:_r});return{status:_r,eTag:os,config:Qa}})()}}class Oa{constructor(T,x){this.client=T,this.storage=x}fetch(T){var x=this;return(0,O.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:x,backoffCount:U}){var J=this;return(0,O.Z)(function*(){yield function(C,T){return new Promise((x,U)=>{const J=Math.max(T-Date.now(),0),de=setTimeout(x,J);C.addEventListener(()=>{clearTimeout(de),U(Kn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,x);try{const de=yield J.client.fetch(T);return yield J.storage.deleteThrottleMetadata(),de}catch(de){if(!function(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(de))throw de;const xe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(xe),J.attemptFetch(T,xe)}})()}}class fd{constructor(T,x,U,J,de){this.app=T,this._client=x,this._storageCache=U,this._storage=J,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wu(C,T){const x=C.target.error||void 0;return Kn.create(T,{originalErrorMessage:x&&x.message})}const ws="app_namespace_store";class gd{constructor(T,x,U,J=function(){return new Promise((C,T)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{T(wu(U,"storage-open"))},x.onsuccess=U=>{C(U.target.result)},x.onupgradeneeded=U=>{const J=U.target.result;switch(U.oldVersion){case 0:J.createObjectStore(ws,{keyPath:"compositeKey"})}}}catch(x){T(Kn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=T,this.appName=x,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((J,de)=>{const Ke=U.transaction([ws],"readonly").objectStore(ws),We=x.createCompositeKey(T);try{const Zt=Ke.get(We);Zt.onerror=Gt=>{de(wu(Gt,"storage-get"))},Zt.onsuccess=Gt=>{const Dr=Gt.target.result;J(Dr?Dr.value:void 0)}}catch(Zt){de(Kn.create("storage-get",{originalErrorMessage:Zt&&Zt.message}))}})})()}set(T,x){var U=this;return(0,O.Z)(function*(){const J=yield U.openDbPromise;return new Promise((de,xe)=>{const We=J.transaction([ws],"readwrite").objectStore(ws),Zt=U.createCompositeKey(T);try{const Gt=We.put({compositeKey:Zt,value:x});Gt.onerror=Dr=>{xe(wu(Dr,"storage-set"))},Gt.onsuccess=()=>{de()}}catch(Gt){xe(Kn.create("storage-set",{originalErrorMessage:Gt&&Gt.message}))}})})()}delete(T){var x=this;return(0,O.Z)(function*(){const U=yield x.openDbPromise;return new Promise((J,de)=>{const Ke=U.transaction([ws],"readwrite").objectStore(ws),We=x.createCompositeKey(T);try{const Zt=Ke.delete(We);Zt.onerror=Gt=>{de(wu(Gt,"storage-delete"))},Zt.onsuccess=()=>{J()}}catch(Zt){de(Kn.create("storage-delete",{originalErrorMessage:Zt&&Zt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ug{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,O.Z)(function*(){const x=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),J=T.storage.getActiveConfig(),de=yield x;de&&(T.lastFetchStatus=de);const xe=yield U;xe&&(T.lastSuccessfulFetchTimestampMillis=xe);const Ke=yield J;Ke&&(T.activeConfig=Ke)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Cf(){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new se.wA("remote-config",function(T,{instanceIdentifier:x}){const U=T.getProvider("app").getImmediate(),J=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Kn.create("registration-window");if(!(0,oe.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:de,apiKey:xe,appId:Ke}=U.options;if(!de)throw Kn.create("registration-project-id");if(!xe)throw Kn.create("registration-api-key");if(!Ke)throw Kn.create("registration-app-id");const We=new gd(Ke,U.name,x=x||"firebase"),Zt=new Ug(We),Gt=new ye.Yd(Zr);Gt.logLevel=ye.in.ERROR;const Dr=new cn(J,ae.SDK_VERSION,x,de,xe,Ke),Ar=new Oa(Dr,We),_r=new hd(Ar,We,Zt,Gt),os=new fd(U,_r,Zt,We,Gt);return function(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(os),os},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Zr,"0.3.4"),(0,ae.registerVersion)(Zr,"0.3.4","esm2017");const Bg="/firebase-messaging-sw.js",_d="/firebase-cloud-messaging-push-scope",Wc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vo="google.c.a.c_id",Qi="google.c.a.c_l",yd="google.c.a.ts",If="google.c.a.e";var _i=(()=>{return(C=_i||(_i={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",_i;var C})();function yi(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vd(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),J=new Uint8Array(U.length);for(let de=0;de<U.length;++de)J[de]=U.charCodeAt(de);return J}const bo="fcm_token_details_db",zc="fcm_token_object_Store";function Tf(C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(bo))return null;let T=null;return(yield(0,ue.openDb)(bo,5,function(){var U=(0,O.Z)(function*(J){var de;if(J.oldVersion<2||!J.objectStoreNames.contains(zc))return;const xe=J.transaction.objectStore(zc),Ke=yield xe.index("fcmSenderId").get(C);if(yield xe.clear(),Ke)if(2===J.oldVersion){const We=Ke;if(!We.auth||!We.p256dh||!We.endpoint)return;T={token:We.fcmToken,createTime:null!==(de=We.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:yi(We.vapidKey)}}}else if(3===J.oldVersion){const We=Ke;T={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:yi(We.auth),p256dh:yi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:yi(We.vapidKey)}}}else if(4===J.oldVersion){const We=Ke;T={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:yi(We.auth),p256dh:yi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:yi(We.vapidKey)}}}});return function(J){return U.apply(this,arguments)}}())).close(),yield(0,ue.deleteDb)(bo),yield(0,ue.deleteDb)("fcm_vapid_details_db"),yield(0,ue.deleteDb)("undefined"),Kc(T)?T:null})).apply(this,arguments)}function Kc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const fr="firebase-messaging-store";let Zs=null;function Yc(){return Zs||(Zs=(0,ue.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(fr)}})),Zs}function Gs(C){return kr.apply(this,arguments)}function kr(){return(kr=(0,O.Z)(function*(C){const T=Du(C),U=yield(yield Yc()).transaction(fr).objectStore(fr).get(T);if(U)return U;{const J=yield Tf(C.appConfig.senderId);if(J)return yield Xi(C,J),J}})).apply(this,arguments)}function Xi(C,T){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,O.Z)(function*(C,T){const x=Du(C),J=(yield Yc()).transaction(fr,"readwrite");return yield J.objectStore(fr).put(T,x),yield J.complete,T})).apply(this,arguments)}function Mn(C){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,O.Z)(function*(C){const T=Du(C),U=(yield Yc()).transaction(fr,"readwrite");yield U.objectStore(fr).delete(T),yield U.complete})).apply(this,arguments)}function Du({appConfig:C}){return C.appId}const vt=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sf(C,T){return ka.apply(this,arguments)}function ka(){return(ka=(0,O.Z)(function*(C,T){const x=yield Fr(C),U=Eo(T),J={method:"POST",headers:x,body:JSON.stringify(U)};let de;try{de=yield(yield fetch(Ws(C.appConfig),J)).json()}catch(xe){throw vt.create("token-subscribe-failed",{errorInfo:xe})}if(de.error)throw vt.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw vt.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Au(C,T){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(C,T){const x=yield Fr(C),U=Eo(T.subscriptionOptions),J={method:"PATCH",headers:x,body:JSON.stringify(U)};let de;try{de=yield(yield fetch(`${Ws(C.appConfig)}/${T.token}`,J)).json()}catch(xe){throw vt.create("token-update-failed",{errorInfo:xe})}if(de.error)throw vt.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw vt.create("token-update-no-token");return de.token})).apply(this,arguments)}function Jc(C,T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,O.Z)(function*(C,T){const U={method:"DELETE",headers:yield Fr(C)};try{const de=yield(yield fetch(`${Ws(C.appConfig)}/${T}`,U)).json();if(de.error)throw vt.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(J){throw vt.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Ws({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Fr(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,O.Z)(function*({appConfig:C,installations:T}){const x=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Eo({p256dh:C,auth:T,endpoint:x,vapidKey:U}){const J={web:{endpoint:x,auth:T,p256dh:C}};return U!==Wc&&(J.web.applicationPubKey=U),J}const Xc=6048e5;function Is(C){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(C){const T=yield Fa(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:yi(T.getKey("auth")),p256dh:yi(T.getKey("p256dh"))},U=yield Gs(C.firebaseDependencies);if(U){if(xu(U.subscriptionOptions,x))return Date.now()>=U.createTime+Xc?bd(C,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield Jc(C.firebaseDependencies,U.token)}catch(J){console.warn(J)}return wo(C.firebaseDependencies,x)}return wo(C.firebaseDependencies,x)})).apply(this,arguments)}function Xo(C){return ut.apply(this,arguments)}function ut(){return(ut=(0,O.Z)(function*(C){const T=yield Gs(C.firebaseDependencies);T&&(yield Jc(C.firebaseDependencies,T.token),yield Mn(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function bd(C,T){return es.apply(this,arguments)}function es(){return(es=(0,O.Z)(function*(C,T){try{const x=yield Au(C.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:x,createTime:Date.now()});return yield Xi(C.firebaseDependencies,U),x}catch(x){throw yield Xo(C),x}})).apply(this,arguments)}function wo(C,T){return ea.apply(this,arguments)}function ea(){return(ea=(0,O.Z)(function*(C,T){const U={token:yield Sf(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Xi(C,U),U.token})).apply(this,arguments)}function Fa(C,T){return zs.apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vd(T)})})).apply(this,arguments)}function xu(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Ae(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function(C,T){if(!T.notification)return;C.notification={};const x=T.notification.title;x&&(C.notification.title=x);const U=T.notification.body;U&&(C.notification.body=U);const J=T.notification.image;J&&(C.notification.image=J)}(T,C),function(C,T){!T.data||(C.data=T.data)}(T,C),function(C,T){if(!T.fcmOptions)return;C.fcmOptions={};const x=T.fcmOptions.link;x&&(C.fcmOptions.link=x);const U=T.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(T,C),T}function el(C){return"object"==typeof C&&!!C&&vo in C}function Ks(C,T){const x=[];for(let U=0;U<C.length;U++)x.push(C.charAt(U)),U<T.length&&x.push(T.charAt(U));return x.join("")}function Co(C){return vt.create("missing-app-config-values",{valueName:C})}Ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ta{constructor(T,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(C){if(!C||!C.options)throw Co("App Configuration Object");if(!C.name)throw Co("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const U of T)if(!x[U])throw Co(U);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:J,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Mu(C){return La.apply(this,arguments)}function La(){return(La=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Bg,{scope:_d}),C.swRegistration.update().catch(()=>{})}catch(T){throw vt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Ys(C,T){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,O.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield Mu(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw vt.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Wr(C,T){return zr.apply(this,arguments)}function zr(){return(zr=(0,O.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Wc)})).apply(this,arguments)}function ns(){return(ns=(0,O.Z)(function*(C,T){if(!navigator)throw vt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vt.create("permission-blocked");return yield Wr(C,null==T?void 0:T.vapidKey),yield Ys(C,null==T?void 0:T.serviceWorkerRegistration),Is(C)})).apply(this,arguments)}function Ts(C,T,x){return Va.apply(this,arguments)}function Va(){return(Va=(0,O.Z)(function*(C,T,x){const U=tl(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[vo],message_name:x[Qi],message_time:x[yd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function tl(C){switch(C){case _i.NOTIFICATION_CLICKED:return"notification_open";case _i.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ou(){return(Ou=(0,O.Z)(function*(C,T){const x=T.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===_i.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ae(x)):C.onMessageHandler.next(Ae(x)));const U=x.data;el(U)&&"1"===U[If]&&(yield Ts(C,x.messageType,U))})).apply(this,arguments)}const na="@firebase/messaging";function Fu(){return Io.apply(this,arguments)}function Io(){return(Io=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new se.wA("messaging",C=>{const T=new ta(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,T){return Ou.apply(this,arguments)}(T,x)),T},"PUBLIC")),(0,ae._registerComponent)(new se.wA("messaging-internal",C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,T){return ns.apply(this,arguments)}(T,U)}},"PRIVATE")),(0,ae.registerVersion)(na,"0.9.7"),(0,ae.registerVersion)(na,"0.9.7","esm2017");const Ui="analytics",vn="firebase_id",sl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vu="https://www.googletagmanager.com/gtag/js",pr=new ye.Yd("@firebase/analytics");function Td(C){return Promise.all(C.map(T=>T.catch(x=>x)))}function Ba(C,T){const x=document.createElement("script");x.src=`${Vu}?l=${C}&id=${T}`,x.async=!0,document.head.appendChild(x)}function ol(C,T,x,U,J,de){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(C,T,x,U,J,de){const xe=U[J];try{if(xe)yield T[xe];else{const We=(yield Td(x)).find(Zt=>Zt.measurementId===J);We&&(yield T[We.appId])}}catch(Ke){pr.error(Ke)}C("config",J,de)})).apply(this,arguments)}function al(C,T,x,U,J){return ul.apply(this,arguments)}function ul(){return(ul=(0,O.Z)(function*(C,T,x,U,J){try{let de=[];if(J&&J.send_to){let xe=J.send_to;Array.isArray(xe)||(xe=[xe]);const Ke=yield Td(x);for(const We of xe){const Zt=Ke.find(Dr=>Dr.measurementId===We),Gt=Zt&&T[Zt.appId];if(!Gt){de=[];break}de.push(Gt)}}0===de.length&&(de=Object.values(T)),yield Promise.all(de),C("event",U,J||{})}catch(de){pr.error(de)}})).apply(this,arguments)}function $g(){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(Vu))return T;return null}const Lr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qg=new class{constructor(T={},x=1e3){this.throttleMetadata=T,this.intervalMillis=x}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,x){this.throttleMetadata[T]=x}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Vy(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function $a(C){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*(C){var T;const{appId:x,apiKey:U}=C,J={method:"GET",headers:Vy(U)},de=sl.replace("{app-id}",x),xe=yield fetch(de,J);if(200!==xe.status&&304!==xe.status){let Ke="";try{const We=yield xe.json();(null===(T=We.error)||void 0===T?void 0:T.message)&&(Ke=We.error.message)}catch(We){}throw Lr.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Ke})}return xe.json()})).apply(this,arguments)}function Js(C){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,O.Z)(function*(C,T=qg,x){const{appId:U,apiKey:J,measurementId:de}=C.options;if(!U)throw Lr.create("no-app-id");if(!J){if(de)return{measurementId:de,appId:U};throw Lr.create("no-api-key")}const xe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new So;return setTimeout((0,O.Z)(function*(){Ke.abort()}),void 0!==x?x:6e4),Dd({appId:U,apiKey:J,measurementId:de},xe,Ke,T)})).apply(this,arguments)}function Dd(C,T,x){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,O.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:x},U,J=qg){const{appId:de,measurementId:xe}=C;try{yield Ha(U,T)}catch(Ke){if(xe)return pr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:de,measurementId:xe};throw Ke}try{const Ke=yield $a(C);return J.deleteThrottleMetadata(de),Ke}catch(Ke){if(!Nf(Ke)){if(J.deleteThrottleMetadata(de),xe)return pr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:de,measurementId:xe};throw Ke}const We=503===Number(Ke.customData.httpStatus)?(0,oe.$s)(x,J.intervalMillis,30):(0,oe.$s)(x,J.intervalMillis),Zt={throttleEndTimeMillis:Date.now()+We,backoffCount:x+1};return J.setThrottleMetadata(de,Zt),pr.debug(`Calling attemptFetch again in ${We} millis`),Dd(C,Zt,U,J)}})).apply(this,arguments)}function Ha(C,T){return new Promise((x,U)=>{const J=Math.max(T-Date.now(),0),de=setTimeout(x,J);C.addEventListener(()=>{clearTimeout(de),U(Lr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Nf(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class So{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Bu(){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(){if(!(0,oe.hl)())return pr.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return pr.warn(Lr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ju(){return(ju=(0,O.Z)(function*(C,T,x,U,J,de,xe){var Ke;const We=Js(C);We.then(_r=>{x[_r.measurementId]=_r.appId,C.options.measurementId&&_r.measurementId!==C.options.measurementId&&pr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${_r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_r=>pr.error(_r)),T.push(We);const Zt=Bu().then(_r=>{if(_r)return U.getId()}),[Gt,Dr]=yield Promise.all([We,Zt]);$g()||Ba(de,Gt.measurementId),J("js",new Date);const Ar=null!==(Ke=null==xe?void 0:xe.config)&&void 0!==Ke?Ke:{};return Ar.origin="firebase",Ar.update=!0,null!=Dr&&(Ar[vn]=Dr),J("config",Gt.measurementId,Ar),Gt.measurementId})).apply(this,arguments)}class un{constructor(T){this.app=T}_delete(){return delete Xe[this.app.options.appId],Promise.resolve()}}let Xe={},As=[];const sa={};let Ss,Qn,gr="dataLayer",ll=!1;function Kt(C,T,x){!function(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((U,J)=>`(${J+1}) ${U}`).join(" "),x=Lr.create("invalid-analytics-context",{errorInfo:T});pr.warn(x.message)}}();const U=C.options.appId;if(!U)throw Lr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Lr.create("no-api-key");pr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xe[U])throw Lr.create("already-exists",{id:U});if(!ll){!function(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(gr);const{wrappedGtag:de,gtagCore:xe}=function(C,T,x,U,J){let de=function(...xe){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(de=window[J]),window[J]=function(C,T,x,U){function de(){return(de=(0,O.Z)(function*(xe,Ke,We){try{"event"===xe?yield al(C,T,x,Ke,We):"config"===xe?yield ol(C,T,x,U,Ke,We):C("set",Ke)}catch(Zt){pr.error(Zt)}})).apply(this,arguments)}return function(xe,Ke,We){return de.apply(this,arguments)}}(de,C,T,x),{gtagCore:de,wrappedGtag:window[J]}}(Xe,As,sa,gr,"gtag");Qn=de,Ss=xe,ll=!0}return Xe[U]=function(C,T,x,U,J,de,xe){return ju.apply(this,arguments)}(C,As,sa,T,Ss,gr,x),new un(C)}function Ga(){return(Ga=(0,O.Z)(function*(C,T,x,U,J){if(J&&J.global)C("event",x,U);else{const de=yield T;C("event",x,Object.assign(Object.assign({},U),{send_to:de}))}})).apply(this,arguments)}function Ro(){return rs.apply(this,arguments)}function rs(){return(rs=(0,O.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}const Zg="@firebase/analytics";(0,ae._registerComponent)(new se.wA(Ui,(T,{options:x})=>Kt(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new se.wA("analytics-internal",function(T){try{const x=T.getProvider(Ui).getImmediate();return{logEvent:(U,J,de)=>function(C,T,x,U){C=(0,oe.m9)(C),function(C,T,x,U,J){return Ga.apply(this,arguments)}(Qn,Xe[C.app.options.appId],T,x,U).catch(J=>pr.error(J))}(x,U,J,de)}}catch(x){throw Lr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(Zg,"0.7.5"),(0,ae.registerVersion)(Zg,"0.7.5","esm2017");var Md=F(7771),On=F(3637),Hu=F(3342),Mo=F(309),Nd=F(3101);const Gg=new d.GfV("7.2.0"),fl="__angularfire_symbol__analyticsIsSupported",no="__angularfire_symbol__remoteConfigIsSupported",Od="__angularfire_symbol__messagingIsSupported";function Zu(C,T,x){if(T){if(1===T.length)return T[0];const de=T.filter(xe=>xe.app===x);if(1===de.length)return de[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[fl]||(globalThis[fl]=Ro().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Od]||(globalThis[Od]=Fu().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[no]||(globalThis[no]=Cf().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const Ka=(C,T)=>{const x=T?[T]:(0,B.C6)(),U=[];return x.forEach(J=>{J.container.getProvider(C).instances.forEach(xe=>{U.includes(xe)||U.push(xe)})}),U};function Ya(){}class Pd{constructor(T,x=Md.N){this.zone=T,this.delegate=x}now(){return this.delegate.now()}schedule(T,x,U){const J=this.zone;return this.delegate.schedule(function(xe){J.runGuarded(()=>{T.apply(this,[xe])})},x,U)}}class ri{constructor(T){this.zone=T,this.task=null}call(T,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ya,{},Ya,Ya)),x.pipe((0,Hu.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ji=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Pd(Zone.current)),this.insideAngular=x.run(()=>new Pd(Zone.current,On.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ss(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function kd(C){return C.pipe((0,Mo.QV)(ss().outsideAngular))}function Kr(C){return ss(),function(C){return function(x){return(x=x.lift(new ri(C.ngZone))).pipe((0,Nd.R)(C.outsideAngular),(0,Mo.QV)(C.insideAngular))}}(ss())(C)}},538:(et,De,F)=>{"use strict";F.d(De,{$:()=>Wr,A:()=>go,E:()=>Hs,G:()=>cn,I:()=>qs,K:()=>Yi,L:()=>Gs,M:()=>Mn,N:()=>Qc,P:()=>J,Q:()=>Du,R:()=>ss,T:()=>Cs,U:()=>ka,V:()=>Au,W:()=>Fr,X:()=>Ae,Y:()=>Ru,Z:()=>el,_:()=>ta,a:()=>Ss,a0:()=>Nu,a1:()=>Ts,a2:()=>tl,a3:()=>Ou,a4:()=>Pu,a5:()=>Ed,a6:()=>xf,a7:()=>Io,a8:()=>wd,a9:()=>Id,aA:()=>zu,aB:()=>Rs,aC:()=>dr,aG:()=>Za,aJ:()=>vt,aa:()=>Ly,ab:()=>Ui,ae:()=>sl,af:()=>pr,ag:()=>Td,aj:()=>Su,ak:()=>Rf,am:()=>Dd,an:()=>qa,ao:()=>Ma,ap:()=>Zn,aq:()=>ir,ar:()=>bs,as:()=>Vn,at:()=>qd,au:()=>ml,av:()=>Xt,aw:()=>Re,ax:()=>In,ay:()=>yn,az:()=>Ns,b:()=>gr,c:()=>_r,d:()=>Oo,e:()=>Qa,f:()=>Wu,g:()=>so,h:()=>Ms,i:()=>Md,j:()=>zg,k:()=>Zd,l:()=>Kr,m:()=>Hf,o:()=>tr,r:()=>Ff,s:()=>kd,u:()=>x,z:()=>Wi});var d=F(8239),B=F(3854),O=F(8026);function ye(v,p){var m={};for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&p.indexOf(E)<0&&(m[E]=v[E]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(E=Object.getOwnPropertySymbols(v);S<E.length;S++)p.indexOf(E[S])<0&&Object.prototype.propertyIsEnumerable.call(v,E[S])&&(m[E[S]]=v[E[S]])}return m}var ot=F(5422),kt=F(3910);const tr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},go={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Wi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},zi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gi=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ut=new ot.Yd("@firebase/auth");function Sn(v,...p){Ut.logLevel<=ot.in.ERROR&&Ut.error(`Auth (${O.SDK_VERSION}): ${v}`,...p)}function Vn(v,...p){throw $r(v,...p)}function Xt(v,...p){return $r(v,...p)}function hn(v,p,m){const E=Object.assign(Object.assign({},zi()),{[p]:m});return new B.LL("auth","Firebase",E).create(p,{appName:v.name})}function Fi(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Vn(v,"argument-error"),hn(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $r(v,...p){if("string"!=typeof v){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return gi.create(v,...p)}function Re(v,p,...m){if(!v)throw $r(p,...m)}function fn(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Sn(p),new Error(p)}function Zn(v,p){v||fn(p)}const mi=new Map;function In(v){Zn(v instanceof Function,"Expected a class definition");let p=mi.get(v);return p?(Zn(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,mi.set(v,p),p)}function Hr(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function st(){return"http:"===Se()||"https:"===Se()}function Se(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,Zn(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(st()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function qt(v,p){Zn(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Ge{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Er=new tn(3e4,6e4);function an(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Yt(v,p,m,E){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(v,p,m,E,S={}){return en(v,S,(0,d.Z)(function*(){let R={},K={};E&&("GET"===p?K=E:R={body:JSON.stringify(E)});const be=(0,B.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Ze=yield v._getAdditionalHeaders();return Ze["Content-Type"]="application/json",v.languageCode&&(Ze["X-Firebase-Locale"]=v.languageCode),Ge.fetch()($(v,v.config.apiHost,m,be),Object.assign({method:p,headers:Ze,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function en(v,p,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(v,p,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Qe),p);try{const S=new Ce(v),R=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const K=yield R.json();if("needConfirmation"in K)throw re(v,"account-exists-with-different-credential",K);if(R.ok&&!("errorMessage"in K))return K;{const be=R.ok?K.errorMessage:K.error.message,[Ze,ke]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw re(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ze)throw re(v,"email-already-in-use",K);const at=E[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw hn(v,at,ke);Vn(v,at)}}catch(S){if(S instanceof B.ZR)throw S;Vn(v,"network-request-failed")}})).apply(this,arguments)}function H(v,p,m,E){return W.apply(this,arguments)}function W(){return(W=(0,d.Z)(function*(v,p,m,E,S={}){const R=yield Yt(v,p,m,E,S);return"mfaPendingCredential"in R&&Vn(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function $(v,p,m,E){const S=`${p}${m}?${E}`;return v.config.emulator?qt(v.config,S):`${v.config.apiScheme}://${S}`}class Ce{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Xt(this.auth,"network-request-failed")),Er.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function re(v,p,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=Xt(v,p,E);return S.customData._tokenResponse=m,S}function $e(){return($e=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Qt(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rn(v,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Nt(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Z(){return(Z=(0,d.Z)(function*(v,p=!1){const m=(0,B.m9)(v),E=yield m.getIdToken(p),S=je(E);Re(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,K=null==R?void 0:R.sign_in_provider;return{claims:S,token:E,authTime:Nt(we(S.auth_time)),issuedAtTime:Nt(we(S.iat)),expirationTime:Nt(we(S.exp)),signInProvider:K||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function we(v){return 1e3*Number(v)}function je(v){const[p,m,E]=v.split(".");if(void 0===p||void 0===m||void 0===E)return Sn("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(m);return S?JSON.parse(S):(Sn("Failed to decode base64 JWT payload"),null)}catch(S){return Sn("Caught error parsing JWT payload as JSON",S),null}}function wt(v,p){return $t.apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof B.ZR&&Un(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Un({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Wn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class rr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nt(this.lastLoginAt),this.creationTime=Nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ft(v){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.Z)(function*(v){var p;const m=v.auth,E=yield v.getIdToken(),S=yield wt(v,Rn(m,{idToken:E}));Re(null==S?void 0:S.users.length,m,"internal-error");const R=S.users[0];v._notifyReloadListener(R);const K=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?wr(R.providerUserInfo):[],be=mo(v.providerData,K),at=!!v.isAnonymous&&!(v.email&&R.passwordHash||(null==be?void 0:be.length)),Wt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:be,metadata:new rr(R.createdAt,R.lastLoginAt),isAnonymous:at};Object.assign(v,Wt)})).apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(v){const p=(0,B.m9)(v);yield Ft(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function mo(v,p){return[...v.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}function wr(v){return v.map(p=>{var{providerId:m}=p,E=ye(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function qr(){return(qr=(0,d.Z)(function*(v,p){const m=yield en(v,{},(0,d.Z)(function*(){const E=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=v.config,K=$(v,S,"/v1/token",`key=${R}`),be=yield v._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(K,{method:"POST",headers:be,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Re(p.idToken,"internal-error"),Re(void 0!==p.idToken,"internal-error"),Re(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=je(v);return Re(p,"internal-error"),Re(void 0!==p.exp,"internal-error"),Re(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,d.Z)(function*(){return Re(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:K}=yield function(v,p){return qr.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(S,R,Number(K))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:S,expirationTime:R}=m,K=new Be;return E&&(Re("string"==typeof E,"internal-error",{appName:p}),K.refreshToken=E),S&&(Re("string"==typeof S,"internal-error",{appName:p}),K.accessToken=S),R&&(Re("number"==typeof R,"internal-error",{appName:p}),K.expirationTime=R),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Be,this.toJSON())}_performRefresh(){return fn("not implemented")}}function ht(v,p){Re("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Jt{constructor(p){var{uid:m,auth:E,stsTokenManager:S}=p,R=ye(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.metadata=new rr(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const E=yield wt(m,m.stsTokenManager.getToken(m.auth,p));return Re(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function(v){return Z.apply(this,arguments)}(this,p)}reload(){return function(v){return Ki.apply(this,arguments)}(this)}_assign(p){this!==p&&(Re(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Jt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,d.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Ft(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield wt(p,function(v,p){return $e.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,S,R,K,be,Ze,ke,at;const Wt=null!==(E=m.displayName)&&void 0!==E?E:void 0,pn=null!==(S=m.email)&&void 0!==S?S:void 0,Vr=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,Lo=null!==(K=m.photoURL)&&void 0!==K?K:void 0,la=null!==(be=m.tenantId)&&void 0!==be?be:void 0,El=null!==(Ze=m._redirectEventId)&&void 0!==Ze?Ze:void 0,Wd=null!==(ke=m.createdAt)&&void 0!==ke?ke:void 0,im=null!==(at=m.lastLoginAt)&&void 0!==at?at:void 0,{uid:Dn,emailVerified:sm,isAnonymous:zd,providerData:as,stsTokenManager:qf}=m;Re(Dn&&qf,p,"internal-error");const ru=Be.fromJSON(this.name,qf);Re("string"==typeof Dn,p,"internal-error"),ht(Wt,p.name),ht(pn,p.name),Re("boolean"==typeof sm,p,"internal-error"),Re("boolean"==typeof zd,p,"internal-error"),ht(Vr,p.name),ht(Lo,p.name),ht(la,p.name),ht(El,p.name),ht(Wd,p.name),ht(im,p.name);const Zf=new Jt({uid:Dn,auth:p,email:pn,emailVerified:sm,displayName:Wt,isAnonymous:zd,photoURL:Lo,phoneNumber:Vr,tenantId:la,stsTokenManager:ru,createdAt:Wd,lastLoginAt:im});return as&&Array.isArray(as)&&(Zf.providerData=as.map(qy=>Object.assign({},qy))),El&&(Zf._redirectEventId=El),Zf}static _fromIdTokenResponse(p,m,E=!1){return(0,d.Z)(function*(){const S=new Be;S.updateFromServerResponse(m);const R=new Jt({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield Ft(R),R})()}}const Yi=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,d.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,d.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,d.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function yn(v,p,m){return`firebase:${v}:${p}:${m}`}class Cr{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:S,name:R}=this.auth;this.fullUserKey=yn(this.userKey,S.apiKey,R),this.fullPersistenceKey=yn("persistence",S.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Jt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,d.Z)(function*(){if(!m.length)return new Cr(In(Yi),p,E);const S=(yield Promise.all(m.map(function(){var ke=(0,d.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let R=S[0]||In(Yi);const K=yn(E,p.config.apiKey,p.name);let be=null;for(const ke of m)try{const at=yield ke._get(K);if(at){const Wt=Jt._fromJSON(p,at);ke!==R&&(be=Wt),R=ke;break}}catch(at){}const Ze=S.filter(ke=>ke._shouldAllowMigration);return R._shouldAllowMigration&&Ze.length?(R=Ze[0],be&&(yield R._set(K,be.toJSON())),yield Promise.all(m.map(function(){var ke=(0,d.Z)(function*(at){if(at!==R)try{yield at._remove(K)}catch(Wt){}});return function(at){return ke.apply(this,arguments)}}())),new Cr(R,p,E)):new Cr(R,p,E)})()}}function Tn(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ra(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Kn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(vu(p))return"Blackberry";if(ei(p))return"Webos";if(_o(p))return"Safari";if((p.includes("chrome/")||Ct(p))&&!p.includes("edge/"))return"Chrome";if(bs(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Kn(v=(0,B.z$)()){return/firefox\//i.test(v)}function _o(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ct(v=(0,B.z$)()){return/crios\//i.test(v)}function Ra(v=(0,B.z$)()){return/iemobile/i.test(v)}function bs(v=(0,B.z$)()){return/android/i.test(v)}function vu(v=(0,B.z$)()){return/blackberry/i.test(v)}function ei(v=(0,B.z$)()){return/webos/i.test(v)}function ir(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function Ma(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function rn(v=(0,B.z$)()){return ir(v)||bs(v)||ei(v)||vu(v)||/windows phone/i.test(v)||Ra(v)}function qc(v,p=[]){let m;switch(v){case"Browser":m=Tn((0,B.z$)());break;case"Worker":m=`${Tn((0,B.z$)())}-${v}`;break;default:m=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${O.SDK_VERSION}/${E}`}class Zc{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bu(this),this.idTokenSubscription=new bu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=In(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,R;if(!E._deleted&&(E.persistenceManager=yield Cr.create(E,p),!E._deleted)){if(null===(S=E._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(K){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(R=E.currentUser)||void 0===R?void 0:R.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var E;let S=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const R=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,K=null==S?void 0:S._redirectEventId,be=yield m.tryRedirectSignIn(p);(!R||R===K)&&(null==be?void 0:be.user)&&(S=be.user)}return S?S._redirectEventId?(Re(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield Ft(p)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const E=p?(0,B.m9)(p):null;return E&&Re(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){if(!m._deleted)return p&&Re(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,d.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(In(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,d.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&In(p)||m._popupRedirectResolver;Re(E,m,"argument-error"),m.redirectPersistenceManager=yield Cr.create(m,[In(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,S){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),K=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(K,this,"internal-error"),K.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,E,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=qc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function dr(v){return(0,B.m9)(v)}class bu{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hs(v,p,m){const E=dr(v);Re(E._canInitEmulator,E,"emulator-config-failed"),Re(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),R=yo(p),{host:K,port:be}=function(v){const p=yo(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const R=S[1];return{host:R,port:hd(E.substr(R.length+1))}}{const[R,K]=E.split(":");return{host:R,port:hd(K)}}}(p);E.config.emulator={url:`${R}//${K}${null===be?"":`:${be}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:K,port:be,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function yo(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function hd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class cn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return fn("not implemented")}_getIdTokenResponse(p){return fn("not implemented")}_linkToIdToken(p,m){return fn("not implemented")}_getReauthenticationResolver(p){return fn("not implemented")}}function Eu(v,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:resetPassword",an(v,p))})).apply(this,arguments)}function Oa(v,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wf(v,p){return fd.apply(this,arguments)}function fd(){return(fd=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",an(v,p))})).apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithPassword",an(v,p))})).apply(this,arguments)}function Gc(v,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:sendOobCode",an(v,p))})).apply(this,arguments)}function Vg(v,p){return gd.apply(this,arguments)}function gd(){return(gd=(0,d.Z)(function*(v,p){return Gc(v,p)})).apply(this,arguments)}function Ug(v,p){return md.apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(v,p){return Gc(v,p)})).apply(this,arguments)}function Fy(v,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(v,p){return Gc(v,p)})).apply(this,arguments)}function Cf(v,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(v,p){return Gc(v,p)})).apply(this,arguments)}function _d(){return(_d=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithEmailLink",an(v,p))})).apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithEmailLink",an(v,p))})).apply(this,arguments)}class vo extends cn{constructor(p,m,E,S=null){super("password",E),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new vo(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new vo(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function(v,p){return ws.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(v,p){return _d.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Vn(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return Oa(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(v,p){return Tu.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Vn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Qi(v,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithIdp",an(v,p))})).apply(this,arguments)}class qs extends cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new qs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Vn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=m,R=ye(m,["providerId","signInMethod"]);if(!E||!S)return null;const K=new qs(E,S);return K.idToken=R.idToken||void 0,K.accessToken=R.accessToken||void 0,K.secret=R.secret,K.nonce=R.nonce,K.pendingToken=R.pendingToken||null,K}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Qi(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function _i(v,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:sendVerificationCode",an(v,p))})).apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,p))})).apply(this,arguments)}function zc(){return(zc=(0,d.Z)(function*(v,p){const m=yield H(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,p));if(m.temporaryProof)throw re(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Tf={USER_NOT_FOUND:"user-not-found"};function Kc(){return(Kc=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Tf)})).apply(this,arguments)}class Ji extends cn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ji({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ji({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(v,p){return bo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(v,p){return zc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return Kc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:R}=p;return E||m||S||R?new Ji({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:R}):null}}class Zs{constructor(p){var m,E,S,R,K,be;const Ze=(0,B.zd)((0,B.pd)(p)),ke=null!==(m=Ze.apiKey)&&void 0!==m?m:null,at=null!==(E=Ze.oobCode)&&void 0!==E?E:null,Wt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ze.mode)&&void 0!==S?S:null);Re(ke&&at&&Wt,"argument-error"),this.apiKey=ke,this.operation=Wt,this.code=at,this.continueUrl=null!==(R=Ze.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(K=Ze.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(be=Ze.tenantId)&&void 0!==be?be:null}static parseLink(p){const m=function(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,E=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(E?(0,B.zd)((0,B.pd)(E)).link:null)||E||m||p||v}(p);try{return new Zs(m)}catch(E){return null}}}let Gs=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return vo._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=Zs.parseLink(E);return Re(S,"argument-error"),vo._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class kr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Xi extends kr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Cs extends Xi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Re("providerId"in m&&"signInMethod"in m,"argument-error"),qs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Re(p.idToken||p.accessToken,"argument-error"),qs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Cs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Cs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:R,nonce:K,providerId:be}=p;if(!E&&!S&&!m&&!R||!be)return null;try{return new Cs(be)._credential({idToken:m,accessToken:E,nonce:K,pendingToken:R})}catch(Ze){return null}}}let Mn=(()=>{class v extends Xi{constructor(){super("facebook.com")}static credential(m){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Qc=(()=>{class v extends Xi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return v.credential(E,S)}catch(R){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Du=(()=>{class v extends Xi{constructor(){super("github.com")}static credential(m){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class vt extends cn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Qi(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Qi(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Qi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:R}=m;return E&&S&&R&&E===S?new vt(E,R):null}static _create(p,m){return new vt(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ka extends kr{constructor(p){Re(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ka.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ka.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=vt.fromJSON(p);return Re(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return vt._create(E,m)}catch(S){return null}}}let Au=(()=>{class v extends Xi{constructor(){super("twitter.com")}static credential(m,E){return qs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return v.credential(E,S)}catch(R){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Gr(v,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signUp",an(v,p))})).apply(this,arguments)}class Yn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,S=!1){return(0,d.Z)(function*(){const R=yield Jt._fromIdTokenResponse(p,E,S),K=Ws(E);return new Yn({user:R,providerId:K,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=Ws(E);return new Yn({user:p,providerId:S,_tokenResponse:E,operationType:m})})()}}function Ws(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Fr(v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,d.Z)(function*(v){var p;const m=dr(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Yn({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Gr(m,{returnSecureToken:!0}),S=yield Yn._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Eo extends B.ZR{constructor(p,m,E,S){var R;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Eo.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,S){return new Eo(p,m,E,S)}}function Xc(v,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Eo._fromErrorAndOperation(v,R,p,E):R})}function Is(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Su(v,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(v,p){const m=(0,B.m9)(v);yield es(!0,m,p);const{providerUserInfo:E}=yield Qt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Is(E||[]);return m.providerData=m.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ut(v,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,d.Z)(function*(v,p,m=!1){const E=yield wt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Yn._forOperation(v,"link",E)})).apply(this,arguments)}function es(v,p,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(v,p,m){yield Ft(p);const S=!1===v?"provider-already-linked":"no-such-provider";Re(Is(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function ea(v,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(v,p,m=!1){const{auth:E}=v,S="reauthenticate";try{const R=yield wt(v,Xc(E,S,p,v),m);Re(R.idToken,E,"internal-error");const K=je(R.idToken);Re(K,E,"internal-error");const{sub:be}=K;return Re(v.uid===be,E,"user-mismatch"),Yn._forOperation(v,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Vn(E,"user-mismatch"),R}})).apply(this,arguments)}function zs(v,p){return xu.apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(v,p,m=!1){const E="signIn",S=yield Xc(v,E,p),R=yield Yn._fromIdTokenResponse(v,E,S);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ae(v,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(v,p){return zs(dr(v),p)})).apply(this,arguments)}function Ru(v,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(v,p){const m=(0,B.m9)(v);return yield es(!1,m,p.providerId),ut(m,p)})).apply(this,arguments)}function el(v,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(v,p){return ea((0,B.m9)(v),p)})).apply(this,arguments)}function ts(v,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(v,p){return H(v,"POST","/v1/accounts:signInWithCustomToken",an(v,p))})).apply(this,arguments)}function ta(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(v,p){const m=dr(v),E=yield ts(m,{token:p,returnSecureToken:!0}),S=yield Yn._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class La{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Ys._fromServerResponse(p,m):Vn(p,"internal-error")}}class Ys extends La{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Ys(m)}}function Vi(v,p,m){var E;Re((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),Re(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Re(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Re(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Wr(v,p,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v),S={requestType:"PASSWORD_RESET",email:p};m&&Vi(E,S,m),yield Ug(E,S)})).apply(this,arguments)}function Nu(v,p,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(v,p,m){yield Eu((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ts(v,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(v,p){yield wf((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function tl(v,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.Z)(function*(v,p){const m=(0,B.m9)(v),E=yield Eu(m,{oobCode:p}),S=E.requestType;switch(Re(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(E.mfaInfo,m,"internal-error");default:Re(E.email,m,"internal-error")}let R=null;return E.mfaInfo&&(R=La._fromServerResponse(dr(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function Ou(v,p){return na.apply(this,arguments)}function na(){return(na=(0,d.Z)(function*(v,p){const{data:m}=yield tl((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function Pu(v,p,m){return ku.apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(v,p,m){const E=dr(v),S=yield Gr(E,{returnSecureToken:!0,email:p,password:m}),R=yield Yn._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ed(v,p,m){return Ae((0,B.m9)(v),Gs.credential(p,m))}function xf(v,p,m){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Re(m.handleCodeInApp,E,"argument-error"),m&&Vi(E,S,m),yield Fy(E,S)})).apply(this,arguments)}function Io(v,p){const m=Zs.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function wd(v,p,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v),S=Gs.credentialWithLink(p,m||Hr());return Re(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ae(E,S)})).apply(this,arguments)}function nl(v,p){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:createAuthUri",an(v,p))})).apply(this,arguments)}function Id(v,p){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,d.Z)(function*(v,p){const E={identifier:p,continueUri:st()?Hr():"http://localhost"},{signinMethods:S}=yield nl((0,B.m9)(v),E);return S||[]})).apply(this,arguments)}function Ly(v,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.Z)(function*(v,p){const m=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Vi(m.auth,S,p);const{email:R}=yield Vg(m.auth,S);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ui(v,p,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Vi(E.auth,R,m);const{email:K}=yield Cf(E.auth,R);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function rl(v,p){return il.apply(this,arguments)}function il(){return(il=(0,d.Z)(function*(v,p){return Yt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function sl(v,p){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,B.m9)(v),R={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},K=yield wt(E,rl(E.auth,R));E.displayName=K.displayName||null,E.photoURL=K.photoUrl||null;const be=E.providerData.find(({providerId:Ze})=>"password"===Ze);be&&(be.displayName=E.displayName,be.photoURL=E.photoURL),yield E._updateTokensIfNecessary(K)})).apply(this,arguments)}function pr(v,p){return Ba((0,B.m9)(v),p,null)}function Td(v,p){return Ba((0,B.m9)(v),null,p)}function Ba(v,p,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(v,p,m){const{auth:E}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const K=yield wt(v,Oa(E,R));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Ds{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class al extends Ds{constructor(p,m,E,S){super(p,m,E),this.username=S}}class ul extends Ds{constructor(p,m){super(p,"facebook.com",m)}}class Qs extends al{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class ja extends Ds{constructor(p,m){super(p,"google.com",m)}}class $g extends al{constructor(p,m,E){super(p,"twitter.com",m,E)}}function Rf(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,m;if(!v)return null;const{providerId:E}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const K=null===(m=null===(p=je(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(K)return new Ds(R,"anonymous"!==K&&"custom"!==K?K:null)}if(!E)return null;switch(E){case"facebook.com":return new ul(R,S);case"github.com":return new Qs(R,S);case"google.com":return new ja(R,S);case"twitter.com":return new $g(R,S,v.screenName||null);case"custom":case"anonymous":return new Ds(R,null);default:return new Ds(R,E,S)}}(m)}class Js{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Js("enroll",p)}static _fromMfaPendingCredential(p){return new Js("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Js._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Js._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ao{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=dr(p),S=m.customData._serverResponse,R=(S.mfaInfo||[]).map(be=>La._fromServerResponse(E,be));Re(S.mfaPendingCredential,E,"internal-error");const K=Js._fromMfaPendingCredential(S.mfaPendingCredential);return new Ao(K,R,function(){var be=(0,d.Z)(function*(Ze){const ke=yield Ze._process(E,K);delete S.mfaInfo,delete S.mfaPendingCredential;const at=Object.assign(Object.assign({},S),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(m.operationType){case"signIn":const Wt=yield Yn._fromIdTokenResponse(E,m.operationType,at);return yield E._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return Re(m.user,E,"internal-error"),Yn._forOperation(m.user,m.operationType,at);default:Vn(E,"internal-error")}});return function(Ze){return be.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function Dd(v,p){var m;const E=(0,B.m9)(v),S=p;return Re(p.customData.operationType,E,"argument-error"),Re(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Ao._fromError(E,S)}function Uu(v,p){return Yt(v,"POST","/v2/accounts/mfaEnrollment:start",an(v,p))}class So{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>La._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new So(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Js._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var E=this;return(0,d.Z)(function*(){const S=p,R=yield E.getSession(),K=yield wt(E.user,S._process(E.user.auth,R,m));return yield E.user._updateTokensIfNecessary(K),E.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),R=yield wt(m.user,function(v,p){return Yt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",an(v,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:K})=>K!==E),yield m.user._updateTokensIfNecessary(R);try{yield m.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const Bu=new WeakMap;function qa(v){const p=(0,B.m9)(v);return Bu.has(p)||Bu.set(p,So._fromUser(p)),Bu.get(p)}const cl="__sak";class ju{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(cl,"1"),this.storage.removeItem(cl),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const gr=(()=>{class v extends ju{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,B.z$)();return _o(v)||ir(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=rn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),R=this.localCache[E];S!==R&&m(E,R,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((be,Ze,ke)=>{this.notifyListeners(be,ke)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(S);if(m.newValue!==be)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const R=()=>{const be=this.storage.getItem(S);!E&&this.localCache[S]===be||this.notifyListeners(S,be)},K=this.storage.getItem(S);(0,B.w1)()&&10===document.documentMode&&K!==m.newValue&&m.newValue!==m.oldValue?setTimeout(R,10):R()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,R=this;return(0,d.Z)(function*(){yield S().call(R,m,E),R.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,d.Z)(function*(){const R=yield E().call(S,m);return S.localCache[m]=JSON.stringify(R),R})()}_remove(m){var E=()=>super._remove,S=this;return(0,d.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),Ss=(()=>{class v extends ju{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let ll=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(R=>R.isListeningto(m));if(E)return E;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,d.Z)(function*(){const S=m,{eventId:R,eventType:K,data:be}=S.data,Ze=E.handlersMap[K];if(!(null==Ze?void 0:Ze.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:K});const ke=Array.from(Ze).map(function(){var Wt=(0,d.Z)(function*(pn){return pn(S.origin,be)});return function(pn){return Wt.apply(this,arguments)}}()),at=yield function(v){return Promise.all(v.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(ke);S.ports[0].postMessage({status:"done",eventId:R,eventType:K,response:at})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Za(v="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return v+m}class Ad{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var S=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let K,be;return new Promise((Ze,ke)=>{const at=Za("",20);R.port1.start();const Wt=setTimeout(()=>{ke(new Error("unsupported_event"))},E);be={messageChannel:R,onMessage(pn){const Vr=pn;if(Vr.data.eventId===at)switch(Vr.data.status){case"ack":clearTimeout(Wt),K=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ze(Vr.data.response);break;default:clearTimeout(Wt),clearTimeout(K),ke(new Error("invalid_response"))}}},S.handlers.add(be),R.port1.addEventListener("message",be.onMessage),S.target.postMessage({eventType:p,eventId:at,data:m},[R.port2])}).finally(()=>{be&&S.removeMessageHandler(be)})})()}}function Kt(){return window}function Ga(){return void 0!==Kt().WorkerGlobalScope&&"function"==typeof Kt().importScripts}function Xs(){return(Xs=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Rd="firebaseLocalStorageDb",vi="firebaseLocalStorage",za="fbase_key";class eo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ni(v,p){return v.transaction([vi],p?"readwrite":"readonly").objectStore(vi)}function rs(){const v=indexedDB.open(Rd,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(vi,{keyPath:za})}catch(S){m(S)}}),v.addEventListener("success",(0,d.Z)(function*(){const E=v.result;E.objectStoreNames.contains(vi)?p(E):(E.close(),yield function(){const v=indexedDB.deleteDatabase(Rd);return new eo(v).toPromise()}(),p(yield rs()))}))})}function pt(v,p,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,d.Z)(function*(v,p,m){const E=ni(v,!0).put({[za]:p,value:m});return new eo(E).toPromise()})).apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(v,p){const m=ni(v,!1).get(p),E=yield new eo(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Of(v,p){const m=ni(v,!0).delete(p);return new eo(m).toPromise()}const Md=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield rs()),m.db})()}_withRetries(m){var E=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const R=yield E._openDb();return yield m(R)}catch(R){if(S++>3)throw R;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return Ga()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=ll._getInstance(Ga()?self:null),m.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(S,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(S,R){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function(){return Xs.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ad(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(E=R[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield rs();return yield pt(m,cl,"1"),yield Of(m,cl),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(R=>pt(R,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,d.Z)(function*(){const S=yield E._withRetries(R=>function(v,p){return to.apply(this,arguments)}(R,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(S=>Of(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const E=yield m._withRetries(K=>{const be=ni(K,!1).getAll();return new eo(be).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:K,value:be}of E)R.add(K),JSON.stringify(m.localCache[K])!==JSON.stringify(be)&&(m.notifyListeners(K,be),S.push(K));for(const K of Object.keys(m.localCache))m.localCache[K]&&!R.has(K)&&(m.notifyListeners(K,null),S.push(K));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const R of Array.from(S))R(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function On(v,p){return Yt(v,"POST","/v2/accounts/mfaSignIn:start",an(v,p))}function Nd(){return(Nd=(0,d.Z)(function*(v){return(yield Yt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function is(v){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=S=>{const R=Xt("internal-error");R.customData=S,m(R)},E.type="text/javascript",E.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function fl(v){return`__${v}${Math.floor(1e6*Math.random())}`}const qu=1e12;class Od{constructor(p){this.auth=p,this.counter=qu,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new Tr(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||qu;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||qu))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var E;return null===(E=m._widgets.get(p||qu))||void 0===E||E.execute(),""})()}}class Tr{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Re(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pl=fl("rcb"),sr=new tn(3e4,6e4);class Ka{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kt().grecaptcha}load(p,m=""){return Re((v=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Kt().grecaptcha):new Promise((E,S)=>{const R=Kt().setTimeout(()=>{S(Xt(p,"network-request-failed"))},sr.get());Kt()[pl]=()=>{Kt().clearTimeout(R),delete Kt()[pl];const be=Kt().grecaptcha;if(!be)return void S(Xt(p,"internal-error"));const Ze=be.render;be.render=(ke,at)=>{const Wt=Ze(ke,at);return this.counter++,Wt},this.hostLanguage=m,E(be)},is(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:pl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),S(Xt(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pd{load(p){return(0,d.Z)(function*(){return new Od(p)})()}clearedOneInstance(){}}const ri="recaptcha",ji={theme:"light",type:"image"};class ss{constructor(p,m=Object.assign({},ji),E){this.parameters=m,this.type=ri,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dr(E),this.isInvisible="invisible"===this.parameters.size,Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Re(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pd:new Ka,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(R=>{const K=be=>{!be||(p.tokenChangeListeners.delete(K),R(be))};p.tokenChangeListeners.add(K),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=Kt()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){Re(st()&&!Ga(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(v){return Nd.apply(this,arguments)}(p.auth);Re(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mr{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ji._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function kd(v,p,m){return io.apply(this,arguments)}function io(){return(io=(0,d.Z)(function*(v,p,m){const E=dr(v),S=yield C(E,p,(0,B.m9)(m));return new mr(S,R=>Ae(E,R))})).apply(this,arguments)}function Kr(v,p,m){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v);yield es(!1,E,"phone");const S=yield C(E.auth,p,(0,B.m9)(m));return new mr(S,R=>Ru(E,R))})).apply(this,arguments)}function Ff(v,p,m){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v),S=yield C(E.auth,p,(0,B.m9)(m));return new mr(S,R=>el(E,R))})).apply(this,arguments)}function C(v,p,m){return T.apply(this,arguments)}function T(){return(T=(0,d.Z)(function*(v,p,m){var E;const S=yield m.verify();try{let R;if(Re("string"==typeof S,v,"argument-error"),Re(m.type===ri,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const K=R.session;if("phoneNumber"in R)return Re("enroll"===K.type,v,"internal-error"),(yield Uu(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Re("signin"===K.type,v,"internal-error");const be=(null===(E=R.multiFactorHint)||void 0===E?void 0:E.uid)||R.multiFactorUid;return Re(be,v,"missing-multi-factor-info"),(yield On(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield _i(v,{phoneNumber:R.phoneNumber,recaptchaToken:S});return K}}finally{m._reset()}})).apply(this,arguments)}function x(v,p){return U.apply(this,arguments)}function U(){return(U=(0,d.Z)(function*(v,p){yield ut((0,B.m9)(v),p)})).apply(this,arguments)}let J=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=dr(m)}verifyPhoneNumber(m,E){return C(this.auth,m,(0,B.m9)(E))}static credential(m,E){return Ji._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?Ji._fromTokenResponse(E,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function de(v,p){return p?In(p):(Re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class xe extends cn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Qi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Qi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Qi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ke(v){return zs(v.auth,new xe(v),v.bypassAuthState)}function We(v){const{auth:p,user:m}=v;return Re(m,p,"internal-error"),ea(m,new xe(v),v.bypassAuthState)}function Zt(v){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(v){const{auth:p,user:m}=v;return Re(m,p,"internal-error"),ut(m,new xe(v),v.bypassAuthState)})).apply(this,arguments)}class Dr{constructor(p,m,E,S,R=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:R,tenantId:K,error:be,type:Ze}=p;if(be)return void m.reject(be);const ke={auth:m.auth,requestUri:E,sessionId:S,tenantId:K||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ze)(ke))}catch(at){m.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ke;case"linkViaPopup":case"linkViaRedirect":return Zt;case"reauthViaPopup":case"reauthViaRedirect":return We;default:Vn(this.auth,"internal-error")}}resolve(p){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ar=new tn(2e3,1e4);function _r(v,p,m){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(v,p,m){const E=dr(v);Fi(v,p,kr);const S=de(E,m);return new Dt(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Qa(v,p,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v);Fi(E.auth,p,kr);const S=de(E.auth,m);return new Dt(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function Oo(v,p,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v);Fi(E.auth,p,kr);const S=de(E.auth,m);return new Dt(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let Dt=(()=>{class v extends Dr{constructor(m,E,S,R,K){super(m,E,R,K),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const E=yield m.execute();return Re(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,d.Z)(function*(){Zn(1===m.filter.length,"Popup operations only handle one event");const E=Za();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Xt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=(null===(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ar.get())};m()}}return v.currentPopupAction=null,v})();const oa=new Map;class Ld extends Dr{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let E=oa.get(m.auth._key());if(!E){try{const R=(yield function(v,p){return aa.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(R)}catch(S){E=()=>Promise.reject(S)}oa.set(m.auth._key(),E)}return m.bypassAuthState||oa.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function aa(){return(aa=(0,d.Z)(function*(v,p){const m=Po(p),E=Wg(v);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function Vf(v,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(v,p){return Wg(v)._set(Po(p),"true")})).apply(this,arguments)}function Rs(){oa.clear()}function Wg(v){return In(v._redirectPersistence)}function Po(v){return yn("pendingRedirect",v.config.apiKey,v.name)}function Wu(v,p,m){return function(v,p,m){return or.apply(this,arguments)}(v,p,m)}function or(){return(or=(0,d.Z)(function*(v,p,m){const E=dr(v);Fi(v,p,kr);const S=de(E,m);return yield Vf(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Ms(v,p,m){return function(v,p,m){return ua.apply(this,arguments)}(v,p,m)}function ua(){return(ua=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v);Fi(E.auth,p,kr);const S=de(E.auth,m);yield Vf(S,E.auth);const R=yield Ku(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function so(v,p,m){return function(v,p,m){return oo.apply(this,arguments)}(v,p,m)}function oo(){return(oo=(0,d.Z)(function*(v,p,m){const E=(0,B.m9)(v);Fi(E.auth,p,kr);const S=de(E.auth,m);yield es(!1,E,p.providerId),yield Vf(S,E.auth);const R=yield Ku(E);return S._openRedirect(E.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function zg(v,p){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,d.Z)(function*(v,p){return yield dr(v)._initializationPromise,zu(v,p,!1)})).apply(this,arguments)}function zu(v,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(v,p,m=!1){const E=dr(v),S=de(E,p),K=yield new Ld(E,S,m).execute();return K&&!m&&(delete K.user._redirectEventId,yield E._persistUserIfCurrent(K.user),yield E._setRedirectUser(null,p)),K})).apply(this,arguments)}function Ku(v){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(v){const p=Za(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Ns{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!ca(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Xt(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yu(p))}saveEventToCache(p){this.cachedEventUids.add(Yu(p)),this.lastProcessedEventTime=Date.now()}}function Yu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ca({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function ml(v){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,d.Z)(function*(v,p={}){return Yt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Dw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bd=/^https?/;function jd(){return(jd=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield ml(v);for(const m of p)try{if(eu(m))return}catch(E){}Vn(v,"unauthorized-domain")})).apply(this,arguments)}function eu(v){const p=Hr(),{protocol:m,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&K.hostname===E}if(!Bd.test(m))return!1;if(Dw.test(v))return E===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const Uf=new tn(3e4,6e4);function Fo(){const v=Kt().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let yl=null;function Uy(v){return yl=yl||function(v){return new Promise((p,m)=>{var E,S,R;function K(){Fo(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Fo(),m(Xt(v,"network-request-failed"))},timeout:Uf.get()})}if(null===(S=null===(E=Kt().gapi)||void 0===E?void 0:E.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=Kt().gapi)||void 0===R?void 0:R.load)){const be=fl("iframefcb");return Kt()[be]=()=>{gapi.load?K():m(Xt(v,"network-request-failed"))},is(`https://apis.google.com/js/api.js?onload=${be}`).catch(Ze=>m(Ze))}K()}}).catch(p=>{throw yl=null,p})}(v),yl}const Hd=new tn(5e3,15e3),vl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tu(v){const p=v.config;Re(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?qt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:v.name,v:O.SDK_VERSION},S=Yg.get(v.config.apiHost);S&&(E.eid=S);const R=v._getFrameworks();return R.length&&(E.fw=R.join(",")),`${m}?${(0,B.xO)(E).slice(1)}`}function jf(){return(jf=(0,d.Z)(function*(v){const p=yield Uy(v),m=Kt().gapi;return Re(m,v,"internal-error"),p.open({where:document.body,url:tu(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vl,dontclear:!0},E=>new Promise(function(){var S=(0,d.Z)(function*(R,K){yield E.restyle({setHideOnLeave:!1});const be=Xt(v,"network-request-failed"),Ze=Kt().setTimeout(()=>{K(be)},Hd.get());function ke(){Kt().clearTimeout(Ze),R(E)}E.ping(ke).then(ke,()=>{K(be)})});return function(R,K){return S.apply(this,arguments)}}()))})).apply(this,arguments)}const jy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function qd(v,p,m,E,S,R){Re(v.config.authDomain,v,"auth-domain-config-required"),Re(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:O.SDK_VERSION,eventId:S};if(p instanceof kr){p.setDefaultLanguage(v.languageCode),K.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(K.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ze,ke]of Object.entries(R||{}))K[Ze]=ke}if(p instanceof Xi){const Ze=p.getScopes().filter(ke=>""!==ke);Ze.length>0&&(K.scopes=Ze.join(","))}v.tenantId&&(K.tid=v.tenantId);const be=K;for(const Ze of Object.keys(be))void 0===be[Ze]&&delete be[Ze];return`${function({config:v}){return v.emulator?qt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(be).slice(1)}`}const Ju="webStorageSupport",Zd=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ss,this._completeRedirectFn=zu}_openPopup(p,m,E,S){var R=this;return(0,d.Z)(function*(){var K;Zn(null===(K=R.eventManagers[p._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const be=qd(p,m,E,Hr(),S);return function(v,p,m,E=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),K=Math.max((window.screen.availWidth-E)/2,0).toString();let be="";const Ze=Object.assign(Object.assign({},jy),{width:E.toString(),height:S.toString(),top:R,left:K}),ke=(0,B.z$)().toLowerCase();m&&(be=Ct(ke)?"_blank":m),Kn(ke)&&(p=p||"http://localhost",Ze.scrollbars="yes");const at=Object.entries(Ze).reduce((pn,[Vr,Lo])=>`${pn}${Vr}=${Lo},`,"");if(function(v=(0,B.z$)()){var p;return ir(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ke)&&"_self"!==be)return function(v,p){const m=document.createElement("a");m.href=v,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",be),new nu(null);const Wt=window.open(p||"",be,at);Re(Wt,v,"popup-blocked");try{Wt.focus()}catch(pn){}return new nu(Wt)}(p,be,Za())})()}_openRedirect(p,m,E,S){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(p),v=qd(p,m,E,Hr(),S),Kt().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:R}=this.eventManagers[m];return S?Promise.resolve(S):(Zn(R,"If manager is not set, promise should be"),R)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const E=yield function(v){return jf.apply(this,arguments)}(p),S=new Ns(p);return E.register("authEvent",R=>(Re(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ju,{type:Ju},S=>{var R;const K=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[Ju];void 0!==K&&m(!!K),Vn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(v){return jd.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return rn()||_o()||ir()}};class Gd extends class{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return fn("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Gd(p)}_finalizeEnroll(p,m,E){return function(v,p){return Yt(v,"POST","/v2/accounts/mfaEnrollment:finalize",an(v,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(v,p){return Yt(v,"POST","/v2/accounts/mfaSignIn:finalize",an(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hf=(()=>{class v{constructor(){}static assertion(m){return Gd._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var v,Xu="@firebase/auth";class Ps{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{var S;p((null===(S=E)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}v="Browser",(0,O._registerComponent)(new kt.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:R}=E.options;return(K=>{Re(S&&!S.includes(":"),"invalid-api-key",{appName:K.name}),Re(!(null==R?void 0:R.includes(":")),"argument-error",{appName:K.name});const be={apiKey:S,authDomain:R,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qc(v)},Ze=new Zc(K,be);return function(v,p){const m=(null==p?void 0:p.persistence)||[],E=(Array.isArray(m)?m:[m]).map(In);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(Ze,m),Ze})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new kt.wA("auth-internal",p=>{const m=dr(p.getProvider("auth").getImmediate());return new Ps(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(Xu,"0.19.6",void 0),(0,O.registerVersion)(Xu,"0.19.6","esm2017")},3854:(et,De,F)=>{"use strict";F.d(De,{BH:()=>Q,LL:()=>Je,ZR:()=>kt,zI:()=>Tt,US:()=>se,tV:()=>ne,$s:()=>Yt,r3:()=>dn,Sg:()=>le,ne:()=>Zn,vZ:()=>Xt,ZB:()=>V,pd:()=>Re,m9:()=>vs,z$:()=>Ie,jU:()=>ve,ru:()=>me,d:()=>Ne,xb:()=>Sn,w1:()=>ze,hl:()=>_n,uI:()=>ge,UG:()=>Y,b$:()=>pe,G6:()=>ft,Mn:()=>Ve,xO:()=>Fi,zd:()=>$r,eu:()=>Et});const ae=function(H){const W=[];let $=0;for(let Ce=0;Ce<H.length;Ce++){let re=H.charCodeAt(Ce);re<128?W[$++]=re:re<2048?(W[$++]=re>>6|192,W[$++]=63&re|128):55296==(64512&re)&&Ce+1<H.length&&56320==(64512&H.charCodeAt(Ce+1))?(re=65536+((1023&re)<<10)+(1023&H.charCodeAt(++Ce)),W[$++]=re>>18|240,W[$++]=re>>12&63|128,W[$++]=re>>6&63|128,W[$++]=63&re|128):(W[$++]=re>>12|224,W[$++]=re>>6&63|128,W[$++]=63&re|128)}return W},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,W){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let re=0;re<H.length;re+=3){const qe=H[re],$e=re+1<H.length,Qt=$e?H[re+1]:0,xn=re+2<H.length,Rn=xn?H[re+2]:0;let ie=(15&Qt)<<2|Rn>>6,G=63&Rn;xn||(G=64,$e||(ie=64)),Ce.push($[qe>>2],$[(3&qe)<<4|Qt>>4],$[ie],$[G])}return Ce.join("")},encodeString(H,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(H):this.encodeByteArray(ae(H),W)},decodeString(H,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(H):function(H){const W=[];let $=0,Ce=0;for(;$<H.length;){const re=H[$++];if(re<128)W[Ce++]=String.fromCharCode(re);else if(re>191&&re<224){const qe=H[$++];W[Ce++]=String.fromCharCode((31&re)<<6|63&qe)}else if(re>239&&re<365){const xn=((7&re)<<18|(63&H[$++])<<12|(63&H[$++])<<6|63&H[$++])-65536;W[Ce++]=String.fromCharCode(55296+(xn>>10)),W[Ce++]=String.fromCharCode(56320+(1023&xn))}else{const qe=H[$++],$e=H[$++];W[Ce++]=String.fromCharCode((15&re)<<12|(63&qe)<<6|63&$e)}}return W.join("")}(this.decodeStringToByteArray(H,W))},decodeStringToByteArray(H,W){this.init_();const $=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let re=0;re<H.length;){const qe=$[H.charAt(re++)],Qt=re<H.length?$[H.charAt(re)]:0;++re;const Rn=re<H.length?$[H.charAt(re)]:64;++re;const Nt=re<H.length?$[H.charAt(re)]:64;if(++re,null==qe||null==Qt||null==Rn||null==Nt)throw Error();Ce.push(qe<<2|Qt>>4),64!==Rn&&(Ce.push(Qt<<4&240|Rn>>2),64!==Nt&&Ce.push(Rn<<6&192|Nt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ue=function(H){return function(H){const W=ae(H);return se.encodeByteArray(W,!0)}(H).replace(/\./g,"")},ne=function(H){try{return se.decodeString(H,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function V(H,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return W}for(const $ in W)!W.hasOwnProperty($)||!ee($)||(H[$]=V(H[$],W[$]));return H}function ee(H){return"__proto__"!==H}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,$)=>{this.resolve=W,this.reject=$})}wrapCallback(W){return($,Ce)=>{$?this.reject($):this.resolve(Ce),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W($):W($,Ce))}}}function le(H,W){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=W||"demo-project",re=H.iat||0,qe=H.sub||H.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:re,exp:re+3600,auth_time:re,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify($e)),""].join(".")}function Ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function ve(){return"object"==typeof self&&self.self===self}function me(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ie().indexOf("Electron/")>=0}function ze(){const H=Ie();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Ve(){return Ie().indexOf("MSAppHost/")>=0}function ft(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _n(){return"object"==typeof indexedDB}function Et(){return new Promise((H,W)=>{try{let $=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Ce);re.onsuccess=()=>{re.result.close(),$||self.indexedDB.deleteDatabase(Ce),H(!0)},re.onupgradeneeded=()=>{$=!1},re.onerror=()=>{var qe;W((null===(qe=re.error)||void 0===qe?void 0:qe.message)||"")}}catch($){W($)}})}function Tt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class kt extends Error{constructor(W,$,Ce){super($),this.code=W,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(W,$,Ce){this.service=W,this.serviceName=$,this.errors=Ce}create(W,...$){const Ce=$[0]||{},re=`${this.service}/${W}`,qe=this.errors[W],$e=qe?function(H,W){return H.replace(xa,($,Ce)=>{const re=W[Ce];return null!=re?String(re):`<${Ce}?>`})}(qe,Ce):"Error";return new kt(re,`${this.serviceName}: ${$e} (${re}).`,Ce)}}const xa=/\{\$([^}]+)}/g;function dn(H,W){return Object.prototype.hasOwnProperty.call(H,W)}function Sn(H){for(const W in H)if(Object.prototype.hasOwnProperty.call(H,W))return!1;return!0}function Xt(H,W){if(H===W)return!0;const $=Object.keys(H),Ce=Object.keys(W);for(const re of $){if(!Ce.includes(re))return!1;const qe=H[re],$e=W[re];if(hn(qe)&&hn($e)){if(!Xt(qe,$e))return!1}else if(qe!==$e)return!1}for(const re of Ce)if(!$.includes(re))return!1;return!0}function hn(H){return null!==H&&"object"==typeof H}function Fi(H){const W=[];for(const[$,Ce]of Object.entries(H))Array.isArray(Ce)?Ce.forEach(re=>{W.push(encodeURIComponent($)+"="+encodeURIComponent(re))}):W.push(encodeURIComponent($)+"="+encodeURIComponent(Ce));return W.length?"&"+W.join("&"):""}function $r(H){const W={};return H.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[re,qe]=Ce.split("=");W[decodeURIComponent(re)]=decodeURIComponent(qe)}}),W}function Re(H){const W=H.indexOf("?");if(!W)return"";const $=H.indexOf("#",W);return H.substring(W,$>0?$:void 0)}function Zn(H,W){const $=new mi(H,W);return $.subscribe.bind($)}class mi{constructor(W,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{W(this)}).catch(Ce=>{this.error(Ce)})}next(W){this.forEachObserver($=>{$.next(W)})}error(W){this.forEachObserver($=>{$.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,$,Ce){let re;if(void 0===W&&void 0===$&&void 0===Ce)throw new Error("Missing Observer.");re=function(H,W){if("object"!=typeof H||null===H)return!1;for(const $ of["next","error","complete"])if($ in H&&"function"==typeof H[$])return!0;return!1}(W)?W:{next:W,error:$,complete:Ce},void 0===re.next&&(re.next=Gn),void 0===re.error&&(re.error=Gn),void 0===re.complete&&(re.complete=Gn);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch($e){}}),this.observers.push(re),qe}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,W)}sendOne(W,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{$(this.observers[W])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function Yt(H,W=1e3,$=2){const Ce=W*Math.pow($,H),re=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+re)}function vs(H){return H&&H._delegate?H._delegate:H}},2329:(et,De,F)=>{"use strict";F.d(De,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=F(8026);(0,d.registerVersion)("firebase","9.6.4","app")},7841:(et,De,F)=>{"use strict";F.d(De,{Z:()=>d.Z});var d=F(3394);d.Z.registerVersion("firebase","9.6.4","app-compat")},4828:(et,De,F)=>{"use strict";F.r(De);var d=F(8239),B=F(3394),O=F(538),ae=F(3854),ye=(F(8026),F(5422),F(3910));function ue(){return window}function V(){return(V=(0,d.Z)(function*(ie,G,Z){var we;const{BuildInfo:je}=ue();(0,O.ap)(G.sessionId,"AuthEvent did not contain a session ID");const _t=yield ve(G.sessionId),wt={};return(0,O.aq)()?wt.ibi=je.packageName:(0,O.ar)()?wt.apn=je.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),je.displayName&&(wt.appDisplayName=je.displayName),wt.sessionId=_t,(0,O.at)(ie,Z,G.type,void 0,null!==(we=G.eventId)&&void 0!==we?we:void 0,wt)})).apply(this,arguments)}function Q(){return(Q=(0,d.Z)(function*(ie){const{BuildInfo:G}=ue(),Z={};(0,O.aq)()?Z.iosBundleId=G.packageName:(0,O.ar)()?Z.androidPackageName=G.packageName:(0,O.as)(ie,"operation-not-supported-in-this-environment"),yield(0,O.au)(ie,Z)})).apply(this,arguments)}function ge(){return(ge=(0,d.Z)(function*(ie,G,Z){const{cordova:we}=ue();let je=()=>{};try{yield new Promise((_t,wt)=>{let $t=null;function Un(){var Ft;_t();const Pr=null===(Ft=we.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==Z?void 0:Z.close)&&Z.close()}function Wn(){$t||($t=window.setTimeout(()=>{wt((0,O.av)(ie,"redirect-cancelled-by-user"))},2e3))}function rr(){"visible"===(null==document?void 0:document.visibilityState)&&Wn()}G.addPassiveListener(Un),document.addEventListener("resume",Wn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",rr,!1),je=()=>{G.removePassiveListener(Un),document.removeEventListener("resume",Wn,!1),document.removeEventListener("visibilitychange",rr,!1),$t&&window.clearTimeout($t)}})}finally{je()}})).apply(this,arguments)}function ve(ie){return me.apply(this,arguments)}function me(){return(me=(0,d.Z)(function*(ie){const G=pe(ie),Z=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(Z)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pe(ie){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ie);const G=new ArrayBuffer(ie.length),Z=new Uint8Array(G);for(let we=0;we<ie.length;we++)Z[we]=ie.charCodeAt(we);return Z}class ze extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(Z=>Z(G)),super.onEvent(G)}initialized(){var G=this;return(0,d.Z)(function*(){yield G.initPromise})()}}function ft(ie){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(ie){const G=yield dt()._get(ot(ie));return G&&(yield dt()._remove(ot(ie))),G})).apply(this,arguments)}function Tt(){const ie=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Z=0;Z<20;Z++){const we=Math.floor(Math.random()*G.length);ie.push(G.charAt(we))}return ie.join("")}function dt(){return(0,O.ax)(O.b)}function ot(ie){return(0,O.ay)("authEvent",ie.config.apiKey,ie.name)}function tr(ie){if(!(null==ie?void 0:ie.includes("?")))return{};const[G,...Z]=ie.split("?");return(0,ae.zd)(Z.join("?"))}function lr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function dn(){var ie;return(null===(ie=null==self?void 0:self.location)||void 0===ie?void 0:ie.protocol)||null}function Sn(ie=(0,ae.z$)()){return!("file:"!==dn()&&"ionic:"!==dn()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function $r(){try{const ie=self.localStorage,G=O.aG();if(ie)return ie.setItem(G,"1"),ie.removeItem(G),!function(ie=(0,ae.z$)()){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)||function(ie=(0,ae.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,ae.hl)()}catch(ie){return Re()&&(0,ae.hl)()}return!1}function Re(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fn(){return("http:"===dn()||"https:"===dn()||(0,ae.ru)()||Sn())&&!((0,ae.b$)()||(0,ae.UG)())&&$r()&&!Re()}function Zn(){return Sn()&&"undefined"!=typeof document}function In(){return(In=(0,d.Z)(function*(){return!!Zn()&&new Promise(ie=>{const G=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ie(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=O.aw,Hr="persistence";function Se(ie){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(ie){yield ie._initializationPromise;const G=tn(),Z=O.ay(Hr,ie.config.apiKey,ie.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(Z,ie._getPersistence())})).apply(this,arguments)}function tn(){return"undefined"!=typeof window?window:null}const qt=O.aw;class Ge{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(G){var Z=this;return(0,d.Z)(function*(){const we=G._key();let je=Z.eventManagers.get(we);return je||(je=new ze(G),Z.eventManagers.set(we,je),Z.attachCallbackListeners(G,je)),je})()}_openPopup(G){(0,O.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,Z,we,je){var _t=this;return(0,d.Z)(function*(){!function(ie){var G,Z,we,je,_t,wt,$t,Un,Wn,rr;const Ft=ue();(0,O.aw)("function"==typeof(null===(G=null==Ft?void 0:Ft.universalLinks)||void 0===G?void 0:G.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(Z=null==Ft?void 0:Ft.BuildInfo)||void 0===Z?void 0:Z.packageName),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(_t=null===(je=null===(we=null==Ft?void 0:Ft.cordova)||void 0===we?void 0:we.plugins)||void 0===je?void 0:je.browsertab)||void 0===_t?void 0:_t.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(Un=null===($t=null===(wt=null==Ft?void 0:Ft.cordova)||void 0===wt?void 0:wt.plugins)||void 0===$t?void 0:$t.browsertab)||void 0===Un?void 0:Un.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(rr=null===(Wn=null==Ft?void 0:Ft.cordova)||void 0===Wn?void 0:Wn.InAppBrowser)||void 0===rr?void 0:rr.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const wt=yield _t._initialize(G);yield wt.initialized(),wt.resetRedirect(),(0,O.aB)(),yield _t._originValidation(G);const $t=function(ie,G,Z=null){return{type:G,eventId:Z,urlResponse:null,sessionId:Tt(),postBody:null,tenantId:ie.tenantId,error:(0,O.av)(ie,"no-auth-event")}}(G,we,je);yield function(ie,G){return dt()._set(ot(ie),G)}(G,$t);const Un=yield function(ie,G,Z){return V.apply(this,arguments)}(G,$t,Z),Wn=yield function(ie){const{cordova:G}=ue();return new Promise(Z=>{G.plugins.browsertab.isAvailable(we=>{let je=null;we?G.plugins.browsertab.openUrl(ie):je=G.InAppBrowser.open(ie,(0,O.ao)()?"_blank":"_system","location=yes"),Z(je)})})}(Un);return function(ie,G,Z){return ge.apply(this,arguments)}(G,wt,Wn)})()}_isIframeWebStorageSupported(G,Z){throw new Error("Method not implemented.")}_originValidation(G){const Z=G._key();return this.originValidationPromises[Z]||(this.originValidationPromises[Z]=function(ie){return Q.apply(this,arguments)}(G)),this.originValidationPromises[Z]}attachCallbackListeners(G,Z){const{universalLinks:we,handleOpenURL:je,BuildInfo:_t}=ue(),wt=setTimeout((0,d.Z)(function*(){yield ft(G),Z.onEvent(lr())}),500),$t=function(){var rr=(0,d.Z)(function*(Ft){clearTimeout(wt);const Pr=yield ft(G);let zn=null;Pr&&(null==Ft?void 0:Ft.url)&&(zn=function(ie,G){var Z,we;const je=function(ie){const G=tr(ie),Z=G.link?decodeURIComponent(G.link):void 0,we=tr(Z).link,je=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return tr(je).link||je||we||Z||ie}(G);if(je.includes("/__/auth/callback")){const _t=tr(je),wt=_t.firebaseError?function(ie){try{return JSON.parse(ie)}catch(G){return null}}(decodeURIComponent(_t.firebaseError)):null,$t=null===(we=null===(Z=null==wt?void 0:wt.code)||void 0===Z?void 0:Z.split("auth/"))||void 0===we?void 0:we[1],Un=$t?(0,O.av)($t):null;return Un?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Un,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:je,postBody:null}}return null}(Pr,Ft.url)),Z.onEvent(zn||lr())});return function(Pr){return rr.apply(this,arguments)}}();void 0!==we&&"function"==typeof we.subscribe&&we.subscribe(null,$t);const Un=je,Wn=`${_t.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var rr=(0,d.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(Wn)&&$t({url:Ft}),"function"==typeof Un)try{Un(Ft)}catch(Pr){console.error(Pr)}});return function(Ft){return rr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(G){var Z=this;return(0,d.Z)(function*(){return yield Z.selectUnderlyingResolver(),Z.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,Z,we,je){var _t=this;return(0,d.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openPopup(G,Z,we,je)})()}_openRedirect(G,Z,we,je){var _t=this;return(0,d.Z)(function*(){return yield _t.selectUnderlyingResolver(),_t.assertedUnderlyingResolver._openRedirect(G,Z,we,je)})()}_isIframeWebStorageSupported(G,Z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,Z)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return Zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,d.Z)(function*(){if(G.underlyingResolver)return;const Z=yield function(){return In.apply(this,arguments)}();G.underlyingResolver=Z?G.cordovaResolver:G.browserResolver})()}}function Qe(ie){return ie.unwrap()}function an(ie){return nn(ie)}function nn(ie){const{_tokenResponse:G}=ie instanceof ae.ZR?ie.customData:ie;if(!G)return null;if(!(ie instanceof ae.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return O.P.credentialFromResult(ie);const Z=G.providerId;if(!Z||Z===O.o.PASSWORD)return null;let we;switch(Z){case O.o.GOOGLE:we=O.N;break;case O.o.FACEBOOK:we=O.M;break;case O.o.GITHUB:we=O.Q;break;case O.o.TWITTER:we=O.V;break;default:const{oauthIdToken:je,oauthAccessToken:_t,oauthTokenSecret:wt,pendingToken:$t,nonce:Un}=G;return _t||wt||je||$t?$t?Z.startsWith("saml.")?O.aJ._create(Z,$t):O.I._fromParams({providerId:Z,signInMethod:Z,pendingToken:$t,idToken:je,accessToken:_t}):new O.T(Z).credential({idToken:je,accessToken:_t,rawNonce:Un}):null}return ie instanceof ae.ZR?we.credentialFromError(ie):we.credentialFromResult(ie)}function en(ie,G){return G.catch(Z=>{throw Z instanceof ae.ZR&&function(ie,G){var Z;const we=null===(Z=G.customData)||void 0===Z?void 0:Z._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new W(ie,O.am(ie,G));else if(we){const je=nn(G),_t=G;je&&(_t.credential=je,_t.tenantId=we.tenantId||void 0,_t.email=we.email||void 0,_t.phoneNumber=we.phoneNumber||void 0)}}(ie,Z),Z}).then(Z=>{const je=Z.user;return{operationType:Z.operationType,credential:an(Z),additionalUserInfo:O.ak(Z),user:$.getOrCreate(je)}})}function vs(ie,G){return H.apply(this,arguments)}function H(){return(H=(0,d.Z)(function*(ie,G){const Z=yield G;return{verificationId:Z.verificationId,confirm:we=>en(ie,Z.confirm(we))}})).apply(this,arguments)}class W{constructor(G,Z){this.resolver=Z,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return en(Qe(this.auth),this.resolver.resolveSignIn(G))}}class ${constructor(G){this._delegate=G,this.multiFactor=O.an(G)}static getOrCreate(G){return $.USER_MAP.has(G)||$.USER_MAP.set(G,new $(G)),$.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var Z=this;return(0,d.Z)(function*(){return en(Z.auth,O.Y(Z._delegate,G))})()}linkWithPhoneNumber(G,Z){var we=this;return(0,d.Z)(function*(){return vs(we.auth,O.l(we._delegate,G,Z))})()}linkWithPopup(G){var Z=this;return(0,d.Z)(function*(){return en(Z.auth,O.d(Z._delegate,G,Ge))})()}linkWithRedirect(G){var Z=this;return(0,d.Z)(function*(){return yield Se(O.aC(Z.auth)),O.g(Z._delegate,G,Ge)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var Z=this;return(0,d.Z)(function*(){return en(Z.auth,O.Z(Z._delegate,G))})()}reauthenticateWithPhoneNumber(G,Z){return vs(this.auth,O.r(this._delegate,G,Z))}reauthenticateWithPopup(G){return en(this.auth,O.e(this._delegate,G,Ge))}reauthenticateWithRedirect(G){var Z=this;return(0,d.Z)(function*(){return yield Se(O.aC(Z.auth)),O.h(Z._delegate,G,Ge)})()}sendEmailVerification(G){return O.aa(this._delegate,G)}unlink(G){var Z=this;return(0,d.Z)(function*(){return yield O.aj(Z._delegate,G),Z})()}updateEmail(G){return O.af(this._delegate,G)}updatePassword(G){return O.ag(this._delegate,G)}updatePhoneNumber(G){return O.u(this._delegate,G)}updateProfile(G){return O.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,Z){return O.ab(this._delegate,G,Z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const Ce=O.aw;let re=(()=>{class ie{constructor(Z,we){if(this.app=Z,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=Z.options;Ce(je,"invalid-api-key",{appName:Z.name}),Ce(je,"invalid-api-key",{appName:Z.name});const _t="undefined"!=typeof window?Ge:void 0;this._delegate=we.initialize({options:{persistence:$e(je,Z.name),popupRedirectResolver:_t}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Z){this._delegate.languageCode=Z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Z){this._delegate.tenantId=Z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Z,we){O.E(this._delegate,Z,we)}applyActionCode(Z){return O.a1(this._delegate,Z)}checkActionCode(Z){return O.a2(this._delegate,Z)}confirmPasswordReset(Z,we){return O.a0(this._delegate,Z,we)}createUserWithEmailAndPassword(Z,we){var je=this;return(0,d.Z)(function*(){return en(je._delegate,O.a4(je._delegate,Z,we))})()}fetchProvidersForEmail(Z){return this.fetchSignInMethodsForEmail(Z)}fetchSignInMethodsForEmail(Z){return O.a9(this._delegate,Z)}isSignInWithEmailLink(Z){return O.a7(this._delegate,Z)}getRedirectResult(){var Z=this;return(0,d.Z)(function*(){Ce(fn(),Z._delegate,"operation-not-supported-in-this-environment");const we=yield O.j(Z._delegate,Ge);return we?en(Z._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(Z){!function(ie,G){(0,O.aC)(ie)._logFramework(G)}(this._delegate,Z)}onAuthStateChanged(Z,we,je){const{next:_t,error:wt,complete:$t}=qe(Z,we,je);return this._delegate.onAuthStateChanged(_t,wt,$t)}onIdTokenChanged(Z,we,je){const{next:_t,error:wt,complete:$t}=qe(Z,we,je);return this._delegate.onIdTokenChanged(_t,wt,$t)}sendSignInLinkToEmail(Z,we){return O.a6(this._delegate,Z,we)}sendPasswordResetEmail(Z,we){return O.$(this._delegate,Z,we||void 0)}setPersistence(Z){var we=this;return(0,d.Z)(function*(){let je;switch(function(ie,G){Gn(Object.values(Vt).includes(G),ie,"invalid-persistence-type"),(0,ae.b$)()?Gn(G!==Vt.SESSION,ie,"unsupported-persistence-type"):(0,ae.UG)()?Gn(G===Vt.NONE,ie,"unsupported-persistence-type"):Re()?Gn(G===Vt.NONE||G===Vt.LOCAL&&(0,ae.hl)(),ie,"unsupported-persistence-type"):Gn(G===Vt.NONE||$r(),ie,"unsupported-persistence-type")}(we._delegate,Z),Z){case Vt.SESSION:je=O.a;break;case Vt.LOCAL:je=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Vt.NONE:je=O.K;break;default:return O.as("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(Z){return this.signInWithCredential(Z)}signInAnonymously(){return en(this._delegate,O.W(this._delegate))}signInWithCredential(Z){return en(this._delegate,O.X(this._delegate,Z))}signInWithCustomToken(Z){return en(this._delegate,O._(this._delegate,Z))}signInWithEmailAndPassword(Z,we){return en(this._delegate,O.a5(this._delegate,Z,we))}signInWithEmailLink(Z,we){return en(this._delegate,O.a8(this._delegate,Z,we))}signInWithPhoneNumber(Z,we){return vs(this._delegate,O.s(this._delegate,Z,we))}signInWithPopup(Z){var we=this;return(0,d.Z)(function*(){return Ce(fn(),we._delegate,"operation-not-supported-in-this-environment"),en(we._delegate,O.c(we._delegate,Z,Ge))})()}signInWithRedirect(Z){var we=this;return(0,d.Z)(function*(){return Ce(fn(),we._delegate,"operation-not-supported-in-this-environment"),yield Se(we._delegate),O.f(we._delegate,Z,Ge)})()}updateCurrentUser(Z){return this._delegate.updateCurrentUser(Z)}verifyPasswordResetCode(Z){return O.a3(this._delegate,Z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=Vt,ie})();function qe(ie,G,Z){let we=ie;"function"!=typeof ie&&({next:we,error:G,complete:Z}=ie);const je=we;return{next:wt=>je(wt&&$.getOrCreate(wt)),error:G,complete:Z}}function $e(ie,G){const Z=function(ie,G){const Z=tn();if(!(null==Z?void 0:Z.sessionStorage))return[];const we=O.ay(Hr,ie,G);switch(Z.sessionStorage.getItem(we)){case Vt.NONE:return[O.K];case Vt.LOCAL:return[O.i,O.a];case Vt.SESSION:return[O.a];default:return[]}}(ie,G);if("undefined"!=typeof self&&!Z.includes(O.i)&&Z.push(O.i),"undefined"!=typeof window)for(const we of[O.b,O.a])Z.includes(we)||Z.push(we);return Z.includes(O.K)||Z.push(O.K),Z}class Qt{constructor(){this.providerId="phone",this._delegate=new O.P(Qe(B.Z.auth()))}static credential(G,Z){return O.P.credential(G,Z)}verifyPhoneNumber(G,Z){return this._delegate.verifyPhoneNumber(G,Z)}unwrap(){return this._delegate}}Qt.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,Qt.PROVIDER_ID=O.P.PROVIDER_ID;const xn=O.aw;var ie;(ie=B.Z).INTERNAL.registerComponent(new ye.wA("auth-compat",G=>{const Z=G.getProvider("app-compat").getImmediate(),we=G.getProvider("auth");return new re(Z,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:Qt,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(G,Z,we=B.Z.app()){var je;xn(null===(je=we.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new O.R(G,Z,we.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:re,AuthCredential:O.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.2.6")},6676:function(et,De){!function(F){"use strict";function d(Y){return Array.prototype.slice.call(Y)}function B(Y){return new Promise(function(ve,me){Y.onsuccess=function(){ve(Y.result)},Y.onerror=function(){me(Y.error)}})}function O(Y,ve,me){var pe,Ne=new Promise(function(ze,Ve){B(pe=Y[ve].apply(Y,me)).then(ze,Ve)});return Ne.request=pe,Ne}function ae(Y,ve,me){var pe=O(Y,ve,me);return pe.then(function(Ne){if(Ne)return new L(Ne,pe.request)})}function oe(Y,ve,me){me.forEach(function(pe){Object.defineProperty(Y.prototype,pe,{get:function(){return this[ve][pe]},set:function(Ne){this[ve][pe]=Ne}})})}function se(Y,ve,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(Y.prototype[Ne]=function(){return O(this[ve],Ne,arguments)})})}function ye(Y,ve,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(Y.prototype[Ne]=function(){return this[ve][Ne].apply(this[ve],arguments)})})}function ue(Y,ve,me,pe){pe.forEach(function(Ne){Ne in me.prototype&&(Y.prototype[Ne]=function(){return ae(this[ve],Ne,arguments)})})}function ne(Y){this._index=Y}function L(Y,ve){this._cursor=Y,this._request=ve}function V(Y){this._store=Y}function ee(Y){this._tx=Y,this.complete=new Promise(function(ve,me){Y.oncomplete=function(){ve()},Y.onerror=function(){me(Y.error)},Y.onabort=function(){me(Y.error)}})}function Q(Y,ve,me){this._db=Y,this.oldVersion=ve,this.transaction=new ee(me)}function le(Y){this._db=Y}oe(ne,"_index",["name","keyPath","multiEntry","unique"]),se(ne,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ue(ne,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(L,"_cursor",["direction","key","primaryKey","value"]),se(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Y){Y in IDBCursor.prototype&&(L.prototype[Y]=function(){var ve=this,me=arguments;return Promise.resolve().then(function(){return ve._cursor[Y].apply(ve._cursor,me),B(ve._request).then(function(pe){if(pe)return new L(pe,ve._request)})})})}),V.prototype.createIndex=function(){return new ne(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new ne(this._store.index.apply(this._store,arguments))},oe(V,"_store",["name","keyPath","indexNames","autoIncrement"]),se(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ue(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ye(V,"_store",IDBObjectStore,["deleteIndex"]),ee.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},oe(ee,"_tx",["objectStoreNames","mode"]),ye(ee,"_tx",IDBTransaction,["abort"]),Q.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},oe(Q,"_db",["name","version","objectStoreNames"]),ye(Q,"_db",IDBDatabase,["deleteObjectStore","close"]),le.prototype.transaction=function(){return new ee(this._db.transaction.apply(this._db,arguments))},oe(le,"_db",["name","version","objectStoreNames"]),ye(le,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Y){[V,ne].forEach(function(ve){Y in ve.prototype&&(ve.prototype[Y.replace("open","iterate")]=function(){var me=d(arguments),pe=me[me.length-1],Ne=this._store||this._index,ze=Ne[Y].apply(Ne,me.slice(0,-1));ze.onsuccess=function(){pe(ze.result)}})})}),[ne,V].forEach(function(Y){Y.prototype.getAll||(Y.prototype.getAll=function(ve,me){var pe=this,Ne=[];return new Promise(function(ze){pe.iterateCursor(ve,function(Ve){Ve?(Ne.push(Ve.value),void 0===me||Ne.length!=me?Ve.continue():ze(Ne)):ze(Ne)})})})}),F.openDb=function(Y,ve,me){var pe=O(indexedDB,"open",[Y,ve]),Ne=pe.request;return Ne&&(Ne.onupgradeneeded=function(ze){me&&me(new Q(Ne.result,ze.oldVersion,Ne.transaction))}),pe.then(function(ze){return new le(ze)})},F.deleteDb=function(Y){return O(indexedDB,"deleteDatabase",[Y])},Object.defineProperty(F,"__esModule",{value:!0})}(De)},7574:(et,De,F)=>{"use strict";F.d(De,{y:()=>V});var d=F(7393),O=F(9181),ae=F(6490),se=F(6554),ye=F(4487);var L=F(2494);let V=(()=>{class Q{constructor(Ie){this._isScalar=!1,Ie&&(this._subscribe=Ie)}lift(Ie){const ge=new Q;return ge.source=this,ge.operator=Ie,ge}subscribe(Ie,ge,Y){const{operator:ve}=this,me=function(Q,le,Ie){if(Q){if(Q instanceof d.L)return Q;if(Q[O.b])return Q[O.b]()}return Q||le||Ie?new d.L(Q,le,Ie):new d.L(ae.c)}(Ie,ge,Y);if(me.add(ve?ve.call(me,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!me.syncErrorThrowable?this._subscribe(me):this._trySubscribe(me)),L.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable&&(me.syncErrorThrowable=!1,me.syncErrorThrown))throw me.syncErrorValue;return me}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(ge){L.v.useDeprecatedSynchronousErrorHandling&&(Ie.syncErrorThrown=!0,Ie.syncErrorValue=ge),function(Q){for(;Q;){const{closed:le,destination:Ie,isStopped:ge}=Q;if(le||ge)return!1;Q=Ie&&Ie instanceof d.L?Ie:null}return!0}(Ie)?Ie.error(ge):console.warn(ge)}}forEach(Ie,ge){return new(ge=ee(ge))((Y,ve)=>{let me;me=this.subscribe(pe=>{try{Ie(pe)}catch(Ne){ve(Ne),me&&me.unsubscribe()}},ve,Y)})}_subscribe(Ie){const{source:ge}=this;return ge&&ge.subscribe(Ie)}[se.L](){return this}pipe(...Ie){return 0===Ie.length?this:function(Q){return 0===Q.length?ye.y:1===Q.length?Q[0]:function(Ie){return Q.reduce((ge,Y)=>Y(ge),Ie)}}(Ie)(this)}toPromise(Ie){return new(Ie=ee(Ie))((ge,Y)=>{let ve;this.subscribe(me=>ve=me,me=>Y(me),()=>ge(ve))})}}return Q.create=le=>new Q(le),Q})();function ee(Q){if(Q||(Q=L.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},6490:(et,De,F)=>{"use strict";F.d(De,{c:()=>O});var d=F(2494),B=F(4449);const O={closed:!0,next(ae){},error(ae){if(d.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,B.z)(ae)},complete(){}}},9765:(et,De,F)=>{"use strict";F.d(De,{Yc:()=>ye,xQ:()=>ue});var d=F(7574),B=F(7393),O=F(5319),ae=F(7971),oe=F(8858),se=F(9181);class ye extends B.L{constructor(V){super(V),this.destination=V}}let ue=(()=>{class L extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new ye(this)}lift(ee){const Q=new ne(this,this);return Q.operator=ee,Q}next(ee){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:Q}=this,le=Q.length,Ie=Q.slice();for(let ge=0;ge<le;ge++)Ie[ge].next(ee)}}error(ee){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=ee,this.isStopped=!0;const{observers:Q}=this,le=Q.length,Ie=Q.slice();for(let ge=0;ge<le;ge++)Ie[ge].error(ee);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:ee}=this,Q=ee.length,le=ee.slice();for(let Ie=0;Ie<Q;Ie++)le[Ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ee){if(this.closed)throw new ae.N;return super._trySubscribe(ee)}_subscribe(ee){if(this.closed)throw new ae.N;return this.hasError?(ee.error(this.thrownError),O.w.EMPTY):this.isStopped?(ee.complete(),O.w.EMPTY):(this.observers.push(ee),new oe.W(this,ee))}asObservable(){const ee=new d.y;return ee.source=this,ee}}return L.create=(V,ee)=>new ne(V,ee),L})();class ne extends ue{constructor(V,ee){super(),this.destination=V,this.source=ee}next(V){const{destination:ee}=this;ee&&ee.next&&ee.next(V)}error(V){const{destination:ee}=this;ee&&ee.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:ee}=this;return ee?this.source.subscribe(V):O.w.EMPTY}}},8858:(et,De,F)=>{"use strict";F.d(De,{W:()=>B});var d=F(5319);class B extends d.w{constructor(ae,oe){super(),this.subject=ae,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,oe=ae.observers;if(this.subject=null,!oe||0===oe.length||ae.isStopped||ae.closed)return;const se=oe.indexOf(this.subscriber);-1!==se&&oe.splice(se,1)}}},7393:(et,De,F)=>{"use strict";F.d(De,{L:()=>ye});var d=F(9105),B=F(6490),O=F(5319),ae=F(9181),oe=F(2494),se=F(4449);class ye extends O.w{constructor(L,V,ee){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=B.c;break;case 1:if(!L){this.destination=B.c;break}if("object"==typeof L){L instanceof ye?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,L,V,ee)}}[ae.b](){return this}static create(L,V,ee){const Q=new ye(L,V,ee);return Q.syncErrorThrowable=!1,Q}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class ue extends ye{constructor(L,V,ee,Q){super(),this._parentSubscriber=L;let le,Ie=this;(0,d.m)(V)?le=V:V&&(le=V.next,ee=V.error,Q=V.complete,V!==B.c&&(Ie=Object.create(V),(0,d.m)(Ie.unsubscribe)&&this.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=this.unsubscribe.bind(this))),this._context=Ie,this._next=le,this._error=ee,this._complete=Q}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;oe.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:ee}=oe.v;if(this._error)ee&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(V.syncErrorThrowable)ee?(V.syncErrorValue=L,V.syncErrorThrown=!0):(0,se.z)(L),this.unsubscribe();else{if(this.unsubscribe(),ee)throw L;(0,se.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const V=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,V){try{L.call(this._context,V)}catch(ee){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw ee;(0,se.z)(ee)}}__tryOrSetError(L,V,ee){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,ee)}catch(Q){return oe.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=Q,L.syncErrorThrown=!0,!0):((0,se.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},5319:(et,De,F)=>{"use strict";F.d(De,{w:()=>se});var d=F(9796),B=F(1555),O=F(9105);const oe=(()=>{function ue(ne){return Error.call(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((L,V)=>`${V+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne,this}return ue.prototype=Object.create(Error.prototype),ue})();class se{constructor(ne){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ne&&(this._ctorUnsubscribe=!0,this._unsubscribe=ne)}unsubscribe(){let ne;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:V,_unsubscribe:ee,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof se)L.remove(this);else if(null!==L)for(let le=0;le<L.length;++le)L[le].remove(this);if((0,O.m)(ee)){V&&(this._unsubscribe=void 0);try{ee.call(this)}catch(le){ne=le instanceof oe?ye(le.errors):[le]}}if((0,d.k)(Q)){let le=-1,Ie=Q.length;for(;++le<Ie;){const ge=Q[le];if((0,B.K)(ge))try{ge.unsubscribe()}catch(Y){ne=ne||[],Y instanceof oe?ne=ne.concat(ye(Y.errors)):ne.push(Y)}}}if(ne)throw new oe(ne)}add(ne){let L=ne;if(!ne)return se.EMPTY;switch(typeof ne){case"function":L=new se(ne);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof se)){const Q=L;L=new se,L._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+ne+" added to Subscription.")}let{_parentOrParents:V}=L;if(null===V)L._parentOrParents=this;else if(V instanceof se){if(V===this)return L;L._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return L;V.push(this)}const ee=this._subscriptions;return null===ee?this._subscriptions=[L]:ee.push(L),L}remove(ne){const L=this._subscriptions;if(L){const V=L.indexOf(ne);-1!==V&&L.splice(V,1)}}}var ue;function ye(ue){return ue.reduce((ne,L)=>ne.concat(L instanceof oe?L.errors:L),[])}se.EMPTY=((ue=new se).closed=!0,ue)},2494:(et,De,F)=>{"use strict";F.d(De,{v:()=>B});let d=!1;const B={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=O},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(et,De,F)=>{"use strict";F.d(De,{IY:()=>ae,Ds:()=>se,ft:()=>ue});var d=F(7393),B=F(7574),O=F(7444);class ae extends d.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends d.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function ue(ne,L){if(L.closed)return;if(ne instanceof B.y)return ne.subscribe(L);let V;try{V=(0,O.s)(ne)(L)}catch(ee){L.error(ee)}return V}},2441:(et,De,F)=>{"use strict";F.d(De,{c:()=>oe,N:()=>se});var d=F(9765),B=F(7574),O=F(5319),ae=F(1307);class oe extends B.y{constructor(V,ee){super(),this.source=V,this.subjectFactory=ee,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new O.w,V.add(this.source.subscribe(new ye(this.getSubject(),this))),V.closed&&(this._connection=null,V=O.w.EMPTY)),V}refCount(){return(0,ae.x)()(this)}}const se=(()=>{const L=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class ye extends d.Yc{constructor(V,ee){super(V),this.connectable=ee}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const ee=V._connection;V._refCount=0,V._subject=null,V._connection=null,ee&&ee.unsubscribe()}}}},9193:(et,De,F)=>{"use strict";F.d(De,{E:()=>B,c:()=>O});var d=F(7574);const B=new d.y(oe=>oe.complete());function O(oe){return oe?function(oe){return new d.y(se=>oe.schedule(()=>se.complete()))}(oe):B}},4402:(et,De,F)=>{"use strict";F.d(De,{D:()=>Ie});var d=F(7574),B=F(7444),O=F(5319),ae=F(6554),ye=F(4087),ue=F(377),V=F(4072),ee=F(9489);function Ie(ge,Y){return Y?function(ge,Y){if(null!=ge){if(function(ge){return ge&&"function"==typeof ge[ae.L]}(ge))return function(ge,Y){return new d.y(ve=>{const me=new O.w;return me.add(Y.schedule(()=>{const pe=ge[ae.L]();me.add(pe.subscribe({next(Ne){me.add(Y.schedule(()=>ve.next(Ne)))},error(Ne){me.add(Y.schedule(()=>ve.error(Ne)))},complete(){me.add(Y.schedule(()=>ve.complete()))}}))})),me})}(ge,Y);if((0,V.t)(ge))return function(ge,Y){return new d.y(ve=>{const me=new O.w;return me.add(Y.schedule(()=>ge.then(pe=>{me.add(Y.schedule(()=>{ve.next(pe),me.add(Y.schedule(()=>ve.complete()))}))},pe=>{me.add(Y.schedule(()=>ve.error(pe)))}))),me})}(ge,Y);if((0,ee.z)(ge))return(0,ye.r)(ge,Y);if(function(ge){return ge&&"function"==typeof ge[ue.hZ]}(ge)||"string"==typeof ge)return function(ge,Y){if(!ge)throw new Error("Iterable cannot be null");return new d.y(ve=>{const me=new O.w;let pe;return me.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),me.add(Y.schedule(()=>{pe=ge[ue.hZ](),me.add(Y.schedule(function(){if(ve.closed)return;let Ne,ze;try{const Ve=pe.next();Ne=Ve.value,ze=Ve.done}catch(Ve){return void ve.error(Ve)}ze?ve.complete():(ve.next(Ne),this.schedule())}))})),me})}(ge,Y)}throw new TypeError((null!==ge&&typeof ge||ge)+" is not observable")}(ge,Y):ge instanceof d.y?ge:new d.y((0,B.s)(ge))}},6693:(et,De,F)=>{"use strict";F.d(De,{n:()=>ae});var d=F(7574),B=F(5015),O=F(4087);function ae(oe,se){return se?(0,O.r)(oe,se):new d.y((0,B.V)(oe))}},6682:(et,De,F)=>{"use strict";F.d(De,{T:()=>oe});var d=F(7574),B=F(4869),O=F(3282),ae=F(6693);function oe(...se){let ye=Number.POSITIVE_INFINITY,ue=null,ne=se[se.length-1];return(0,B.K)(ne)?(ue=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(ye=se.pop())):"number"==typeof ne&&(ye=se.pop()),null===ue&&1===se.length&&se[0]instanceof d.y?se[0]:(0,O.J)(ye)((0,ae.n)(se,ue))}},5917:(et,De,F)=>{"use strict";F.d(De,{of:()=>ae});var d=F(4869),B=F(6693),O=F(4087);function ae(...oe){let se=oe[oe.length-1];return(0,d.K)(se)?(oe.pop(),(0,O.r)(oe,se)):(0,B.n)(oe)}},8002:(et,De,F)=>{"use strict";F.d(De,{U:()=>B});var d=F(7393);function B(oe,se){return function(ue){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new O(oe,se))}}class O{constructor(se,ye){this.project=se,this.thisArg=ye}call(se,ye){return ye.subscribe(new ae(se,this.project,this.thisArg))}}class ae extends d.L{constructor(se,ye,ue){super(se),this.project=ye,this.count=0,this.thisArg=ue||this}_next(se){let ye;try{ye=this.project.call(this.thisArg,se,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(ye)}}},3282:(et,De,F)=>{"use strict";F.d(De,{J:()=>O});var d=F(9773),B=F(4487);function O(ae=Number.POSITIVE_INFINITY){return(0,d.zg)(B.y,ae)}},9773:(et,De,F)=>{"use strict";F.d(De,{zg:()=>ae});var d=F(8002),B=F(4402),O=F(5345);function ae(ue,ne,L=Number.POSITIVE_INFINITY){return"function"==typeof ne?V=>V.pipe(ae((ee,Q)=>(0,B.D)(ue(ee,Q)).pipe((0,d.U)((le,Ie)=>ne(ee,le,Q,Ie))),L)):("number"==typeof ne&&(L=ne),V=>V.lift(new oe(ue,L)))}class oe{constructor(ne,L=Number.POSITIVE_INFINITY){this.project=ne,this.concurrent=L}call(ne,L){return L.subscribe(new se(ne,this.project,this.concurrent))}}class se extends O.Ds{constructor(ne,L,V=Number.POSITIVE_INFINITY){super(ne),this.project=L,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ne){this.active<this.concurrent?this._tryNext(ne):this.buffer.push(ne)}_tryNext(ne){let L;const V=this.index++;try{L=this.project(ne,V)}catch(ee){return void this.destination.error(ee)}this.active++,this._innerSub(L)}_innerSub(ne){const L=new O.IY(this),V=this.destination;V.add(L);const ee=(0,O.ft)(ne,L);ee!==L&&V.add(ee)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ne){this.destination.next(ne)}notifyComplete(){const ne=this.buffer;this.active--,ne.length>0?this._next(ne.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(et,De,F)=>{"use strict";F.d(De,{ht:()=>V,QV:()=>ne});var d=F(7393),B=F(9193),O=F(5917),ae=F(7574);class ue{constructor(le,Ie,ge){this.kind=le,this.value=Ie,this.error=ge,this.hasValue="N"===le}observe(le){switch(this.kind){case"N":return le.next&&le.next(this.value);case"E":return le.error&&le.error(this.error);case"C":return le.complete&&le.complete()}}do(le,Ie,ge){switch(this.kind){case"N":return le&&le(this.value);case"E":return Ie&&Ie(this.error);case"C":return ge&&ge()}}accept(le,Ie,ge){return le&&"function"==typeof le.next?this.observe(le):this.do(le,Ie,ge)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return Q=this.error,new ae.y(Ie=>Ie.error(Q));case"C":return(0,B.c)()}var Q;throw new Error("unexpected notification kind value")}static createNext(le){return void 0!==le?new ue("N",le):ue.undefinedValueNotification}static createError(le){return new ue("E",void 0,le)}static createComplete(){return ue.completeNotification}}function ne(Q,le=0){return function(ge){return ge.lift(new L(Q,le))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class L{constructor(le,Ie=0){this.scheduler=le,this.delay=Ie}call(le,Ie){return Ie.subscribe(new V(le,this.scheduler,this.delay))}}class V extends d.L{constructor(le,Ie,ge=0){super(le),this.scheduler=Ie,this.delay=ge}static dispatch(le){const{notification:Ie,destination:ge}=le;Ie.observe(ge),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new ee(le,this.destination)))}_next(le){this.scheduleMessage(ue.createNext(le))}_error(le){this.scheduleMessage(ue.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class ee{constructor(le,Ie){this.notification=le,this.destination=Ie}}},1307:(et,De,F)=>{"use strict";F.d(De,{x:()=>B});var d=F(7393);function B(){return function(se){return se.lift(new O(se))}}class O{constructor(se){this.connectable=se}call(se,ye){const{connectable:ue}=this;ue._refCount++;const ne=new ae(se,ue),L=ye.subscribe(ne);return ne.closed||(ne.connection=ue.connect()),L}}class ae extends d.L{constructor(se,ye){super(se),this.connectable=ye}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const ye=se._refCount;if(ye<=0)return void(this.connection=null);if(se._refCount=ye-1,ye>1)return void(this.connection=null);const{connection:ue}=this,ne=se._connection;this.connection=null,ne&&(!ue||ne===ue)&&ne.unsubscribe()}}},3101:(et,De,F)=>{"use strict";F.d(De,{R:()=>Y});var d=F(7574);let B=1;const O=Promise.resolve(),ae={};function oe(me){return me in ae&&(delete ae[me],!0)}const se={setImmediate(me){const pe=B++;return ae[pe]=!0,O.then(()=>oe(pe)&&me()),pe},clearImmediate(me){oe(me)}};var ue=F(6465),L=F(6102);const Q=new class extends L.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:Ne}=this;let ze,Ve=-1,Pt=Ne.length;pe=pe||Ne.shift();do{if(ze=pe.execute(pe.state,pe.delay))break}while(++Ve<Pt&&(pe=Ne.shift()));if(this.active=!1,ze){for(;++Ve<Pt&&(pe=Ne.shift());)pe.unsubscribe();throw ze}}}(class extends ue.o{constructor(pe,Ne){super(pe,Ne),this.scheduler=pe,this.work=Ne}requestAsyncId(pe,Ne,ze=0){return null!==ze&&ze>0?super.requestAsyncId(pe,Ne,ze):(pe.actions.push(this),pe.scheduled||(pe.scheduled=se.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,Ne,ze=0){if(null!==ze&&ze>0||null===ze&&this.delay>0)return super.recycleAsyncId(pe,Ne,ze);0===pe.actions.length&&(se.clearImmediate(Ne),pe.scheduled=void 0)}});var le=F(9796);class ge extends d.y{constructor(pe,Ne=0,ze=Q){var me;super(),this.source=pe,this.delayTime=Ne,this.scheduler=ze,(!(!(0,le.k)(me=Ne)&&me-parseFloat(me)+1>=0)||Ne<0)&&(this.delayTime=0),(!ze||"function"!=typeof ze.schedule)&&(this.scheduler=Q)}static create(pe,Ne=0,ze=Q){return new ge(pe,Ne,ze)}static dispatch(pe){const{source:Ne,subscriber:ze}=pe;return this.add(Ne.subscribe(ze))}_subscribe(pe){return this.scheduler.schedule(ge.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function Y(me,pe=0){return function(ze){return ze.lift(new ve(me,pe))}}class ve{constructor(pe,Ne){this.scheduler=pe,this.delay=Ne}call(pe,Ne){return new ge(Ne,this.delay,this.scheduler).subscribe(pe)}}},3342:(et,De,F)=>{"use strict";F.d(De,{b:()=>ae});var d=F(7393);function B(){}var O=F(9105);function ae(ye,ue,ne){return function(V){return V.lift(new oe(ye,ue,ne))}}class oe{constructor(ue,ne,L){this.nextOrObserver=ue,this.error=ne,this.complete=L}call(ue,ne){return ne.subscribe(new se(ue,this.nextOrObserver,this.error,this.complete))}}class se extends d.L{constructor(ue,ne,L,V){super(ue),this._tapNext=B,this._tapError=B,this._tapComplete=B,this._tapError=L||B,this._tapComplete=V||B,(0,O.m)(ne)?(this._context=this,this._tapNext=ne):ne&&(this._context=ne,this._tapNext=ne.next||B,this._tapError=ne.error||B,this._tapComplete=ne.complete||B)}_next(ue){try{this._tapNext.call(this._context,ue)}catch(ne){return void this.destination.error(ne)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch(ne){return void this.destination.error(ne)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(et,De,F)=>{"use strict";F.d(De,{r:()=>O});var d=F(7574),B=F(5319);function O(ae,oe){return new d.y(se=>{const ye=new B.w;let ue=0;return ye.add(oe.schedule(function(){ue!==ae.length?(se.next(ae[ue++]),se.closed||ye.add(this.schedule())):se.complete()})),ye})}},6465:(et,De,F)=>{"use strict";F.d(De,{o:()=>O});var d=F(5319);class B extends d.w{constructor(oe,se){super()}schedule(oe,se=0){return this}}class O extends B{constructor(oe,se){super(oe,se),this.scheduler=oe,this.work=se,this.pending=!1}schedule(oe,se=0){if(this.closed)return this;this.state=oe;const ye=this.id,ue=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(ue,ye,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(ue,this.id,se),this}requestAsyncId(oe,se,ye=0){return setInterval(oe.flush.bind(oe,this),ye)}recycleAsyncId(oe,se,ye=0){if(null!==ye&&this.delay===ye&&!1===this.pending)return se;clearInterval(se)}execute(oe,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(oe,se);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,se){let ue,ye=!1;try{this.work(oe)}catch(ne){ye=!0,ue=!!ne&&ne||new Error(ne)}if(ye)return this.unsubscribe(),ue}_unsubscribe(){const oe=this.id,se=this.scheduler,ye=se.actions,ue=ye.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&ye.splice(ue,1),null!=oe&&(this.id=this.recycleAsyncId(se,oe,null)),this.delay=null}}},6102:(et,De,F)=>{"use strict";F.d(De,{v:()=>B});let d=(()=>{class O{constructor(oe,se=O.now){this.SchedulerAction=oe,this.now=se}schedule(oe,se=0,ye){return new this.SchedulerAction(this,oe).schedule(ye,se)}}return O.now=()=>Date.now(),O})();class B extends d{constructor(ae,oe=d.now){super(ae,()=>B.delegate&&B.delegate!==this?B.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,oe=0,se){return B.delegate&&B.delegate!==this?B.delegate.schedule(ae,oe,se):super.schedule(ae,oe,se)}flush(ae){const{actions:oe}=this;if(this.active)return void oe.push(ae);let se;this.active=!0;do{if(se=ae.execute(ae.state,ae.delay))break}while(ae=oe.shift());if(this.active=!1,se){for(;ae=oe.shift();)ae.unsubscribe();throw se}}}},3637:(et,De,F)=>{"use strict";F.d(De,{z:()=>O,P:()=>ae});var d=F(6465);const O=new(F(6102).v)(d.o),ae=O},7771:(et,De,F)=>{"use strict";F.d(De,{c:()=>se,N:()=>oe});var d=F(6465),O=F(6102);const oe=new class extends O.v{}(class extends d.o{constructor(ue,ne){super(ue,ne),this.scheduler=ue,this.work=ne}schedule(ue,ne=0){return ne>0?super.schedule(ue,ne):(this.delay=ne,this.state=ue,this.scheduler.flush(this),this)}execute(ue,ne){return ne>0||this.closed?super.execute(ue,ne):this._execute(ue,ne)}requestAsyncId(ue,ne,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(ue,ne,L):ue.flush(this)}}),se=oe},377:(et,De,F)=>{"use strict";F.d(De,{hZ:()=>B});const B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(et,De,F)=>{"use strict";F.d(De,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(et,De,F)=>{"use strict";F.d(De,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(et,De,F)=>{"use strict";F.d(De,{N:()=>B});const B=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(et,De,F)=>{"use strict";function d(B){setTimeout(()=>{throw B},0)}F.d(De,{z:()=>d})},4487:(et,De,F)=>{"use strict";function d(B){return B}F.d(De,{y:()=>d})},9796:(et,De,F)=>{"use strict";F.d(De,{k:()=>d});const d=Array.isArray||(B=>B&&"number"==typeof B.length)},9489:(et,De,F)=>{"use strict";F.d(De,{z:()=>d});const d=B=>B&&"number"==typeof B.length&&"function"!=typeof B},9105:(et,De,F)=>{"use strict";function d(B){return"function"==typeof B}F.d(De,{m:()=>d})},1555:(et,De,F)=>{"use strict";function d(B){return null!==B&&"object"==typeof B}F.d(De,{K:()=>d})},4072:(et,De,F)=>{"use strict";function d(B){return!!B&&"function"!=typeof B.subscribe&&"function"==typeof B.then}F.d(De,{t:()=>d})},4869:(et,De,F)=>{"use strict";function d(B){return B&&"function"==typeof B.schedule}F.d(De,{K:()=>d})},7444:(et,De,F)=>{"use strict";F.d(De,{s:()=>V});var d=F(5015),B=F(4449),ae=F(377),se=F(6554),ue=F(9489),ne=F(4072),L=F(1555);const V=ee=>{if(ee&&"function"==typeof ee[se.L])return(ee=>Q=>{const le=ee[se.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(Q)})(ee);if((0,ue.z)(ee))return(0,d.V)(ee);if((0,ne.t)(ee))return(ee=>Q=>(ee.then(le=>{Q.closed||(Q.next(le),Q.complete())},le=>Q.error(le)).then(null,B.z),Q))(ee);if(ee&&"function"==typeof ee[ae.hZ])return(ee=>Q=>{const le=ee[ae.hZ]();for(;;){let Ie;try{Ie=le.next()}catch(ge){return Q.error(ge),Q}if(Ie.done){Q.complete();break}if(Q.next(Ie.value),Q.closed)break}return"function"==typeof le.return&&Q.add(()=>{le.return&&le.return()}),Q})(ee);{const le=`You provided ${(0,L.K)(ee)?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},5015:(et,De,F)=>{"use strict";F.d(De,{V:()=>d});const d=B=>O=>{for(let ae=0,oe=B.length;ae<oe&&!O.closed;ae++)O.next(B[ae]);O.complete()}},6142:(et,De,F)=>{"use strict";var d=F(3018);let B=null;function O(){return B}const ye=new d.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:ne,token:n,providedIn:"platform"}),n})();function ne(){return(0,d.LFG)(V)}const L=new d.OlP("Location Initialized");let V=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=O().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,s,a){ee()?this._history.pushState(t,s,a):this.location.hash=a}replaceState(t,s,a){ee()?this._history.replaceState(t,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye))},n.\u0275prov=(0,d.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Q(){return new V((0,d.LFG)(ye))}function le(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ge(n){return n&&"?"!==n[0]?"?"+n:n}let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,d.Yz7)({factory:ve,token:n,providedIn:"root"}),n})();function ve(n){const e=(0,d.LFG)(ye).location;return new pe((0,d.LFG)(ue),e&&e.origin||"")}const me=new d.OlP("appBaseHref");let pe=(()=>{class n extends Y{constructor(t,s){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return le(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+ge(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${s}${a}`:s}pushState(t,s,a,l){const f=this.prepareExternalUrl(a+ge(l));this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){const f=this.prepareExternalUrl(a+ge(l));this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends Y{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=le(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,a,l){let f=this.prepareExternalUrl(a+ge(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,s,f)}replaceState(t,s,a,l){let f=this.prepareExternalUrl(a+ge(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(t,s){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ie(ft(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+ge(s))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ft(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,s="",a=null){this._platformStrategy.pushState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ge(s)),a)}replaceState(t,s="",a=null){this._platformStrategy.replaceState(a,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ge(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(a=>a(t,s))}subscribe(t,s,a){return this._subject.subscribe({next:t,error:s,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Y),d.LFG(ue))},n.normalizeQueryParams=ge,n.joinWithSlash=le,n.stripTrailingSlash=Ie,n.\u0275prov=(0,d.Yz7)({factory:Ve,token:n,providedIn:"root"}),n})();function Ve(){return new ze((0,d.LFG)(Y),(0,d.LFG)(ue))}function ft(n){return n.replace(/\/index.html$/,"")}var Tt=(()=>((Tt=Tt||{})[Tt.Zero=0]="Zero",Tt[Tt.One=1]="One",Tt[Tt.Two=2]="Two",Tt[Tt.Few=3]="Few",Tt[Tt.Many=4]="Many",Tt[Tt.Other=5]="Other",Tt))();const Re=d.kL8;class Cr{}let Kn=(()=>{class n extends Cr{constructor(t){super(),this.locale=t}getPluralCategory(t,s){switch(Re(s||this.locale)(t)){case Tt.Zero:return"zero";case Tt.One:return"one";case Tt.Two:return"two";case Tt.Few:return"few";case Tt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class vu{constructor(e,t,s,a){this.$implicit=e,this.ngForOf=t,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(t,s,a){this._viewContainer=t,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=[];t.forEachOperation((a,l,f)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new vu(null,this._ngForOf,-1,-1),null===f?void 0:f),w=new ir(a,y);s.push(w)}else if(null==f)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const y=this._viewContainer.get(l);this._viewContainer.move(y,f);const w=new ir(a,y);s.push(w)}});for(let a=0;a<s.length;a++)this._perViewChange(s[a].view,s[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const f=this._viewContainer.get(a);f.context.index=a,f.context.count=l,f.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,s){t.context.$implicit=s.item}static ngTemplateContextGuard(t,s){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class ir{constructor(e,t){this.record=e,this.view=t}}let hr=(()=>{class n{constructor(t,s,a){this._ngEl=t,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,s){const[a,l]=t.split(".");null!=(s=null!=s&&l?`${s}${l}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(t){t.forEachRemovedItem(s=>this._setStyle(s.key,null)),t.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),t.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),yd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:Cr,useClass:Kn}]}),n})();function bo(n){return"server"===n}let Pa=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Kc((0,d.LFG)(ye),window)}),n})();class Kc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}a=s.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),s=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ji(this.window.history)||Ji(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ji(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Gs,B||(B=n)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(kr=kr||document.querySelector("base"),kr?kr.getAttribute("href"):null);return null==t?null:function(n){Cs=Cs||document.createElement("a"),Cs.setAttribute("href",n);const e=Cs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const s=t.indexOf("="),[a,l]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Cs,kr=null;const Qc=new d.OlP("TRANSITION_ID"),Af=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const s=O(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[Qc,ye,d.zs3],multi:!0}];class vt{static init(){(0,d.VLi)(new vt)}addToWindow(e){d.dqk.getAngularTestability=(s,a=!0)=>{const l=e.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(s=>{const a=d.dqk.getAllAngularTestabilities();let l=a.length,f=!1;const y=function(w){f=f||w,l--,0==l&&s(f)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Sf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const es=new d.OlP("EventManagerPlugins");let wo=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const f=a[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(es),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=O().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let Fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zs=(()=>{class n extends Fa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,a.push(s.appendChild(f))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(xu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(xu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function xu(n){O().remove(n)}const Ae={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ot=/%COMP%/g;function ta(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?ta(n,a,t):(a=a.replace(Ot,n),t.push(a))}return t}function Mu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ys=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new Vi(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case d.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new ns(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case d.ifc.ShadowDom:return new Ts(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=ta(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wo),d.LFG(zs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Vi{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ae[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const l=Ae[a];l?e.setAttributeNS(l,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=Ae[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,s,a&d.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Mu(s)):this.eventManager.addEventListener(e,t,Mu(s))}}class ns extends Vi{constructor(e,t,s,a){super(e),this.component=s;const l=ta(a+"-"+s.id,s.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Ot,a+"-"+s.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ot,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class Ts extends Vi{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ta(a.id,a.styles,[]);for(let f=0;f<l.length;f++){const y=document.createElement("style");y.textContent=l[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Va=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=["alt","control","meta","shift"],ra={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ir={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ui=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const l=n.parseEventName(s),f=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(s.pop());let f="";if(Io.forEach(w=>{const A=s.indexOf(w);A>-1&&(s.splice(A,1),f+=w+".")}),f+=l,0!=s.length||0===l.length)return null;const y={};return y.domEventName=a,y.fullKey=f,y}static getEventFullKey(t){let s="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&nl.hasOwnProperty(e)&&(e=nl[e]))}return ra[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Io.forEach(l=>{l!=a&&Ir[l](t)&&(s+=l+".")}),s+=a,s}static eventCallback(t,s,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>s(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ye))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ul=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){Gs.makeCurrent(),vt.init()},multi:!0},{provide:ye,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Qs=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:es,useClass:Va,multi:!0,deps:[ye,d.R0b,d.Lbi]},{provide:es,useClass:Ui,multi:!0,deps:[ye]},[],{provide:Ys,useClass:Ys,deps:[wo,zs,d.AFp]},{provide:d.FYo,useExisting:Ys},{provide:Fa,useExisting:zs},{provide:zs,useClass:zs,deps:[ye]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:wo,useClass:wo,deps:[es,d.R0b]},{provide:class{},useClass:Sf,deps:[]},[]];let ja=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:Qc,useExisting:d.AFp},Af]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:Qs,imports:[yd,d.hGG]}),n})();"undefined"!=typeof window&&window;var un=F(4402),Xe=F(5917),As=F(9765),sa=F(7971);class gr extends As.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new sa.N;return this._value}next(e){super.next(this._value=e)}}var $u=F(4869),Ss=F(9796),Qn=F(7393);class ll extends Qn.L{notifyNext(e,t,s,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Za extends Qn.L{constructor(e,t,s){super(),this.parent=e,this.outerValue=t,this.outerIndex=s,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ad=F(7444),Kt=F(7574);function Sd(n,e,t,s,a=new Za(n,t,s)){if(!a.closed)return e instanceof Kt.y?e.subscribe(a):(0,Ad.s)(e)(a)}var Ga=F(6693);const xd={};class Wa{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new dl(e,this.resultSelector))}}class dl extends ll{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(xd),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let s=0;s<t;s++)this.add(Sd(this,e[s],void 0,s))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,s){const a=this.values,f=this.toRespond?a[s]===xd?--this.toRespond:this.toRespond:0;a[s]=t,0===f&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(s){return void this.destination.error(s)}this.destination.next(t)}}const xo=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var vi=F(3282);function eo(...n){return(0,vi.J)(1)((0,Xe.of)(...n))}var ni=F(9193);function Ro(n){return new Kt.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,un.D)(t):(0,ni.c)()).subscribe(e)})}var rs=F(2441),pt=F(8002),Bi=F(5345);function Jn(n,e){return"function"==typeof e?t=>t.pipe(Jn((s,a)=>(0,un.D)(n(s,a)).pipe((0,pt.U)((l,f)=>e(s,l,a,f))))):t=>t.lift(new to(n))}class to{constructor(e){this.project=e}call(e,t){return t.subscribe(new Of(e,this.project))}}class Of extends Bi.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const s=this.index++;try{t=this.project(e,s)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const s=new Bi.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,Bi.ft)(e,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const hl=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Pf(n){return e=>0===n?(0,ni.c)():e.lift(new Md(n))}class Md{constructor(e){if(this.total=e,this.total<0)throw new hl}call(e,t){return t.subscribe(new On(e,this.total))}}class On extends Qn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,s=++this.count;s<=t&&(this.destination.next(e),s===t&&(this.destination.complete(),this.unsubscribe()))}}function Hu(...n){const e=n[n.length-1];return(0,$u.K)(e)?(n.pop(),t=>eo(n,t,e)):t=>eo(n,t)}function Mo(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Nd(n,e,t))}}class Nd{constructor(e,t,s=!1){this.accumulator=e,this.seed=t,this.hasSeed=s}call(e,t){return t.subscribe(new Gg(e,this.accumulator,this.seed,this.hasSeed))}}class Gg extends Qn.L{constructor(e,t,s,a){super(e),this.accumulator=t,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let s;try{s=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function is(n,e){return function(s){return s.lift(new fl(n,e))}}class fl{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new kf(e,this.predicate,this.thisArg))}}class kf extends Qn.L{constructor(e,t,s){super(e),this.predicate=t,this.thisArg=s,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(s){return void this.destination.error(s)}t&&this.destination.next(e)}}function no(n){return function(t){const s=new qu(n),a=t.lift(s);return s.caught=a}}class qu{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Od(e,this.selector,this.caught))}}class Od extends Bi.Ds{constructor(e,t,s){super(e),this.selector=t,this.caught=s}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const s=new Bi.IY(this);this.add(s);const a=(0,Bi.ft)(t,s);a!==s&&this.add(a)}}}var Tr=F(9773);function ro(n,e){return(0,Tr.zg)(n,e,1)}function pl(n){return function(t){return 0===n?(0,ni.c)():t.lift(new sr(n))}}class sr{constructor(e){if(this.total=e,this.total<0)throw new hl}call(e,t){return t.subscribe(new Zu(e,this.total))}}class Zu extends Qn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,s=this.total,a=this.count++;t.length<s?t.push(e):t[a%s]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<s;l++){const f=t++%s;e.next(a[f])}}e.complete()}}function Ka(n=ri){return e=>e.lift(new Ya(n))}class Ya{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Pd(e,this.errorFactory))}}class Pd extends Qn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function ri(){return new xo}function ji(n=null){return e=>e.lift(new ss(n))}class ss{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new No(e,this.defaultValue))}}class No extends Qn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var mr=F(4487);function io(n,e){const t=arguments.length>=2;return s=>s.pipe(n?is((a,l)=>n(a,l,s)):mr.y,Pf(1),t?ji(e):Ka(()=>new xo))}var Kr=F(3342),Fd=F(1307),Ff=F(5319);function Gu(n){return e=>e.lift(new C(n))}class C{constructor(e){this.callback=e}call(e,t){return t.subscribe(new T(e,this.callback))}}class T extends Qn.L{constructor(e,t){super(e),this.add(new Ff.w(t))}}class x{constructor(e,t){this.id=e,this.url=t}}class U extends x{constructor(e,t,s="imperative",a=null){super(e,t),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class J extends x{constructor(e,t,s){super(e,t),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class de extends x{constructor(e,t,s){super(e,t),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xe extends x{constructor(e,t,s){super(e,t),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ke extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class We extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zt extends x{constructor(e,t,s,a,l){super(e,t),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gt extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr extends x{constructor(e,t,s,a){super(e,t),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bi{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xs{constructor(e,t,s){this.routerEvent=e,this.position=t,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class Lf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function oa(n){return new Lf(n)}const Ld="ngNavigationCancelingError";function Ja(n){const e=Error("NavigationCancelingError: "+n);return e[Ld]=!0,e}function Vf(n,e,t){const s=t.path.split("/");if(s.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||s.length<n.length))return null;const a={};for(let l=0;l<s.length;l++){const f=s[l],y=n[l];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Rs(n,e){const t=n?Object.keys(n):void 0,s=e?Object.keys(e):void 0;if(!t||!s||t.length!=s.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!Wg(n[a],e[a]))return!1;return!0}function Wg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),s=[...e].sort();return t.every((a,l)=>s[l]===a)}return n===e}function Po(n){return Array.prototype.concat.apply([],n)}function Wu(n){return n.length>0?n[n.length-1]:null}function or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ms(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,un.D)(Promise.resolve(n)):(0,Xe.of)(n)}const ua={exact:function zg(n,e,t){if(!ca(n.segments,e.segments)||!Ku(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const s in e.children)if(!n.children[s]||!zg(n.children[s],e.children[s],t))return!1;return!0},subset:zu},so={exact:function(n,e){return Rs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Wg(n[t],e[t]))},ignored:()=>!0};function gl(n,e,t){return ua[t.paths](n.root,e.root,t.matrixParams)&&so[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zu(n,e,t){return Xa(n,e,e.segments,t)}function Xa(n,e,t,s){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!ca(a,t)||e.hasChildren()||!Ku(a,t,s))}if(n.segments.length===t.length){if(!ca(n.segments,t)||!Ku(n.segments,t,s))return!1;for(const a in e.children)if(!n.children[a]||!zu(n.children[a],e.children[a],s))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ca(n.segments,a)&&Ku(n.segments,a,s)&&n.children[Dt])&&Xa(n.children[Dt],e,l,s)}}function Ku(n,e,t){return e.every((s,a)=>so[t](n[a].parameters,s.parameters))}class ko{constructor(e,t,s){this.root=e,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return Dw.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bd(this)}}class Ns{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=oa(this.parameters)),this._parameterMap}toString(){return Uy(this)}}function ca(n,e){return n.length===e.length&&n.every((t,s)=>t.path===e[s].path)}class ml{}class Ud{parse(e){const t=new jy(e);return new ko(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${_l(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const s=n[t];return Array.isArray(s)?s.map(a=>`${eu(t)}=${eu(a)}`).join("&"):`${eu(t)}=${eu(s)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Dw=new Ud;function Bd(n){return n.segments.map(e=>Uy(e)).join("/")}function _l(n,e){if(!n.hasChildren())return Bd(n);if(e){const t=n.children[Dt]?_l(n.children[Dt],!1):"",s=[];return or(n.children,(a,l)=>{l!==Dt&&s.push(`${l}:${_l(a,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function(n,e){let t=[];return or(n.children,(s,a)=>{a===Dt&&(t=t.concat(e(s,a)))}),or(n.children,(s,a)=>{a!==Dt&&(t=t.concat(e(s,a)))}),t}(n,(s,a)=>a===Dt?[_l(n.children[Dt],!1)]:[`${a}:${_l(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Bd(n)}/${t[0]}`:`${Bd(n)}/(${t.join("//")})`}}function jd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(n){return jd(n).replace(/%3B/gi,";")}function Fo(n){return jd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(n){return decodeURIComponent(n)}function yl(n){return $d(n.replace(/\+/g,"%20"))}function Uy(n){return`${Fo(n.path)}${function(n){return Object.keys(n).map(e=>`;${Fo(e)}=${Fo(n[e])}`).join("")}(n.parameters)}`}const Kg=/^[^\/()?;=#]+/;function vl(n){const e=n.match(Kg);return e?e[0]:""}const Yg=/^[^=?&#]+/,By=/^[^?&#]+/;class jy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(s[Dt]=new jt(e,t)),s}parseSegment(){const e=vl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ns($d(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=vl(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const a=vl(this.remaining);a&&(s=a,this.capture(s))}e[$d(t)]=$d(s)}parseQueryParam(e){const t=function(n){const e=n.match(Yg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const f=function(n){const e=n.match(By);return e?e[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const a=yl(t),l=yl(s);if(e.hasOwnProperty(a)){let f=e[a];Array.isArray(f)||(f=[f],e[a]=f),f.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=vl(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.substr(0,s.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Dt);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Dt]:new jt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$f(e,this._root);return t?t.children.map(s=>s.value):[]}firstChild(e){const t=$f(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Os(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Os(e,this._root).map(t=>t.value)}}function $f(n,e){if(n===e.value)return e;for(const t of e.children){const s=$f(n,t);if(s)return s}return null}function Os(n,e){if(n===e.value)return[e];for(const t of e.children){const s=Os(n,t);if(s.length)return s.unshift(e),s}return[]}class Ei{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jg extends Qg{constructor(e,t){super(e),this.snapshot=t,Zd(this,e)}toString(){return this.snapshot.toString()}}function Xg(n,e){const t=function(n,e){const f=new Ju([],{},{},"",{},Dt,e,null,n.root,-1,{});return new tm("",new Ei(f,[]))}(n,e),s=new gr([new Ns("",{})]),a=new gr({}),l=new gr({}),f=new gr({}),y=new gr(""),w=new Qu(s,a,f,y,l,Dt,e,t.root);return w.snapshot=t.root,new Jg(new Ei(w,[]),t)}class Qu{constructor(e,t,s,a,l,f,y,w){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(e=>oa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(e=>oa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qd(n,e="emptyOnly"){const t=n.pathFromRoot;let s=0;if("always"!==e)for(s=t.length-1;s>=1;){const a=t[s],l=t[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(s))}class Ju{constructor(e,t,s,a,l,f,y,w,A,M,k){this.url=e,this.params=t,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=f,this.component=y,this.routeConfig=w,this._urlSegment=A,this._lastPathIndex=M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tm extends Qg{constructor(e,t){super(t),this.url=e,Zd(this,t)}toString(){return nm(this._root)}}function Zd(n,e){e.value._routerState=n,e.children.forEach(t=>Zd(n,t))}function nm(n){const e=n.children.length>0?` { ${n.children.map(nm).join(", ")} } `:"";return`${n.value}${e}`}function Gd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Rs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Rs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hf(n,e){return Rs(n.params,e.params)&&function(n,e){return ca(n,e)&&n.every((t,s)=>Rs(t.parameters,e[s].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||Hf(n.parent,e.parent))}function ec(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(s=>{for(const a of t.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return ec(n,s,a);return ec(n,s)})}(n,e,t);return new Ei(s,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return Ps(e,f),f}}const s=function(n){return new Qu(new gr(n.url),new gr(n.params),new gr(n.queryParams),new gr(n.fragment),new gr(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>ec(n,l));return new Ei(s,a)}}function Ps(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)Ps(n.children[t],e.children[t])}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function m(n,e,t,s,a){let l={};return s&&or(s,(f,y)=>{l[y]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new ko(t.root===n?e:E(t.root,n,e),l,a)}function E(n,e,t){const s={};return or(n.children,(a,l)=>{s[l]=a===e?t:E(a,e,t)}),new jt(n.segments,s)}class S{constructor(e,t,s){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=s,e&&s.length>0&&v(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(p);if(a&&a!==Wu(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K{constructor(e,t,s){this.segmentGroup=e,this.processChildren=t,this.index=s}}function at(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return Wt(n,e,t);const s=function(n,e,t){let s=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=t.length)return l;const f=n.segments[a],y=t[s];if(p(y))break;const w=`${y}`,A=s<t.length-1?t[s+1]:null;if(a>0&&void 0===w)break;if(w&&A&&"object"==typeof A&&void 0===A.outlets){if(!El(w,A,f))return l;s+=2}else{if(!El(w,{},f))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,e,t),a=t.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const l=new jt(n.segments.slice(0,s.pathIndex),{});return l.children[Dt]=new jt(n.segments.slice(s.pathIndex),n.children),Wt(l,0,a)}return s.match&&0===a.length?new jt(n.segments,{}):s.match&&!n.hasChildren()?Vr(n,e,t):s.match?Wt(n,0,a):Vr(n,e,t)}function Wt(n,e,t){if(0===t.length)return new jt(n.segments,{});{const s=function(n){return p(n[0])?n[0].outlets:{[Dt]:n}}(t),a={};return or(s,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[f]=at(n.children[f],e,l))}),or(n.children,(l,f)=>{void 0===s[f]&&(a[f]=l)}),new jt(n.segments,a)}}function Vr(n,e,t){const s=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(p(l)){const w=Lo(l.outlets);return new jt(s,w)}if(0===a&&v(t[0])){s.push(new Ns(n.segments[e].path,la(t[0]))),a++;continue}const f=p(l)?l.outlets[Dt]:`${l}`,y=a<t.length-1?t[a+1]:null;f&&y&&v(y)?(s.push(new Ns(f,la(y))),a+=2):(s.push(new Ns(f,{})),a++)}return new jt(s,{})}function Lo(n){const e={};return or(n,(t,s)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[s]=Vr(new jt([],{}),0,t))}),e}function la(n){const e={};return or(n,(t,s)=>e[s]=`${t}`),e}function El(n,e,t){return n==t.path&&Rs(e,t.parameters)}class im{constructor(e,t,s,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=s,this.forwardEvent=a}activate(e){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,e),Gd(this.futureState.root),this.activateChildRoutes(t,s,e)}deactivateChildRoutes(e,t,s){const a=nu(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,a[f],s),delete a[f]}),or(a,(l,f)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const f=s.getContext(a.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,s);else l&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const s=t.getContext(e.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),l=s.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const s=t.getContext(e.value.outlet),a=s&&e.value.component?s.children:t,l=nu(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(e,t,s){const a=nu(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new Oo(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Qa(e.value.snapshot))}activateRoutes(e,t,s){const a=e.value,l=t?t.value:null;if(Gd(a),a===l)if(a.component){const f=s.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,s);else if(a.component){const f=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),Dn(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=w,f.outlet&&f.outlet.activateWith(a,w),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,s)}}function Dn(n){Gd(n.value),n.children.forEach(Dn)}class zd{constructor(e,t){this.routes=e,this.module=t}}function as(n){return"function"==typeof n}function ru(n){return n instanceof ko}const om=Symbol("INITIAL_VALUE");function am(){return Jn(n=>function(...n){let e,t;return(0,$u.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ss.k)(n[0])&&(n=n[0]),(0,Ga.n)(n,t).lift(new Wa(e))}(n.map(e=>e.pipe(Pf(1),Hu(om)))).pipe(Mo((e,t)=>{let s=!1;return t.reduce((a,l,f)=>a!==om?a:(l===om&&(s=!0),s||!1!==l&&f!==t.length-1&&!ru(l)?a:l),e)},om),is(e=>e!==om),(0,pt.U)(e=>ru(e)?e:!0===e),Pf(1)))}let Kd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,s){1&t&&d._UZ(0,"router-outlet")},directives:function(){return[Em]},encapsulation:2}),n})();function wi(n,e=""){for(let t=0;t<n.length;t++){const s=n[t];Zy(s,Aw(e,s))}}function Zy(n,e){n.children&&wi(n.children,e)}function Aw(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function um(n){const e=n.children&&n.children.map(um),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=Kd),t}function An(n){return n.outlet||Dt}function Yd(n,e){const t=n.filter(s=>An(s)===e);return t.push(...n.filter(s=>An(s)!==e)),t}const cm={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lm(n,e,t){var s;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},cm):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Vf)(t,n,e);if(!l)return Object.assign({},cm);const f={};or(l.posParams,(w,A)=>{f[A]=w.path});const y=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:y,positionalParamSegments:null!==(s=l.posParams)&&void 0!==s?s:{}}}function dm(n,e,t,s,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(s=>Gf(n,e,s)&&An(s)!==Dt)}(n,t,s)){const f=new jt(e,function(n,e,t,s){const a={};a[Dt]=s,s._sourceSegment=n,s._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&An(l)!==Dt){const f=new jt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[An(l)]=f}return a}(n,e,s,new jt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(s=>Gf(n,e,s))}(n,t,s)){const f=new jt(n.segments,function(n,e,t,s,a,l){const f={};for(const y of s)if(Gf(n,t,y)&&!a[An(y)]){const w=new jt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[An(y)]=w}return Object.assign(Object.assign({},a),f)}(n,e,t,s,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new jt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Gf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rw(n,e,t,s){return!!(An(n)===s||s!==Dt&&Gf(e,t,n))&&("**"===n.path||lm(e,n,t).matched)}function Mw(n,e,t){return 0===e.length&&!n.children[t]}class Wf{constructor(e){this.segmentGroup=e||null}}class Gy{constructor(e){this.urlTree=e}}function Qd(n){return new Kt.y(e=>e.error(new Wf(n)))}function Wy(n){return new Kt.y(e=>e.error(new Gy(n)))}function nA(n){return new Kt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class hm{constructor(e,t,s,a,l){this.configLoader=t,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=dm(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Dt).pipe((0,pt.U)(l=>this.createUrlTree(zy(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(no(l=>{if(l instanceof Gy)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Wf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dt).pipe((0,pt.U)(a=>this.createUrlTree(zy(a),e.queryParams,e.fragment))).pipe(no(a=>{throw a instanceof Wf?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,s){const a=e.segments.length>0?new jt([],{[Dt]:e}):e;return new ko(a,t,s)}expandSegmentGroup(e,t,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(e,t,s).pipe((0,pt.U)(l=>new jt([],l))):this.expandSegment(e,s,t,s.segments,a,!0)}expandChildren(e,t,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return(0,un.D)(a).pipe(ro(l=>{const f=s.children[l],y=Yd(t,l);return this.expandSegmentGroup(e,y,f,l).pipe((0,pt.U)(w=>({segment:w,outlet:l})))}),Mo((l,f)=>(l[f.outlet]=f.segment,l),{}),function(n,e){const t=arguments.length>=2;return s=>s.pipe(n?is((a,l)=>n(a,l,s)):mr.y,pl(1),t?ji(e):Ka(()=>new xo))}())}expandSegment(e,t,s,a,l,f){return(0,un.D)(s).pipe(ro(y=>this.expandSegmentAgainstRoute(e,t,s,y,a,l,f).pipe(no(A=>{if(A instanceof Wf)return(0,Xe.of)(null);throw A}))),io(y=>!!y),no((y,w)=>{if(y instanceof xo||"EmptyError"===y.name){if(Mw(t,a,l))return(0,Xe.of)(new jt([],{}));throw new Wf(t)}throw y}))}expandSegmentAgainstRoute(e,t,s,a,l,f,y){return Rw(a,t,l,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f):Qd(t):Qd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,s,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Wy(l):this.lineralizeSegments(s,l).pipe((0,Tr.zg)(f=>{const y=new jt(f,{});return this.expandSegment(e,y,t,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,s,a,l,f){const{matched:y,consumedSegments:w,lastChild:A,positionalParamSegments:M}=lm(t,a,l);if(!y)return Qd(t);const k=this.applyRedirectCommands(w,a.redirectTo,M);return a.redirectTo.startsWith("/")?Wy(k):this.lineralizeSegments(a,k).pipe((0,Tr.zg)(q=>this.expandSegment(e,t,s,q.concat(l.slice(A)),f,!1)))}matchSegmentAgainstRoute(e,t,s,a,l){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.configLoader.load(e.injector,s)).pipe((0,pt.U)(q=>(s._loadedConfig=q,new jt(a,{})))):(0,Xe.of)(new jt(a,{}));const{matched:f,consumedSegments:y,lastChild:w}=lm(t,s,a);if(!f)return Qd(t);const A=a.slice(w);return this.getChildConfig(e,s,a).pipe((0,Tr.zg)(k=>{const q=k.module,X=k.routes,{segmentGroup:fe,slicedSegments:Pe}=dm(t,y,A,X),Ue=new jt(fe.segments,fe.children);if(0===Pe.length&&Ue.hasChildren())return this.expandChildren(q,X,Ue).pipe((0,pt.U)(lt=>new jt(y,lt)));if(0===X.length&&0===Pe.length)return(0,Xe.of)(new jt(y,{}));const Mt=An(s)===l;return this.expandSegment(q,Ue,X,Pe,Mt?Dt:l,!0).pipe((0,pt.U)(Lt=>new jt(y.concat(Lt.segments),Lt.children)))}))}getChildConfig(e,t,s){return t.children?(0,Xe.of)(new zd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Xe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,s).pipe((0,Tr.zg)(a=>{return a?this.configLoader.load(e.injector,t).pipe((0,pt.U)(l=>(t._loadedConfig=l,l))):(n=t,new Kt.y(e=>e.error(Ja(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Xe.of)(new zd([],e))}runCanLoadGuards(e,t,s){const a=t.canLoad;if(!a||0===a.length)return(0,Xe.of)(!0);const l=a.map(f=>{const y=e.get(f);let w;if((n=y)&&as(n.canLoad))w=y.canLoad(t,s);else{if(!as(y))throw new Error("Invalid CanLoad guard");w=y(t,s)}var n;return Ms(w)});return(0,Xe.of)(l).pipe(am(),(0,Kr.b)(f=>{if(!ru(f))return;const y=Ja(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,pt.U)(f=>!0===f))}lineralizeSegments(e,t){let s=[],a=t.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Xe.of)(s);if(a.numberOfChildren>1||!a.children[Dt])return nA(e.redirectTo);a=a.children[Dt]}}applyRedirectCommands(e,t,s){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,s)}applyRedirectCreatreUrlTree(e,t,s,a){const l=this.createSegmentGroup(e,t.root,s,a);return new ko(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const s={};return or(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[l]=t[y]}else s[l]=a}),s}createSegmentGroup(e,t,s,a){const l=this.createSegments(e,t.segments,s,a);let f={};return or(t.children,(y,w)=>{f[w]=this.createSegmentGroup(e,y,s,a)}),new jt(l,f)}createSegments(e,t,s,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,s))}findPosParam(e,t,s){const a=s[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let s=0;for(const a of t){if(a.path===e.path)return t.splice(s),a;s++}return e}}function zy(n){const e={};for(const s of Object.keys(n.children)){const l=zy(n.children[s]);(l.segments.length>0||l.hasChildren())&&(e[s]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}class Ow{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fm{constructor(e,t){this.component=e,this.route=t}}function iA(n,e,t){const s=n._root;return Ci(s,e?e._root:null,t,[s.value])}function pm(n,e,t){const s=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(s?s.module.injector:t).get(n)}function Ci(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=nu(e);return n.children.forEach(f=>{(function(n,e,t,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ca(n.url,e.url)||!Rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hf(n,e)||!Rs(n.queryParams,e.queryParams);case"paramsChange":default:return!Hf(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new Ow(s)):(l.data=f.data,l._resolvedData=f._resolvedData),Ci(n,e,l.component?y?y.children:null:t,s,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new fm(y.outlet.component,f))}else f&&zf(e,y,a),a.canActivateChecks.push(new Ow(s)),Ci(n,null,l.component?y?y.children:null:t,s,a)})(f,l[f.value.outlet],t,s.concat([f.value]),a),delete l[f.value.outlet]}),or(l,(f,y)=>zf(f,t.getContext(y),a)),a}function zf(n,e,t){const s=nu(n),a=n.value;or(s,(l,f)=>{zf(l,a.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new fm(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class hM{}function lA(n){return new Kt.y(e=>e.error(n))}class fM{constructor(e,t,s,a,l,f){this.rootComponentType=e,this.config=t,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=dm(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dt);if(null===t)return null;const s=new Ju([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ei(s,t),l=new tm(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,s=qd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(s.params),t.data=Object.freeze(s.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,s){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,s)}processChildren(e,t){const s=[];for(const l of Object.keys(t.children)){const f=t.children[l],y=Yd(e,l),w=this.processSegmentGroup(y,f,l);if(null===w)return null;s.push(...w)}const a=Vw(s);return a.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,s,a){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,s,a);if(null!==f)return f}return Mw(t,s,a)?[]:null}processSegmentAgainstRoute(e,t,s,a){if(e.redirectTo||!Rw(e,t,s,a))return null;let l,f=[],y=[];if("**"===e.path){const X=s.length>0?Wu(s).parameters:{};l=new Ju(s,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jy(e),An(e),e.component,e,eh(t),Qy(t)+s.length,mm(e))}else{const X=lm(t,e,s);if(!X.matched)return null;f=X.consumedSegments,y=s.slice(X.lastChild),l=new Ju(f,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Jy(e),An(e),e.component,e,eh(t),Qy(t)+f.length,mm(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:M}=dm(t,f,y,w.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&A.hasChildren()){const X=this.processChildren(w,A);return null===X?null:[new Ei(l,X)]}if(0===w.length&&0===M.length)return[new Ei(l,[])];const k=An(e)===a,q=this.processSegment(w,A,M,k?Dt:a);return null===q?null:[new Ei(l,q)]}}function Yy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vw(n){const e=[],t=new Set;for(const s of n){if(!Yy(s)){e.push(s);continue}const a=e.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),t.add(a)):e.push(s)}for(const s of t){const a=Vw(s.children);e.push(new Ei(s.value,a))}return e.filter(s=>!t.has(s))}function eh(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qy(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Jy(n){return n.data||{}}function mm(n){return n.resolve||{}}function _m(n){return Jn(e=>{const t=n(e);return t?(0,un.D)(t).pipe((0,pt.U)(()=>e)):(0,Xe.of)(e)})}class fA extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const nv=new d.OlP("ROUTES");class Bw{constructor(e,t,s,a){this.loader=e,this.compiler=t,this.onLoadStartListener=s,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,pt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new zd(Po(f.injector.get(nv,void 0,d.XFs.Self|d.XFs.Optional)).map(um),f)}),no(l=>{throw t._loader$=void 0,l}));return t._loader$=new rs.c(a,()=>new As.xQ).pipe((0,Fd.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,un.D)(this.loader.load(e)):Ms(e()).pipe((0,Tr.zg)(t=>t instanceof d.YKP?(0,Xe.of)(t):(0,un.D)(this.compiler.compileModuleAsync(t))))}}class pA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nh,this.attachRef=null}}class nh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const s=this.getOrCreateContext(e);s.outlet=t,this.contexts.set(e,s)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new pA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class jw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rv(n){throw n}function $w(n,e,t){return e.parse("/")}function ym(n,e){return(0,Xe.of)(null)}const mA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_A={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class n{constructor(t,s,a,l,f,y,w,A){this.rootComponentType=t,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new As.xQ,this.errorHandler=rv,this.malformedUriErrorHandler=$w,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ym,afterPreactivation:ym},this.urlHandlingStrategy=new jw,this.routeReuseStrategy=new fA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const q=f.get(d.R0b);this.isNgZoneEnabled=q instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new ko(new jt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bw(y,w,X=>this.triggerEvent(new Ar(X)),X=>this.triggerEvent(new _r(X))),this.routerState=Xg(this.currentUrlTree,this.rootComponentType),this.transitions=new gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const s=this.events;return t.pipe(is(a=>0!==a.id),(0,pt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Jn(a=>{let l=!1,f=!1;return(0,Xe.of)(a).pipe((0,Kr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jn(y=>{const w=this.browserUrlTree.toString(),A=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return fa(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,Xe.of)(y).pipe(Jn(k=>{const q=this.transitions.getValue();return s.next(new U(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),q!==this.transitions.getValue()?ni.E:Promise.resolve(k)}),function(n,e,t,s){return Jn(a=>function(n,e,t,s,a){return new hm(n,e,t,s,a).apply()}(n,e,t,a.extractedUrl,s).pipe((0,pt.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kr.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,e,t,s,a){return(0,Tr.zg)(l=>function(n,e,t,s,a="emptyOnly",l="legacy"){try{const f=new fM(n,e,t,s,a,l).recognize();return null===f?lA(new hM):(0,Xe.of)(f)}catch(f){return lA(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),s,a).pipe((0,pt.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kr.b)(k=>{"eager"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(k.urlAfterRedirects,k),this.browserUrlTree=k.urlAfterRedirects);const q=new Ke(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);s.next(q)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:X,source:fe,restoredState:Pe,extras:Ue}=y,Mt=new U(q,this.serializeUrl(X),fe,Pe);s.next(Mt);const xt=Xg(X,this.rootComponentType).snapshot;return(0,Xe.of)(Object.assign(Object.assign({},y),{targetSnapshot:xt,urlAfterRedirects:X,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),ni.E}),_m(y=>{const{targetSnapshot:w,id:A,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:q,replaceUrl:X}}=y;return this.hooks.beforePreactivation(w,{navigationId:A,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!q,replaceUrl:!!X})}),(0,Kr.b)(y=>{const w=new We(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,pt.U)(y=>Object.assign(Object.assign({},y),{guards:iA(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Tr.zg)(t=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?(0,Xe.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,s){return(0,un.D)(n).pipe((0,Tr.zg)(a=>function(n,e,t,s,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Xe.of)(!0);const f=l.map(y=>{const w=pm(y,e,a);let A;if(function(n){return n&&as(n.canDeactivate)}(w))A=Ms(w.canDeactivate(n,e,t,s));else{if(!as(w))throw new Error("Invalid CanDeactivate guard");A=Ms(w(n,e,t,s))}return A.pipe(io())});return(0,Xe.of)(f).pipe(am())}(a.component,a.route,t,e,s)),io(a=>!0!==a,!0))}(f,s,a,n).pipe((0,Tr.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,s){return(0,un.D)(e).pipe(ro(a=>eo(function(n,e){return null!==n&&e&&e(new os(n)),(0,Xe.of)(!0)}(a.route.parent,s),function(n,e){return null!==n&&e&&e(new bi(n)),(0,Xe.of)(!0)}(a.route,s),function(n,e,t){const s=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>Ro(()=>{const y=f.guards.map(w=>{const A=pm(w,f.node,t);let M;if(function(n){return n&&as(n.canActivateChild)}(A))M=Ms(A.canActivateChild(s,n));else{if(!as(A))throw new Error("Invalid CanActivateChild guard");M=Ms(A(s,n))}return M.pipe(io())});return(0,Xe.of)(y).pipe(am())}));return(0,Xe.of)(l).pipe(am())}(n,a.path,t),function(n,e,t){const s=e.routeConfig?e.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Xe.of)(!0);const a=s.map(l=>Ro(()=>{const f=pm(l,e,t);let y;if(function(n){return n&&as(n.canActivate)}(f))y=Ms(f.canActivate(e,n));else{if(!as(f))throw new Error("Invalid CanActivate guard");y=Ms(f(e,n))}return y.pipe(io())}));return(0,Xe.of)(a).pipe(am())}(n,a.route,t))),io(a=>!0!==a,!0))}(s,l,n,e):(0,Xe.of)(y)),(0,pt.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Kr.b)(y=>{if(ru(y.guardsResult)){const A=Ja(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw A.url=y.guardsResult,A}const w=new Zt(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),is(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),_m(y=>{if(y.guards.canActivateChecks.length)return(0,Xe.of)(y).pipe((0,Kr.b)(w=>{const A=new Gt(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}),Jn(w=>{let A=!1;return(0,Xe.of)(w).pipe(function(n,e){return(0,Tr.zg)(t=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,Xe.of)(t);let l=0;return(0,un.D)(a).pipe(ro(f=>function(n,e,t,s){return function(n,e,t,s){const a=Object.keys(n);if(0===a.length)return(0,Xe.of)({});const l={};return(0,un.D)(a).pipe((0,Tr.zg)(f=>function(n,e,t,s){const a=pm(n,e,s);return Ms(a.resolve?a.resolve(e,t):a(e,t))}(n[f],e,t,s).pipe((0,Kr.b)(y=>{l[f]=y}))),pl(1),(0,Tr.zg)(()=>Object.keys(l).length===a.length?(0,Xe.of)(l):ni.E))}(n._resolve,n,e,s).pipe((0,pt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),qd(n,t).resolve),null)))}(f.route,s,n,e)),(0,Kr.b)(()=>l++),pl(1),(0,Tr.zg)(f=>l===a.length?(0,Xe.of)(t):ni.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kr.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Kr.b)(w=>{const A=new Dr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}))}),_m(y=>{const{targetSnapshot:w,id:A,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:q,replaceUrl:X}}=y;return this.hooks.afterPreactivation(w,{navigationId:A,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!q,replaceUrl:!!X})}),(0,pt.U)(y=>{const w=function(n,e,t){const s=ec(n,e._root,t?t._root:void 0);return new Jg(s,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:w})}),(0,Kr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,pt.U)(s=>(new im(e,s.targetRouterState,s.currentRouterState,t).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Kr.b)({next(){l=!0},complete(){l=!0}}),Gu(()=>{var y;if(!l&&!f){const w=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,w)):this.cancelNavigationTransition(a,w)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),no(y=>{if(f=!0,function(n){return n&&n[Ld]}(y)){const w=ru(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const A=new de(a.id,this.serializeUrl(a.extractedUrl),y.message);s.next(A),w?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),k={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fa(a.source)};this.scheduleNavigation(M,"imperative",null,k,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new xe(a.id,this.serializeUrl(a.extractedUrl),y);s.next(w);try{a.resolve(this.errorHandler(y))}catch(A){a.reject(A)}}return ni.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const s=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:l,urlTree:f}=s,y={replaceUrl:!0};if(l){const w=Object.assign({},l);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(y.state=w)}this.scheduleNavigation(f,a,l,y)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(t){var s;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,s){if(!t)return!0;const a=s.urlTree.toString()===t.urlTree.toString();return s.transitionId!==t.transitionId||!a||!("hashchange"===s.source&&"popstate"===t.source||"popstate"===s.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){wi(t),this.config=t.map(um),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,s={}){const{relativeTo:a,queryParams:l,fragment:f,queryParamsHandling:y,preserveFragment:w}=s,A=a||this.routerState.root,M=w?this.currentUrlTree.fragment:f;let k=null;switch(y){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,e,t,s,a){if(0===t.length)return m(e.root,e.root,e,s,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new S(!0,0,n);let e=0,t=!1;const s=n.reduce((a,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const y={};return or(l.outlets,(w,A)=>{y[A]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===f?(l.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,l]},[]);return new S(t,e,s)}(t);if(l.toRoot())return m(e.root,new jt([],{}),e,s,a);const f=function(n,e,t){if(n.isAbsolute)return new K(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new K(l,l===e.root,0)}const s=v(n.commands[0])?0:1;return function(n,e,t){let s=n,a=e,l=t;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new K(s,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(l,e,n),y=f.processChildren?Wt(f.segmentGroup,f.index,l.commands):at(f.segmentGroup,f.index,l.commands);return m(f.segmentGroup,y,e,s,a)}(A,this.currentUrlTree,t,k,null!=M?M:null)}navigateByUrl(t,s={skipLocationChange:!1}){const a=ru(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(t,s={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let s;try{s=this.urlSerializer.parse(t)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return s}isActive(t,s){let a;if(a=!0===s?Object.assign({},mA):!1===s?Object.assign({},_A):s,ru(t))return gl(this.currentUrlTree,t,a);const l=this.parseUrl(t);return gl(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((s,a)=>{const l=t[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,s,a,l,f){var y,w;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),M=fa(s)&&A&&!fa(A.source),X=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===t.toString();if(M&&X)return Promise.resolve(!0);let fe,Pe,Ue;f?(fe=f.resolve,Pe=f.reject,Ue=f.promise):Ue=new Promise((Lt,lt)=>{fe=Lt,Pe=lt});const Mt=++this.navigationId;let xt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),xt=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):xt=0,this.setTransition({id:Mt,targetPageId:xt,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:fe,reject:Pe,promise:Ue,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ue.catch(Lt=>Promise.reject(Lt))}setBrowserUrl(t,s){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,s=!1){var a,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,s){const a=new de(t.id,this.serializeUrl(t.extractedUrl),s);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.DyG),d.LFG(ml),d.LFG(nh),d.LFG(ze),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function fa(n){return"imperative"!==n}let Kf=(()=>{class n{constructor(t,s,a){this.router=t,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new As.xQ,this.subscription=t.events.subscribe(l=>{l instanceof J&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,s,a,l,f){if(0!==t||s||a||l||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const y={skipLocationChange:rh(this.skipLocationChange),replaceUrl:rh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:rh(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ii),d.Y36(Qu),d.Y36(Y))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,s){1&t&&d.NdJ("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&(d.Ikx("href",s.href,d.LSH),d.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),n})();function rh(n){return""===n||!!n}let Em=(()=>{class n{constructor(t,s,a,l,f){this.parentContexts=t,this.location=s,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=l||Dt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(s=s||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new qw(t,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nh),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class qw{constructor(e,t,s){this.route=e,this.childContexts=t,this.parent=s}get(e,t){return e===Qu?this.route:e===nh?this.childContexts:this.parent.get(e,t)}}class iv{}class ov{preload(e,t){return(0,Xe.of)(null)}}let Yf=(()=>{class n{constructor(t,s,a,l,f){this.router=t,this.injector=l,this.preloadingStrategy=f,this.loader=new Bw(s,a,A=>t.triggerEvent(new Ar(A)),A=>t.triggerEvent(new _r(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(is(t=>t instanceof J),ro(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const a=[];for(const l of s)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,un.D)(a).pipe((0,vi.J)(),(0,pt.U)(l=>{}))}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Xe.of)(s._loadedConfig):this.loader.load(t.injector,s)).pipe((0,Tr.zg)(l=>(s._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(iv))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ih=(()=>{class n{constructor(t,s,a={}){this.router=t,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof J&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xs&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.router.triggerEvent(new xs(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ii),d.LFG(Pa),d.LFG(void 0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=new d.OlP("ROUTER_CONFIGURATION"),av=new d.OlP("ROUTER_FORROOT_GUARD"),Qf=[ze,{provide:ml,useClass:Ud},{provide:Ii,useFactory:function(n,e,t,s,a,l,f,y={},w,A){const M=new Ii(null,n,e,t,s,a,l,Po(f));return w&&(M.urlHandlingStrategy=w),A&&(M.routeReuseStrategy=A),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,M),y.enableTracing&&M.events.subscribe(k=>{var q,X;null===(q=console.group)||void 0===q||q.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(X=console.groupEnd)||void 0===X||X.call(console)}),M},deps:[ml,nh,ze,d.zs3,d.v3s,d.Sil,nv,iu,[class{},new d.FiY],[class{},new d.FiY]]},nh,{provide:Qu,useFactory:function(n){return n.routerState.root},deps:[Ii]},{provide:d.v3s,useClass:d.EAV},Yf,ov,class{preload(e,t){return t().pipe(no(()=>(0,Xe.of)(null)))}},{provide:iu,useValue:{enableTracing:!1}}];function bA(){return new d.PXZ("Router",Ii)}let cv=(()=>{class n{constructor(t,s){}static forRoot(t,s){return{ngModule:n,providers:[Qf,wm(t),{provide:av,useFactory:Zw,deps:[[Ii,new d.FiY,new d.tp0]]},{provide:iu,useValue:s||{}},{provide:Y,useFactory:wA,deps:[ue,[new d.tBr(me),new d.FiY],iu]},{provide:ih,useFactory:EA,deps:[Ii,Pa,iu]},{provide:iv,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:ov},{provide:d.PXZ,multi:!0,useFactory:bA},[lv,{provide:d.ip1,multi:!0,useFactory:zw,deps:[lv]},{provide:Kw,useFactory:CA,deps:[lv]},{provide:d.tb,multi:!0,useExisting:Kw}]]}}static forChild(t){return{ngModule:n,providers:[wm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(av,8),d.LFG(Ii,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function EA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new ih(n,e,t)}function wA(n,e,t={}){return t.useHash?new Ne(n,e):new pe(n,e)}function Zw(n){return"guarded"}function wm(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:nv,multi:!0,useValue:n}]}let lv=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new As.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(y=>s=y),l=this.injector.get(Ii),f=this.injector.get(iu);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),l.initialNavigation()):s(!0),a})}bootstrapListener(t){const s=this.injector.get(iu),a=this.injector.get(Yf),l=this.injector.get(ih),f=this.injector.get(Ii),y=this.injector.get(d.z2F);t===y.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),l.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function zw(n){return n.appInitializer.bind(n)}function CA(n){return n.bootstrapListener.bind(n)}const Kw=new d.OlP("Router Initializer");var Yw=F(538),yt=F(3854),Uo=F(8026),tc=F(5422),sh=F(3910),Qw=F(6682),Jf=F(309),IA=F(7771),TA=F(8858);class At extends As.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Jw(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,s=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=s.length;let f;if(this.closed)throw new sa.N;if(this.isStopped||this.hasError?f=Ff.w.EMPTY:(this.observers.push(e),f=new TA.W(this,e)),a&&e.add(e=new Jf.ht(e,a)),t)for(let y=0;y<l&&!e.closed;y++)e.next(s[y]);else for(let y=0;y<l&&!e.closed;y++)e.next(s[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),f}_getNow(){return(this.scheduler||IA.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,s=this._windowTime,a=this._events,l=a.length;let f=0;for(;f<l&&!(e-a[f].time<s);)f++;return l>t&&(f=Math.max(f,l-t)),f>0&&a.splice(0,f),a}}class Jw{constructor(e,t){this.time=e,this.value=t}}function dv(n,e,t){let s;return s=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:s}){let a,f,l=0,y=!1,w=!1;return function(M){let k;l++,!a||y?(y=!1,a=new At(n,e,s),k=a.subscribe(this),f=M.subscribe({next(q){a.next(q)},error(q){y=!0,a.error(q)},complete(){w=!0,f=void 0,a.complete()}}),w&&(f=void 0)):k=a.subscribe(this),this.add(()=>{l--,k.unsubscribe(),k=void 0,f&&!w&&t&&0===l&&(f.unsubscribe(),f=void 0,a=void 0)})}}(s))}function ao(n,e){return e?Jn(()=>n,e):Jn(()=>n)}var Im=F(3101),yr=F(6436),ii=F(8939);F(2329);var _e=F(8239);const n0=new Map,hv={activated:!1,tokenObservers:[]},bM={initialized:!1,enabled:!1};function si(n){return n0.get(n)||hv}function ga(n,e){n0.set(n,e)}function fv(){return bM}class TM{constructor(e,t,s,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new yt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const $i=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sm(n){if(!si(n).activated)throw $i.create("use-before-activation",{appName:n.name})}function ma(n,e){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,_e.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:s};let f,y;try{f=yield fetch(n,l)}catch(k){throw $i.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==f.status)throw $i.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(k){throw $i.create("fetch-parse-error",{originalErrorMessage:k.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw $i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const A=1e3*Number(w[1]),M=Date.now();return{token:y.attestationToken,expireTimeMillis:M+A,issuedAtTimeMillis:M}})).apply(this,arguments)}function gv(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const tp="firebase-app-check-store";let ic=null;function wl(){return ic||(ic=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e($i.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(tp,{keyPath:"compositeKey"})}}}catch(t){e($i.create("storage-open",{originalErrorMessage:t.message}))}}),ic)}function Mm(){return(Mm=(0,_e.Z)(function*(n,e){const s=(yield wl()).transaction(tp,"readwrite"),l=s.objectStore(tp).put({compositeKey:n,value:e});return new Promise((f,y)=>{l.onsuccess=w=>{f()},s.onerror=w=>{var A;y($i.create("storage-set",{originalErrorMessage:null===(A=w.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const ch=new tc.Yd("@firebase/app-check");function vv(n,e){return(0,yt.hl)()?function(n,e){return function(n,e){return Mm.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ch.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bv(){return fv().enabled}function c0(){return km.apply(this,arguments)}function km(){return(km=(0,_e.Z)(function*(){const n=fv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const NA={error:"UNKNOWN_ERROR"};function ks(n){return yt.US.encodeString(JSON.stringify(n),!1)}function Fm(n){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,_e.Z)(function*(n,e=!1){const t=n.app;Sm(t);const s=si(t);let l,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&lh(w)&&(a=w)}if(!e&&a&&lh(a))return{token:a.token};let y,f=!1;if(bv()){s.exchangeTokenPromise||(s.exchangeTokenPromise=ma(gv(t,yield c0()),n.platformLoggerProvider).then(A=>(s.exchangeTokenPromise=void 0,A)),f=!0);const w=yield s.exchangeTokenPromise;return yield vv(t,w),ga(t,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),f=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?ch.warn(w.message):ch.error(w),l=w}return a?(y={token:a.token},ga(t,Object.assign(Object.assign({},s),{token:a})),yield vv(t,a)):y=f0(l),f&&h0(t,y),y})).apply(this,arguments)}function d0(n,e){const t=si(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ga(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function wv(n){const{app:e}=n,t=si(e);let s=t.tokenRefresher;s||(s=function(n){const{app:e}=n;return new TM((0,_e.Z)(function*(){let s;if(s=si(e).token?yield Fm(n,!0):yield Fm(n),s.error)throw s.error}),()=>!0,()=>{const t=si(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),ga(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function h0(n,e){const t=si(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function lh(n){return n.expireTimeMillis-Date.now()>0}function f0(n){return{token:ks(NA),error:n}}class OA{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)d0(this.app,t.next);return Promise.resolve()}}const Av="app-check-internal";(0,Uo._registerComponent)(new sh.wA("app-check",n=>function(n,e){return new OA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Av).initialize()})),(0,Uo._registerComponent)(new sh.wA(Av,n=>function(n){return{getToken:e=>Fm(n,e),addTokenListener:e=>function(n,e,t,s){const{app:a}=n,l=si(a),f={next:t,error:s,type:e};if(ga(a,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&lh(l.token)){const y=l.token;Promise.resolve().then(()=>{t({token:y.token}),wv(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>wv(n))}(n,"INTERNAL",e),removeTokenListener:e=>d0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uo.registerVersion)("@firebase/app-check","0.5.3");class Sv{constructor(){return(0,yr.vb)("app-check")}}"undefined"!=typeof window&&window,F(7841);const Mv=new d.OlP("angularfire2.auth.use-emulator"),D0=new d.OlP("angularfire2.auth.settings"),Nv=new d.OlP("angularfire2.auth.tenant-id"),A0=new d.OlP("angularfire2.auth.langugage-code"),jm=new d.OlP("angularfire2.auth.use-device-language"),S0=new d.OlP("angularfire.auth.persistence"),x0=(n,e,t,s,a,l,f,y)=>(0,ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),s&&(w.tenantId=s),w.languageCode=a,l&&w.useDeviceLanguage(),f)for(const[A,M]of Object.entries(f))w.settings[A]=M;return y&&w.setPersistence(y),w},[t,s,a,l,f,y]);let $m=(()=>{class n{constructor(t,s,a,l,f,y,w,A,M,k,q,X){const fe=new As.xQ,Pe=(0,Xe.of)(void 0).pipe((0,Jf.QV)(f.outsideAngular),Jn(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4828)))),(0,pt.U)(()=>(0,ii.on)(t,l,s)),(0,pt.U)(Ue=>x0(Ue,l,y,A,M,k,w,q)),dv({bufferSize:1,refCount:!1}));if(bo(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{Pe.pipe(io()).subscribe();const Mt=Pe.pipe(Jn(lt=>lt.getRedirectResult().then(Cn=>Cn,()=>null)),yr.iC,dv({bufferSize:1,refCount:!1})),xt=Pe.pipe(Jn(lt=>new Kt.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>lt.onAuthStateChanged(Pi=>Cn.next(Pi),Pi=>Cn.error(Pi),()=>Cn.complete()))})))),Lt=Pe.pipe(Jn(lt=>new Kt.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>lt.onIdTokenChanged(Pi=>Cn.next(Pi),Pi=>Cn.error(Pi),()=>Cn.complete()))}))));this.authState=Mt.pipe(ao(xt),(0,Im.R)(f.outsideAngular),(0,Jf.QV)(f.insideAngular)),this.user=Mt.pipe(ao(Lt),(0,Im.R)(f.outsideAngular),(0,Jf.QV)(f.insideAngular)),this.idToken=this.user.pipe(Jn(lt=>lt?(0,un.D)(lt.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(Jn(lt=>lt?(0,un.D)(lt.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,Qw.T)(Mt,fe,this.authState.pipe(is(lt=>!lt))).pipe((0,pt.U)(lt=>(null==lt?void 0:lt.user)?lt:null),(0,Im.R)(f.outsideAngular),(0,Jf.QV)(f.insideAngular))}return(0,ii.pX)(this,Pe,l,{spy:{apply:(Ue,Mt,xt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&xt.then(Lt=>fe.next(Lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(yr.HU),d.LFG(Mv,8),d.LFG(D0,8),d.LFG(Nv,8),d.LFG(A0,8),d.LFG(jm,8),d.LFG(S0,8),d.LFG(Sv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Cl=(()=>{class n{constructor(t,s){this.fireauth=t,this.router=s}login(t,s){this.fireauth.signInWithEmailAndPassword(t,s).then(a=>{var l;localStorage.setItem("token","true"),1==(null===(l=a.user)||void 0===l?void 0:l.emailVerified)?this.router.navigate(["dashboard"]):this.router.navigate(["/varify-email"])},a=>{alert(a.message),this.router.navigate(["/login"])})}register(t,s){this.fireauth.createUserWithEmailAndPassword(t,s).then(a=>{alert("Registration Successful"),this.sendEmailForVarification(a.user),this.router.navigate(["/login"])},a=>{alert(a.message),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/varify-email"])},s=>{alert("Something went wrong")})}sendEmailForVarification(t){console.log(t),t.sendEmailVerification().then(s=>{this.router.navigate(["/varify-email"])},s=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new Yw.N).then(t=>{var s;this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(null===(s=t.user)||void 0===s?void 0:s.uid))},t=>{alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($m),d.LFG(Ii))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var R0=F(3637);function Ov(){return n=>n.lift(new dh)}class dh{call(e,t){return t.subscribe(new WA(e))}}class WA extends Qn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class KA{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new YA(e,this.compare,this.keySelector))}}class YA extends Qn.L{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}F(4828);var Ye,M0=F(3394),N0="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sn={},O0=O0||{},ct=N0||self;function hh(){}function cp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Pv="closure_uid_"+(1e9*Math.random()>>>0),P0=0;function k0(n,e,t){return n.call.apply(n.bind,arguments)}function F0(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Yr(n,e,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k0:F0).apply(null,arguments)}function qm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function oi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,l){for(var f=Array(arguments.length-2),y=2;y<arguments.length;y++)f[y-2]=arguments[y];return e.prototype[a].apply(s,f)}}function uo(){this.s=this.s,this.o=this.o}var L0={};uo.prototype.s=!1,uo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Pv)&&n[Pv]||(n[Pv]=++P0)}(this);delete L0[n]}},uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Lv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<s;l++)l in a&&e.call(t,a[l],l,n)};function U0(n){return Array.prototype.concat.apply([],arguments)}function Vv(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function Zm(n){return/^[\s\xa0]*$/.test(n)}var Di,B0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ti(n,e){return-1!=n.indexOf(e)}function j0(n,e){return n<e?-1:n>e?1:0}e:{var $0=ct.navigator;if($0){var H0=$0.userAgent;if(H0){Di=H0;break e}}Di=""}function q0(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function JA(n){const e={};for(const t in n)e[t]=n[t];return e}var Gm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z0(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let l=0;l<Gm.length;l++)t=Gm[l],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function Wm(n){return Wm[" "](n),n}Wm[" "]=hh;var lp,n,PM=Ti(Di,"Opera"),Ai=Ti(Di,"Trident")||Ti(Di,"MSIE"),XA=Ti(Di,"Edge"),W0=XA||Ai,eS=Ti(Di,"Gecko")&&!(Ti(Di.toLowerCase(),"webkit")&&!Ti(Di,"Edge"))&&!(Ti(Di,"Trident")||Ti(Di,"MSIE"))&&!Ti(Di,"Edge"),z0=Ti(Di.toLowerCase(),"webkit")&&!Ti(Di,"Edge");function Uv(){var n=ct.document;return n?n.documentMode:void 0}e:{var Bv="",K0=(n=Di,eS?/rv:([^\);]+)(\)|;)/.exec(n):XA?/Edge\/([\d\.]+)/.exec(n):Ai?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):z0?/WebKit\/(\S+)/.exec(n):PM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(K0&&(Bv=K0?K0[1]:""),Ai){var zm=Uv();if(null!=zm&&zm>parseFloat(Bv)){lp=String(zm);break e}}lp=Bv}var jv={};function tS(){return e=jv,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=B0(String(lp)).split("."),t=B0("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==n&&f<s;f++){var a=e[f]||"",l=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=j0(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||j0(0==a[2].length,0==l[2].length)||j0(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var nS=ct.document&&Ai&&(Uv()||parseInt(lp,10))||void 0,rS=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ct.addEventListener("test",hh,e),ct.removeEventListener("test",hh,e)}catch(t){}return n}();function Si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function hp(n,e){if(Si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eS){e:{try{Wm(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hp.Z.h.call(this)}}Si.prototype.h=function(){this.defaultPrevented=!0},oi(hp,Si);var iS={2:"touch",3:"pen",4:"mouse"};hp.prototype.h=function(){hp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),fh=0;function Q0(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++fh,this.ca=this.fa=!1}function us(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function oc(n){this.src=n,this.g={},this.h=0}function $v(n,e){var t=e.type;if(t in n.g){var l,s=n.g[t],a=Fv(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(us(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Hv(n,e,t,s){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==s)return a}return-1}oc.prototype.add=function(n,e,t,s,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=Hv(n,e,s,a);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new Q0(e,this.src,l,!!s,a)).fa=t,n.push(e)),e};var fp="closure_lm_"+(1e6*Math.random()|0),co={};function ph(n,e,t,s,a){if(s&&s.once)return pp(n,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)ph(n,e[l],t,s,a);return null}return t=cc(t),n&&n[sc]?n.N(e,t,Hm(s)?!!s.capture:!!s,a):ai(n,e,t,!1,s,a)}function ai(n,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=Hm(a)?!!a.capture:!!a,y=ac(n);if(y||(n[fp]=y=new oc(n)),(t=y.add(e,t,s,f,l)).proxy)return t;if(s=function(){var e=gh;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)rS||(a=f),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(Tl(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function pp(n,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)pp(n,e[l],t,s,a);return null}return t=cc(t),n&&n[sc]?n.O(e,t,Hm(s)?!!s.capture:!!s,a):ai(n,e,t,!0,s,a)}function Fs(n,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Fs(n,e[l],t,s,a);else s=Hm(s)?!!s.capture:!!s,t=cc(t),n&&n[sc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Hv(l=n.g[e],t,s,a))&&(us(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=ac(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Hv(e,t,s,a)),(t=-1<n?e[n]:null)&&gp(t))}function gp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[sc])$v(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(Tl(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=ac(e))?($v(t,n),0==t.h&&(t.src=null,e[fp]=null)):us(n)}}}function Tl(n){return n in co?co[n]:co[n]="on"+n}function gh(n,e){if(n.ca)n=!0;else{e=new hp(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&gp(n),n=t.call(s,e)}return n}function ac(n){return(n=n[fp])instanceof oc?n:null}var uc="__closure_events_fn_"+(1e9*Math.random()>>>0);function cc(n){return"function"==typeof n?n:(n[uc]||(n[uc]=function(e){return n.handleEvent(e)}),n[uc])}function Xn(){uo.call(this),this.i=new oc(this),this.P=this,this.I=null}function ar(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new Si(e,n);else if(e instanceof Si)e.target=e.target||n;else{var a=e;Z0(e=new Si(s,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=ou(f,s,!0,e)&&a}if(a=ou(f=e.g=n,s,!0,e)&&a,a=ou(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=ou(f=e.g=t[l],s,!1,e)&&a}function ou(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var y=f.listener,w=f.ia||f.src;f.fa&&$v(n.i,f),a=!1!==y.call(w,s)&&a}}return a&&!s.defaultPrevented}oi(Xn,uo),Xn.prototype[sc]=!0,Xn.prototype.removeEventListener=function(n,e,t,s){Fs(this,n,e,t,s)},Xn.prototype.M=function(){if(Xn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)us(t[s]);delete n.g[e],n.h--}}this.I=null},Xn.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},Xn.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var lc=ct.JSON.stringify;function J0(){var n=rC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ym,qv=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new eC,n=>n.reset());class eC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tC(n){ct.setTimeout(()=>{throw n},0)}function Km(n,e){Ym||function(){var n=ct.Promise.resolve(void 0);Ym=function(){n.then(iC)}}(),Qm||(Ym(),Qm=!0),rC.add(n,e)}var Qm=!1,rC=new class{constructor(){this.h=this.g=null}add(e,t){const s=qv.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function iC(){for(var n;n=J0();){try{n.h.call(n.g)}catch(t){tC(t)}var e=qv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qm=!1}function Jm(n,e){Xn.call(this),this.h=n||1,this.g=e||ct,this.j=Yr(this.kb,this),this.l=Date.now()}function Zv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Xm(n,e,t){if("function"==typeof n)t&&(n=Yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:ct.setTimeout(n,e||0)}function sC(n){n.g=Xm(()=>{n.g=null,n.i&&(n.i=!1,sC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}oi(Jm,Xn),(Ye=Jm.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(Zv(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){Jm.Z.M.call(this),Zv(this),delete this.g};class kM extends uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sC(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mp(n){uo.call(this),this.h=n,this.g={}}oi(mp,uo);var Gv=[];function oC(n,e,t,s){Array.isArray(t)||(t&&(Gv[0]=t.toString()),t=Gv);for(var a=0;a<t.length;a++){var l=ph(e,t[a],s||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Wv(n){q0(n.g,function(e,t){this.g.hasOwnProperty(t)&&gp(e)},n),n.g={}}function e_(){this.g=!0}function mh(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return lc(t)}catch(y){return e}}(n,t)+(s?" "+s:"")})}mp.prototype.M=function(){mp.Z.M.call(this),Wv(this)},mp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},e_.prototype.Aa=function(){this.g=!1},e_.prototype.info=function(){};var _h={},oS=null;function t_(){return oS=oS||new Xn}function aS(n){Si.call(this,_h.Ma,n)}function _p(n){const e=t_();ar(e,new aS(e,n))}function uC(n,e){Si.call(this,_h.STAT_EVENT,n),this.stat=e}function ui(n){const e=t_();ar(e,new uC(e,n))}function n_(n,e){Si.call(this,_h.Na,n),this.size=e}function yp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){n()},e)}_h.Ma="serverreachability",oi(aS,Si),_h.STAT_EVENT="statevent",oi(uC,Si),_h.Na="timingevent",oi(n_,Si);var zv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},uS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function cC(){}function Kv(){}cC.prototype.h=null;var Qv,r_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Yv(){Si.call(this,"d")}function dc(){Si.call(this,"c")}function vp(){}function bp(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new mp(this),this.P=i_,this.W=new Jm(n=W0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jv}function Jv(){this.i=null,this.g="",this.h=!1}oi(Yv,Si),oi(dc,Si),oi(vp,cC),vp.prototype.g=function(){return new XMLHttpRequest},vp.prototype.i=function(){return{}},Qv=new vp;var i_=45e3,Xv={},Ep={};function eb(n,e,t){n.K=1,n.v=Tp(jo(e)),n.s=t,n.U=!0,dC(n,null)}function dC(n,e){n.F=Date.now(),yh(n),n.A=jo(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),CC(t.h,"t",s),n.C=0,t=n.l.H,n.h=new Jv,n.g=wb(n.l,t?e:null,!n.s),0<n.O&&(n.L=new kM(Yr(n.Ia,n,n.g),n.O)),oC(n.V,n.g,"readystatechange",n.gb),e=n.H?JA(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),_p(1),function(n,e,t,s,a,l){n.info(function(){if(n.g)if(l)for(var f="",y=l.split("&"),w=0;w<y.length;w++){var A=y[w].split("=");if(1<A.length){var M=A[0];A=A[1];var k=M.split("_");f=2<=k.length&&"type"==k[1]?f+(M+"=")+A+"&":f+(M+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function hC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function fC(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=cS(n,t),a==Ep){4==e&&(n.o=4,ui(14),s=!1),mh(n.j,n.m,null,"[Incomplete Response]");break}if(a==Xv){n.o=4,ui(15),mh(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}mh(n.j,n.m,a,null),gC(n,a)}hC(n)&&a!=Ep&&a!=Xv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ui(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ah(e),e.L=!0,ui(11))):(mh(n.j,n.m,t,"[Invalid Chunked Response]"),au(n),vh(n))}function cS(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Ep:(t=Number(e.substring(t,s)),isNaN(t)?Xv:(s+=1)+t>e.length?Ep:(e=e.substr(s,t),n.C=s+t,e))}function yh(n){n.Y=Date.now()+n.P,pC(n,n.P)}function pC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=yp(Yr(n.eb,n),e)}function wp(n){n.B&&(ct.clearTimeout(n.B),n.B=null)}function vh(n){0==n.l.G||n.I||vb(n.l,n)}function au(n){wp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Zv(n.W),Wv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function gC(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||a_(t.i,n)))if(t.I=n.N,!n.J&&a_(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(A){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=yp(Yr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Sp(t),d_(t)}h_(t),ui(18)}if(1>=cb(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else _a(t,11)}else if((n.J||t.g==n)&&Sp(t),!Zm(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let A=a[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const M=A[3];null!=M&&(t.ma=M,t.h.info("VER="+t.ma));const k=A[4];null!=k&&(t.za=k,t.h.info("SVER="+t.za));const q=A[5];null!=q&&"number"==typeof q&&0<q&&(t.K=s=1.5*q,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const X=n.g;if(X){const fe=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fe){var l=s.i;!l.g&&(Ti(fe,"spdy")||Ti(fe,"quic")||Ti(fe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(u_(l,l.h),l.h=null))}if(s.D){const Pe=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(s.sa=Pe,Bn(s.F,s.D,Pe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((s=t).oa=Eb(s,s.H?s.la:null,s.W),f.J){lb(s.i,f);var y=f,w=s.K;w&&y.setTimeout(w),y.B&&(wp(y),yh(y)),s.g=f}else yb(s);0<t.l.length&&Th(t)}else"stop"!=A[0]&&"close"!=A[0]||_a(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?_a(t,7):mb(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}_p(4)}catch(A){}}function nb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cp(n)||"string"==typeof n)Lv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(cp(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;a=(s=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(cp(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],n)}}function Cp(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof Cp)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function Dl(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Al(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Al(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Al(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=bp.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==cu(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const M=cu(this.g);var e=this.g.Da();const k=this.g.ba();if(!(3>M)&&(3!=M||W0||this.g&&(this.h.h||this.g.ga()||$o(this.g)))){this.I||4!=M||7==e||_p(8==e||0>=k?3:2),wp(this);var t=this.g.ba();this.N=t;t:if(hC(this)){var s=$o(this.g);n="";var a=s.length,l=4==cu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){au(this),vh(this);var f="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function(n,e,t,s,a,l,f){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,M,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,w=this.g;if((y=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zm(y)){var A=y;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,ui(12),au(this),vh(this);break e}mh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gC(this,t)}this.U?(fC(this,M,f),W0&&this.i&&3==M&&(oC(this.V,this.W,"tick",this.fb),this.W.start())):(mh(this.j,this.m,f,null),gC(this,f)),4==M&&au(this),this.i&&!this.I&&(4==M?vb(this.l,this):(this.i=!1,yh(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),au(this),vh(this)}}}catch(M){}},Ye.fb=function(){if(this.g){var n=cu(this.g),e=this.g.ga();this.C<e.length&&(wp(this),fC(this,n,e),this.i&&4!=n&&yh(this))}},Ye.cancel=function(){this.I=!0,au(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_p(3),ui(17)),au(this),this.o=2,vh(this)):pC(this,this.Y-n)},(Ye=Cp.prototype).R=function(){Dl(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return Dl(this),this.g.concat()},Ye.get=function(n,e){return Al(this.h,n)?this.h[n]:e},Ye.set=function(n,e){Al(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],l=this.get(a);n.call(e,l,a,this)}};var s_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Sl){this.g=void 0!==e?e:n.g,bh(this,n.j),this.s=n.s,Ip(this,n.i),ib(this,n.m),this.l=n.l,e=n.h;var t=new Rl;t.i=e.i,e.g&&(t.g=new Cp(e.g),t.h=e.h),mC(this,t),this.o=n.o}else n&&(t=String(n).match(s_))?(this.g=!!e,bh(this,t[1]||"",!0),this.s=xl(t[2]||""),Ip(this,t[3]||"",!0),ib(this,t[4]),this.l=xl(t[5]||"",!0),mC(this,t[6]||"",!0),this.o=xl(t[7]||"")):(this.g=!!e,this.h=new Rl(null,this.g))}function jo(n){return new Sl(n)}function bh(n,e,t){n.j=t?xl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ip(n,e,t){n.i=t?xl(e,!0):e}function ib(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mC(n,e,t){e instanceof Rl?(n.h=e,function(n,e){e&&!n.j&&(uu(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(EC(this,s),CC(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Eh(e,vC)),n.h=new Rl(e,n.g))}function Bn(n,e,t){n.h.set(e,t)}function Tp(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Eh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,sb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function sb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Sl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Eh(e,o_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Eh(e,o_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Eh(t,"/"==t.charAt(0)?dS:yC,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Eh(t,bC)),n.join("")};var o_=/[#\/\?@]/g,yC=/[#\?:]/g,dS=/[#\?]/g,vC=/[#\?@]/g,bC=/#/g;function Rl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function uu(n){n.g||(n.g=new Cp,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var l=n[t].substring(0,s);a=n[t].substring(s+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function EC(n,e){uu(n),e=hc(n,e),Al(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Al((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Dl(n)))}function wC(n,e){return uu(n),e=hc(n,e),Al(n.g.h,e)}function CC(n,e,t){EC(n,e),0<t.length&&(n.i=null,n.g.set(hc(n,e),Vv(t)),n.h+=t.length)}function hc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ab(n){this.l=n||TC,n=ct.PerformanceNavigationTiming?0<(n=ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ct.g&&ct.g.Ea&&ct.g.Ea()&&ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Rl.prototype).add=function(n,e){uu(this),this.i=null,n=hc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){uu(this),this.g.forEach(function(t,s){Lv(t,function(a){n.call(e,a,s,this)},this)},this)},Ye.T=function(){uu(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],l=0;l<a.length;l++)t.push(e[s]);return t},Ye.R=function(n){uu(this);var e=[];if("string"==typeof n)wC(this,n)&&(e=U0(e,this.g.get(hc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=U0(e,n[t])}return e},Ye.set=function(n,e){return uu(this),this.i=null,wC(this,n=hc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var l=0;l<s.length;l++){var f=a;""!==s[l]&&(f+="="+encodeURIComponent(String(s[l]))),n.push(f)}}return this.i=n.join("&")};var TC=10;function ub(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cb(n){return n.h?1:n.g?n.g.size:0}function a_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function u_(n,e){n.g?n.g.add(e):n.h=e}function lb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hS(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Vv(n.i)}function db(){}function fS(){this.g=new db}function DC(n,e,t){const s=t||"";try{nb(n,function(a,l){let f=a;Hm(a)&&(f=lc(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function ur(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(l){}}function wh(n){this.l=n.$b||null,this.j=n.ib||!1}function c_(n,e){Xn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=hb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ab.prototype.cancel=function(){if(this.i=hS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},db.prototype.stringify=function(n){return ct.JSON.stringify(n,void 0)},db.prototype.parse=function(n){return ct.JSON.parse(n,void 0)},oi(wh,cC),wh.prototype.g=function(){return new c_(this.l,this.j)},wh.prototype.i=function(n){return function(){return n}}({}),oi(c_,Xn);var hb=0;function fb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Dp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ch(n)}function Ch(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=c_.prototype).open=function(n,e){if(this.readyState!=hb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ch(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dp(this)),this.readyState=hb},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Dp(this):Ch(this),3==this.readyState&&fb(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,Dp(this))},Ye.Ta=function(n){this.g&&(this.response=n,Dp(this))},Ye.ha=function(){this.g&&Dp(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(c_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AC=ct.JSON.parse;function jn(n){Xn.call(this),this.headers=new Cp,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SC,this.K=this.L=!1}oi(jn,Xn);var SC="",gS=/^https?$/i,xC=["POST","PUT"];function RC(n){return"content-type"==n.toLowerCase()}function _S(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,pb(n),Ls(n)}function pb(n){n.D||(n.D=!0,ar(n,"complete"),ar(n,"error"))}function l_(n){if(n.h&&void 0!==O0&&(!n.C[1]||4!=cu(n)||2!=n.ba()))if(n.v&&4==cu(n))Xm(n.Fa,0,n);else if(ar(n,"readystatechange"),4==cu(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===y){var a=String(n.H).match(s_)[1]||null;if(!a&&ct.self&&ct.self.location){var l=ct.self.location.protocol;a=l.substr(0,l.length-1)}s=!gS.test(a?a.toLowerCase():"")}t=s}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var f=2<cu(n)?n.g.statusText:""}catch(w){f=""}n.j=f+" ["+n.ba()+"]",pb(n)}}finally{Ls(n)}}}function Ls(n,e){if(n.g){MC(n);const t=n.g,s=n.C[0]?hh:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function MC(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ct.clearTimeout(n.A),n.A=null)}function cu(n){return n.g?n.g.readyState:0}function $o(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case SC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vs(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function(n){let e="";return q0(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function Ih(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gb(n){this.za=0,this.l=[],this.h=new e_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ih("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ih("baseRetryDelayMs",5e3,n),this.$a=Ih("retryDelaySeedMs",1e4,n),this.Ya=Ih("forwardChannelMaxRetries",2,n),this.ra=Ih("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ab(n&&n.concurrentRequestLimit),this.Ca=new fS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function mb(n){if(NC(n),3==n.G){var e=n.V++,t=jo(n.F);Bn(t,"SID",n.J),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),Dh(n,t),(e=new bp(n,n.h,e,void 0)).K=2,e.v=Tp(jo(t)),t=!1,ct.navigator&&ct.navigator.sendBeacon&&(t=ct.navigator.sendBeacon(e.v.toString(),"")),!t&&ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=wb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),yh(e)}bb(n)}function d_(n){n.g&&(Ah(n),n.g.cancel(),n.g=null)}function NC(n){d_(n),n.u&&(ct.clearTimeout(n.u),n.u=null),Sp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ct.clearTimeout(n.m),n.m=null)}function _b(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Th(n)}function Th(n){ub(n.i)||n.m||(n.m=!0,Km(n.Ha,n),n.C=0)}function OC(n,e){var t;t=e?e.m:n.V++;const s=jo(n.F);Bn(s,"SID",n.J),Bn(s,"RID",t),Bn(s,"AID",n.U),Dh(n,s),n.o&&n.s&&Vs(s,n.o,n.s),t=new bp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=PC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),u_(n.i,t),eb(t,s,e)}function Dh(n,e){n.j&&nb({},function(t,s){Bn(e,s,t)})}function PC(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Yr(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let y=!0;for(let w=0;w<t;w++){let A=a[w].h;const M=a[w].g;if(A-=l,0>A)l=Math.max(0,a[w].h-100),y=!1;else try{DC(M,f,"req"+A+"_")}catch(k){s&&s(M)}}if(y){s=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function yb(n){n.g||n.u||(n.Y=1,Km(n.Ga,n),n.A=0)}function h_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=yp(Yr(n.Ga,n),f_(n,n.A)),n.A++,0))}function Ah(n){null!=n.B&&(ct.clearTimeout(n.B),n.B=null)}function kC(n){n.g=new bp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=jo(n.oa);Bn(e,"RID","rpc"),Bn(e,"SID",n.J),Bn(e,"CI",n.N?"0":"1"),Bn(e,"AID",n.U),Dh(n,e),Bn(e,"TYPE","xmlhttp"),n.o&&n.s&&Vs(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Tp(jo(e)),t.s=null,t.U=!0,dC(t,n)}function Sp(n){null!=n.v&&(ct.clearTimeout(n.v),n.v=null)}function vb(n,e){var t=null;if(n.g==e){Sp(n),Ah(n),n.g=null;var s=2}else{if(!a_(n.i,e))return;t=e.D,lb(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;ar(s=t_(),new n_(s,t,e,a)),Th(n)}else yb(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function(n,e){return!(cb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=yp(Yr(n.Ha,n,e),f_(n,n.C)),n.C++,0)))}(n,e)||2==s&&h_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:_a(n,5);break;case 4:_a(n,10);break;case 3:_a(n,6);break;default:_a(n,2)}}function f_(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function _a(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Yr(n.jb,n);t||(t=new Sl("//www.google.com/images/cleardot.gif"),ct.location&&"http"==ct.location.protocol||bh(t,"https"),Tp(t)),function(n,e){const t=new e_;if(ct.Image){const s=new Image;s.onload=qm(ur,t,s,"TestLoadImage: loaded",!0,e),s.onerror=qm(ur,t,s,"TestLoadImage: error",!1,e),s.onabort=qm(ur,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=qm(ur,t,s,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else ui(2);n.G=0,n.j&&n.j.va(e),bb(n),NC(n)}function bb(n){n.G=0,n.I=-1,n.j&&((0!=hS(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Vv(n.l),n.l.length=0),n.j.ua())}function Eb(n,e,t){let s=function(n){return n instanceof Sl?jo(n):new Sl(n,void 0)}(t);if(""!=s.i)e&&Ip(s,e+"."+s.i),ib(s,s.m);else{const a=ct.location;s=function(n,e,t,s){var a=new Sl(null,void 0);return n&&bh(a,n),e&&Ip(a,e),t&&ib(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&q0(n.aa,function(a,l){Bn(s,l,a)}),t=n.sa,(e=n.D)&&t&&Bn(s,e,t),Bn(s,"VER",n.ma),Dh(n,s),s}function wb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new jn(t&&n.Ba&&!n.qa?new wh({ib:!0}):n.qa)).L=n.H,e}function Cb(){}function xp(){if(Ai&&!(10<=Number(nS)))throw Error("Environmental error: no available transport.")}function cs(n,e){Xn.call(this),this.g=new gb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Zm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sh(this)}function Ib(n){Yv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Tb(){dc.call(this),this.status=1}function Sh(n){this.g=n}(Ye=jn.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Qv),this.g.onreadystatechange=Yr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void _S(this,l)}n=t||"";const a=new Cp(this.headers);s&&nb(s,function(l,f){a.set(f,l)}),s=function(n){e:{var e=RC;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=ct.FormData&&n instanceof ct.FormData,!(0<=Fv(xC,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MC(this),0<this.B&&((this.K=function(n){return Ai&&tS()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.pa,this)):this.A=Xm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){_S(this,l)}},Ye.pa=function(){void 0!==O0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),Ls(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ls(this,!0)),jn.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?l_(this):this.cb())},Ye.cb=function(){l_(this)},Ye.ba=function(){try{return 2<cu(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AC(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=gb.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new bp(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=JA(l),Z0(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=PC(this,a,e),Bn(t=jo(this.F),"RID",n),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),Dh(this,t),this.o&&l&&Vs(t,this.o,l),u_(this.i,a),this.Ra&&Bn(t,"TYPE","init"),this.ja?(Bn(t,"$req",e),Bn(t,"SID","null"),a.$=!0,eb(a,t,null)):eb(a,t,e),this.G=2}}else 3==this.G&&(n?OC(this,n):0==this.l.length||ub(this.i)||OC(this))},Ye.Ga=function(){if(this.u=null,kC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=yp(Yr(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ui(10),d_(this),kC(this))},Ye.ab=function(){null!=this.v&&(this.v=null,d_(this),h_(this),ui(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ui(2)):(this.h.info("Failed to ping google.com"),ui(1))},(Ye=Cb.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},xp.prototype.g=function(n,e){return new cs(n,e)},oi(cs,Xn),cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Km(Yr(n.hb,n,e))),ui(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Eb(n,null,n.W),Th(n)},cs.prototype.close=function(){mb(this.g)},cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,_b(this.g,e)}else this.v?((e={}).__data__=lc(n),_b(this.g,e)):_b(this.g,n)},cs.prototype.M=function(){this.g.j=null,delete this.j,mb(this.g),delete this.g,cs.Z.M.call(this)},oi(Ib,Yv),oi(Tb,dc),oi(Sh,Cb),Sh.prototype.xa=function(){ar(this.g,"a")},Sh.prototype.wa=function(n){ar(this.g,new Ib(n))},Sh.prototype.va=function(n){ar(this.g,new Tb(n))},Sh.prototype.ua=function(){ar(this.g,"b")},xp.prototype.createWebChannel=xp.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,zv.NO_ERROR=0,zv.TIMEOUT=8,zv.HTTP_ERROR=6,uS.COMPLETE="complete",Kv.EventType=r_,r_.OPEN="a",r_.CLOSE="b",r_.ERROR="c",r_.MESSAGE="d",Xn.prototype.listen=Xn.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var yS=sn.createWebChannelTransport=function(){return new xp},vS=sn.getStatEventTarget=function(){return t_()},Db=sn.ErrorCode=zv,bS=sn.EventType=uS,ES=sn.Event=_h,FC=sn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wS=sn.FetchXmlHttpFactory=wh,p_=sn.WebChannel=Kv,CS=sn.XhrIo=jn;const LC="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let xh="9.6.3";const fc=new tc.Yd("@firebase/firestore");function Ab(){return fc.logLevel}function Fe(n,...e){if(fc.logLevel<=tc.in.DEBUG){const t=e.map(g_);fc.debug(`Firestore (${xh}): ${n}`,...t)}}function Sr(n,...e){if(fc.logLevel<=tc.in.ERROR){const t=e.map(g_);fc.error(`Firestore (${xh}): ${n}`,...t)}}function Rh(n,...e){if(fc.logLevel<=tc.in.WARN){const t=e.map(g_);fc.warn(`Firestore (${xh}): ${n}`,...t)}}function g_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${xh}) INTERNAL ASSERTION FAILED: `+n;throw Sr(e),new Error(e)}function gt(n,e){n||nt()}function He(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class m_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ci.UNAUTHENTICATED))}shutdown(){}}class Ml{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TS{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=A=>this.i!==a?(a=this.i,t(A)):Promise.resolve();let f=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ur,e.enqueueRetryable(()=>l(this.currentUser))};const y=()=>{const A=f;e.enqueueRetryable((0,_e.Z)(function*(){yield A.promise,yield l(s.currentUser)}))},w=A=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(A=>w(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?w(A):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ur)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt("string"==typeof s.accessToken),new m_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new ci(e)}}class DS{constructor(e,t,s){this.type="FirstParty",this.user=ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Mh{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new DS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sb{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=a=>{e.enqueueRetryable(()=>{return null!=(l=a).error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const s=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?s(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),new AS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ls{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.p(s),this.T=s=>t.writeSequenceNumber(s))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function BC(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}ls.I=-1;class SS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=BC(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Le(n,e){return n<e?-1:n>e?1:0}function Nh(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function jC(n){return n+"\0"}class Qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qr.fromMillis(Date.now())}static fromDate(e){return Qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Qr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Qr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $C(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rp(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Pn{constructor(e,t,s){void 0===t?t=0:t>e.length&&nt(),void 0===s?s=e.length-t:s>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Pn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ln extends Pn{construct(e,t,s){return new ln(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new ln(t)}static emptyPath(){return new ln([])}}const HC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Pn{construct(e,t,s){return new Br(e,t,s)}static isValidIdentifier(e){return HC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Me(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new Me(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Me(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=w,a+=2}else"`"===y?(f=!f,a++):"."!==y||f?(s+=y,a++):(l(),a++)}if(l(),f)throw new Me(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class Oh{constructor(e){this.fields=e,e.sort(Br.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new xr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xr.EMPTY_BYTE_STRING=new xr("");const ZC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(gt(!!n),"string"==typeof n){let e=0;const t=ZC.exec(n);if(gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rr(n.seconds),nanos:Rr(n.nanos)}}function Rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ph(n){return"string"==typeof n?xr.fromBase64String(n):xr.fromUint8Array(n)}function xb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function kh(n){const e=n.mapValue.fields.__previous_value__;return xb(e)?kh(e):e}function Mp(n){const e=lu(n.mapValue.fields.__local_write_time__.timestampValue);return new Qr(e.seconds,e.nanos)}function Nl(n){return null==n}function __(n){return 0===n&&1/n==-1/0}function Np(n){return"number"==typeof n&&Number.isInteger(n)&&!__(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(ln.fromString(e))}static fromName(e){return new tt(ln.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ln.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ln.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new ln(e.slice()))}}function pc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xb(n)?4:10:nt()}function qo(n,e){if(n===e)return!0;const t=pc(n);if(t!==pc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mp(n).isEqual(Mp(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=lu(s.timestampValue),f=lu(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Ph(n.bytesValue).isEqual(Ph(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Rr(s.geoPointValue.latitude)===Rr(a.geoPointValue.latitude)&&Rr(s.geoPointValue.longitude)===Rr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Rr(s.integerValue)===Rr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Rr(s.doubleValue),f=Rr(a.doubleValue);return l===f?__(l)===__(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return Nh(n.arrayValue.values||[],e.arrayValue.values||[],qo);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if($C(l)!==$C(f))return!1;for(const y in l)if(l.hasOwnProperty(y)&&(void 0===f[y]||!qo(l[y],f[y])))return!1;return!0}(n,e);default:return nt()}var a}function Op(n,e){return void 0!==(n.values||[]).find(t=>qo(t,e))}function va(n,e){if(n===e)return 0;const t=pc(n),s=pc(e);if(t!==s)return Le(t,s);switch(t){case 0:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(a,l){const f=Rr(a.integerValue||a.doubleValue),y=Rr(l.integerValue||l.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1}(n,e);case 3:return Fh(n.timestampValue,e.timestampValue);case 4:return Fh(Mp(n),Mp(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(a,l){const f=Ph(a),y=Ph(l);return f.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),y=l.split("/");for(let w=0;w<f.length&&w<y.length;w++){const A=Le(f[w],y[w]);if(0!==A)return A}return Le(f.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Le(Rr(a.latitude),Rr(l.latitude));return 0!==f?f:Le(Rr(a.longitude),Rr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],y=l.values||[];for(let w=0;w<f.length&&w<y.length;++w){const A=va(f[w],y[w]);if(A)return A}return Le(f.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const f=a.fields||{},y=Object.keys(f),w=l.fields||{},A=Object.keys(w);y.sort(),A.sort();for(let M=0;M<y.length&&M<A.length;++M){const k=Le(y[M],A[M]);if(0!==k)return k;const q=va(f[y[M]],w[A[M]]);if(0!==q)return q}return Le(y.length,A.length)}(n.mapValue,e.mapValue);default:throw nt()}}function Fh(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Le(n,e);const t=lu(n),s=lu(e),a=Le(t.seconds,s.seconds);return 0!==a?a:Le(t.nanos,s.nanos)}function Rb(n){return Mb(n)}function Mb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=lu(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ph(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=Mb(f);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const y of a)f?f=!1:l+=",",l+=`${y}:${Mb(s.fields[y])}`;return l+"}"}(n.mapValue):nt();var e}function y_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v_(n){return!!n&&"integerValue"in n}function b_(n){return!!n&&"arrayValue"in n}function Nb(n){return!!n&&"nullValue"in n}function GC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pp(n){return!!n&&"mapValue"in n}function kp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=kp(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class xi{constructor(e){this.value=e}static empty(){return new xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kp(t)}setAll(e){let t=Br.emptyPath(),s={},a=[];e.forEach((f,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,s,a),s={},a=[],t=y.popLast()}f?s[y.lastSegment()]=kp(f):a.push(y.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Pp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Pp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ya(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new xi(kp(this.value))}}function xS(n){const e=[];return ya(n.fields,(t,s)=>{const a=new Br([t]);if(Pp(s)){const l=xS(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new Oh(e)}class er{constructor(e,t,s,a,l){this.key=e,this.documentType=t,this.version=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new er(e,0,bt.min(),xi.empty(),0)}static newFoundDocument(e,t,s){return new er(e,1,t,s,0)}static newNoDocument(e,t){return new er(e,2,t,xi.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,xi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class VM{constructor(e,t=null,s=[],a=[],l=null,f=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=y,this.R=null}}function RS(n,e=null,t=[],s=[],a=null,l=null,f=null){return new VM(n,e,t,s,a,l,f)}function Lh(n){const e=He(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>function(n){return n.field.canonicalString()+n.op.toString()+Rb(n.value)}(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Nl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=I_(e.startAt)),e.endAt&&(t+="|ub:",t+=I_(e.endAt)),e.R=t}return e.R}function w_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!LS(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!qo(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KC(n.startAt,e.startAt)&&KC(n.endAt,e.endAt)}function C_(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ri extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,s):new MS(e,t,s):"array-contains"===t?new PS(e,s):"in"===t?new zC(e,s):"not-in"===t?new kS(e,s):"array-contains-any"===t?new FS(e,s):new Ri(e,t,s)}static P(e,t,s){return"in"===t?new NS(e,s):new OS(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(va(t,this.value)):null!==t&&pc(this.value)===pc(t)&&this.v(va(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MS extends Ri{constructor(e,t,s){super(e,t,s),this.key=tt.fromName(s.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.v(t)}}class NS extends Ri{constructor(e,t){super(e,"in",t),this.keys=WC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OS extends Ri{constructor(e,t){super(e,"not-in",t),this.keys=WC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function WC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>tt.fromName(s.referenceValue))}class PS extends Ri{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return b_(t)&&Op(t.arrayValue,this.value)}}class zC extends Ri{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Op(this.value.arrayValue,t)}}class kS extends Ri{constructor(e,t){super(e,"not-in",t)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Op(this.value.arrayValue,t)}}class FS extends Ri{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!b_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Op(this.value.arrayValue,s))}}class ba{constructor(e,t){this.position=e,this.before=t}}function I_(n){return`${n.before?"b":"a"}:${n.position.map(e=>Rb(e)).join(",")}`}class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function LS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ob(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(s=l.field.isKeyField()?tt.comparator(tt.fromName(f.referenceValue),t.key):va(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return n.before?s<=0:s<0}function KC(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qo(n.position[t],e.position[t]))return!1;return!0}class Ea{constructor(e,t=null,s=[],a=[],l=null,f="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=y,this.endAt=w,this.S=null,this.D=null}}function YC(n,e,t,s,a,l,f,y){return new Ea(n,e,t,s,a,l,f,y)}function gc(n){return new Ea(n)}function T_(n){return!Nl(n.limit)&&"F"===n.limitType}function Lp(n){return!Nl(n.limit)&&"L"===n.limitType}function D_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Pb(n){for(const e of n.filters)if(e.V())return e.field;return null}function kb(n){return null!==n.collectionGroup}function Vh(n){const e=He(n);if(null===e.S){e.S=[];const t=Pb(e),s=D_(e);if(null!==t&&null===s)t.isKeyField()||e.S.push(new Ol(t)),e.S.push(new Ol(Br.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ol(Br.keyField(),l))}}}return e.S}function ds(n){const e=He(n);if(!e.D)if("F"===e.limitType)e.D=RS(e.path,e.collectionGroup,Vh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Vh(e))t.push(new Ol(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new ba(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ba(e.startAt.position,!e.startAt.before):null;e.D=RS(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.D}function QC(n,e,t){return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Uh(n,e){return w_(ds(n),ds(e))&&n.limitType===e.limitType}function JC(n){return`${Lh(ds(n))}|lt:${n.limitType}`}function Fb(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Rb(s.value)}`;var s}).join(", ")}]`),Nl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: "+I_(n.startAt)),n.endAt&&(e+=", endAt: "+I_(n.endAt)),`Target(${e})`}(ds(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):tt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!Ob(t.startAt,Vh(t),s)||t.endAt&&Ob(t.endAt,Vh(t),s)));var t,s}function XC(n){return(e,t)=>{let s=!1;for(const a of Vh(n)){const l=VS(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function VS(n,e,t){const s=n.field.isKeyField()?tt.comparator(e.key,t.key):function(a,l,f){const y=l.data.field(a),w=f.data.field(a);return null!==y&&null!==w?va(y,w):nt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return nt()}}function eI(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(e)?"-0":e}}function tI(n){return{integerValue:""+n}}function nI(n,e){return Np(e)?tI(e):eI(n,e)}class Up{constructor(){this._=void 0}}function rI(n,e,t){return n instanceof Pl?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof kl?sI(n,e):n instanceof Fl?A_(n,e):function(s,a){const l=iI(s,a),f=Lb(l)+Lb(s.N);return v_(l)&&v_(s.N)?tI(f):eI(s.k,f)}(n,e)}function US(n,e,t){return n instanceof kl?sI(n,e):n instanceof Fl?A_(n,e):t}function iI(n,e){return n instanceof mc?v_(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Pl extends Up{}class kl extends Up{constructor(e){super(),this.elements=e}}function sI(n,e){const t=S_(e);for(const s of n.elements)t.some(a=>qo(a,s))||t.push(s);return{arrayValue:{values:t}}}class Fl extends Up{constructor(e){super(),this.elements=e}}function A_(n,e){let t=S_(e);for(const s of n.elements)t=t.filter(a=>!qo(a,s));return{arrayValue:{values:t}}}class mc extends Up{constructor(e,t){super(),this.k=e,this.N=t}}function Lb(n){return Rr(n.integerValue||n.doubleValue)}function S_(n){return b_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Bp{constructor(e,t){this.field=e,this.transform=t}}class Vb{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class x_{}function oI(n,e,t){n instanceof wa?function(s,a,l){const f=s.value.clone(),y=$p(s.fieldTransforms,a,l.transformResults);f.setAll(y),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ll?function(s,a,l){if(!jp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=$p(s.fieldTransforms,a,l.transformResults),y=a.data;y.setAll(M_(s)),y.setAll(f),a.convertToFoundDocument(l.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function R_(n,e,t){var a;n instanceof wa?function(s,a,l){if(!jp(s.precondition,a))return;const f=s.value.clone(),y=cI(s.fieldTransforms,l,a);f.setAll(y),a.convertToFoundDocument(uI(a),f).setHasLocalMutations()}(n,e,t):n instanceof Ll?function(s,a,l){if(!jp(s.precondition,a))return;const f=cI(s.fieldTransforms,l,a),y=a.data;y.setAll(M_(s)),y.setAll(f),a.convertToFoundDocument(uI(a),y).setHasLocalMutations()}(n,e,t):jp(n.precondition,a=e)&&a.convertToNoDocument(bt.min())}function aI(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=iI(s.transform,a||null);null!=l&&(null==t&&(t=xi.empty()),t.set(s.field,l))}return t||null}function jS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Nh(t,s,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof kl&&s instanceof kl||t instanceof Fl&&s instanceof Fl?Nh(t.elements,s.elements,qo):t instanceof mc&&s instanceof mc?qo(t.N,s.N):t instanceof Pl&&s instanceof Pl);var t,s}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function uI(n){return n.isFoundDocument()?n.version:bt.min()}class wa extends x_{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class Ll extends x_{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}}function M_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function $p(n,e,t){const s=new Map;gt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,y=e.data.field(l.field);s.set(l.field,US(f,y,t[a]))}return s}function cI(n,e,t){const s=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);s.set(a.field,rI(l,f,e))}return s}class Ca extends x_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Ub extends x_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class UM{constructor(e){this.count=e}}var Nr,Rt;function Bb(n){switch(n){default:return nt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function $S(n){if(void 0===n)return Sr("GRPC error has no .code"),he.UNKNOWN;switch(n){case Nr.OK:return he.OK;case Nr.CANCELLED:return he.CANCELLED;case Nr.UNKNOWN:return he.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return he.INTERNAL;case Nr.UNAVAILABLE:return he.UNAVAILABLE;case Nr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Nr.NOT_FOUND:return he.NOT_FOUND;case Nr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Nr.ABORTED:return he.ABORTED;case Nr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Nr.DATA_LOSS:return he.DATA_LOSS;default:return nt()}}(Rt=Nr||(Nr={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";class cr{constructor(e,t){this.comparator=e,this.root=t||li.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new N_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new N_(this.root,e,this.comparator,!1)}getReverseIterator(){return new N_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new N_(this.root,e,this.comparator,!0)}}class N_{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=null!=s?s:li.RED,this.left=null!=a?a:li.EMPTY,this.right=null!=l?l:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new li(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return li.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new li(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vr{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lI(this.data.getIterator())}getIteratorFrom(e){return new lI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vr(this.comparator);return t.data=e,t}}class lI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const HS=new cr(tt.comparator);function lo(){return HS}const jb=new cr(tt.comparator);function O_(){return jb}const $b=new cr(tt.comparator);function Hb(){return $b}const qS=new vr(tt.comparator);function bn(...n){let e=qS;for(const t of n)e=e.add(t);return e}const ZS=new vr(Le);function P_(){return ZS}class Hp{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Bh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Hp(bt.min(),s,P_(),lo(),bn())}}class Bh{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Bh(xr.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class qp{constructor(e,t,s,a){this.$=e,this.removedTargetIds=t,this.key=s,this.O=a}}class qb{constructor(e,t){this.targetId=e,this.M=t}}class dI{constructor(e,t,s=xr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class hI{constructor(){this.F=0,this.L=pI(),this.B=xr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=bn(),t=bn(),s=bn();return this.L.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:nt()}}),new Bh(this.B,this.U,e,t,s)}H(){this.q=!1,this.L=pI()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class fI{constructor(e){this.et=e,this.nt=new Map,this.st=lo(),this.it=Zp(),this.rt=new vr(Le)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const s=this.ht(t);switch(e.state){case 0:this.lt(t)&&s.W(e.resumeToken);break;case 1:s.Z(),s.K||s.H(),s.W(e.resumeToken);break;case 2:s.Z(),s.K||this.removeTarget(t);break;case 3:this.lt(t)&&(s.tt(),s.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),s.W(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((s,a)=>{this.lt(a)&&t(a)})}dt(e){const t=e.targetId,s=e.M.count,a=this.wt(t);if(a){const l=a.target;if(C_(l))if(0===s){const f=new tt(l.path);this.at(t,f,er.newNoDocument(f,bt.min()))}else gt(1===s);else this._t(t)!==s&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,f)=>{const y=this.wt(f);if(y){if(l.current&&C_(y.target)){const w=new tt(y.target.path);null!==this.st.get(w)||this.yt(f,w)||this.at(f,w,er.newNoDocument(w,e))}l.j&&(t.set(f,l.G()),l.H())}});let s=bn();this.it.forEach((l,f)=>{let y=!0;f.forEachWhile(w=>{const A=this.wt(w);return!A||2===A.purpose||(y=!1,!1)}),y&&(s=s.add(l))});const a=new Hp(e,t,this.rt,this.st,s);return this.st=lo(),this.it=Zp(),this.rt=new vr(Le),a}ct(e,t){if(!this.lt(e))return;const s=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,s),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,s){if(!this.lt(e))return;const a=this.ht(e);this.yt(e,t)?a.J(t,1):a.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),s&&(this.st=this.st.insert(t,s))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new hI,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new vr(Le),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new hI),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Zp(){return new cr(tt.comparator)}function pI(){return new cr(tt.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},k_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class F_{constructor(e,t){this.databaseId=e,this.C=t}}function du(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(n,e){return n.C?e.toBase64():e.toUint8Array()}function GS(n,e){return du(n,e.toTimestamp())}function di(n){return gt(!!n),bt.fromTimestamp(function(e){const t=lu(e);return new Qr(t.seconds,t.nanos)}(n))}function Zb(n,e){return(t=n,new ln(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function _I(n){const e=ln.fromString(n);return gt(TI(e)),e}function Gp(n,e){return Zb(n.databaseId,e.path)}function Ia(n,e){const t=_I(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(vI(t))}function Gb(n,e){return Zb(n.databaseId,e)}function yI(n){const e=_I(n);return 4===e.length?ln.emptyPath():vI(e)}function Wp(n){return new ln(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vI(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bI(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function WS(n,e,t){const s=Ia(n,e.name),a=di(e.updateTime),l=new xi({mapValue:{fields:e.fields}}),f=er.newFoundDocument(s,a,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function L_(n,e){let t;if(e instanceof wa)t={update:bI(n,e.key,e.value)};else if(e instanceof Ca)t={delete:Gp(n,e.key)};else if(e instanceof Ll)t={update:bI(n,e.key,e.data),updateMask:II(e.fieldMask)};else{if(!(e instanceof Ub))return nt();t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof Pl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Fl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mc)return{fieldPath:l.field.canonicalString(),increment:f.N};throw nt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:GS(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:nt()),t;var a}function EI(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Mr.updateTime(di(a.updateTime)):void 0!==a.exists?Mr.exists(a.exists):Mr.none():Mr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(l,f){let y=null;"setToServerValue"in f?(gt("REQUEST_TIME"===f.setToServerValue),y=new Pl):"appendMissingElements"in f?y=new kl(f.appendMissingElements.values||[]):"removeAllFromArray"in f?y=new Fl(f.removeAllFromArray.values||[]):"increment"in f?y=new mc(l,f.increment):nt();const w=Br.fromServerFormat(f.fieldPath);return new Bp(w,y)}(n,a)):[];var a;if(e.update){const a=Ia(n,e.update.name),l=new xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Oh((e.updateMask.fieldPaths||[]).map(A=>Br.fromServerFormat(A)));return new Ll(a,l,f,t,s)}return new wa(a,l,t,s)}if(e.delete){const a=Ia(n,e.delete);return new Ca(a,t)}if(e.verify){const a=Ia(n,e.verify);return new Ub(a,t)}return nt()}function Kp(n,e){return{documents:[Gb(n,e.path)]}}function _c(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Gb(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gb(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(y){if(0===y.length)return;const w=y.map(A=>function(M){if("=="===M.op){if(GC(M.value))return{unaryFilter:{field:Vl(M.field),op:"IS_NAN"}};if(Nb(M.value))return{unaryFilter:{field:Vl(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(GC(M.value))return{unaryFilter:{field:Vl(M.field),op:"IS_NOT_NAN"}};if(Nb(M.value))return{unaryFilter:{field:Vl(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(M.field),op:XS(M.op),value:M.value}}}(A));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(y){if(0!==y.length)return y.map(w=>{return{field:Vl((A=w).field),direction:JS(A.dir)};var A})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(w=e.limit,n.C||Nl(w)?w:{value:w});var w;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=wI(e.startAt)),e.endAt&&(t.structuredQuery.endAt=wI(e.endAt)),t}function Wb(n){let e=yI(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){gt(1===s);const M=t.from[0];M.allDescendants?a=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=QS(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(M=>{return new Ol(Ul((k=M).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let y=null;t.limit&&(y=function(M){let k;return k="object"==typeof M?M.value:M,Nl(k)?null:k}(t.limit));let w=null;t.startAt&&(w=Yp(t.startAt));let A=null;return t.endAt&&(A=Yp(t.endAt)),YC(e,a,f,l,y,"F",w,A)}function QS(n){return n?void 0!==n.unaryFilter?[CI(n)]:void 0!==n.fieldFilter?[zb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>QS(e)).reduce((e,t)=>e.concat(t)):nt():[]}function wI(n){return{before:n.before,values:n.position}}function Yp(n){return new ba(n.values||[],!!n.before)}function JS(n){return gI[n]}function XS(n){return k_[n]}function Vl(n){return{fieldPath:n.canonicalString()}}function Ul(n){return Br.fromServerFormat(n.fieldPath)}function zb(n){return Ri.create(Ul(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function CI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ul(n.unaryFilter.field);return Ri.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ul(n.unaryFilter.field);return Ri.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ul(n.unaryFilter.field);return Ri.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ul(n.unaryFilter.field);return Ri.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function II(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AI(e)),e=DI(n.get(t),e);return AI(e)}function DI(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function AI(n){return n+"\x01\x01"}function Ta(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ln.emptyPath();const t=e-2,s=[];let a="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&nt(),n.charAt(f+1)){case"\x01":const y=n.substring(l,f);let w;0===a.length?w=y:(a+=y,w=a,a=""),s.push(w);break;case"\x10":a+=n.substring(l,f),a+="\0";break;case"\x11":a+=n.substring(l,f+1);break;default:nt()}l=f+2}return new ln(s)}class V_{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Mi{constructor(e,t,s){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=s}}Mi.store="owner",Mi.key="owner";class Bl{constructor(e,t,s){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=s}}Bl.store="mutationQueues",Bl.keyPath="userId";class gn{constructor(e,t,s,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=s,this.baseMutations=a,this.mutations=l}}gn.store="mutations",gn.keyPath="batchId",gn.userMutationsIndex="userMutationsIndex",gn.userMutationsKeyPath=["userId","batchId"];class St{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Zo(t)]}static key(e,t,s){return[e,Zo(t),s]}}St.store="documentMutations",St.PLACEHOLDER=new St;class yc{constructor(e,t){this.path=e,this.readTime=t}}class jh{constructor(e,t){this.path=e,this.version=t}}class kn{constructor(e,t,s,a,l,f){this.unknownDocument=e,this.noDocument=t,this.document=s,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=f}}kn.store="remoteDocuments",kn.readTimeIndex="readTimeIndex",kn.readTimeIndexPath="readTime",kn.collectionReadTimeIndex="collectionReadTimeIndex",kn.collectionReadTimeIndexPath=["parentPath","readTime"];class hu{constructor(e){this.byteSize=e}}hu.store="remoteDocumentGlobal",hu.key="remoteDocumentGlobalKey";class it{constructor(e,t,s,a,l,f,y){this.targetId=e,this.canonicalId=t,this.readTime=s,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=f,this.query=y}}it.store="targets",it.keyPath="targetId",it.queryTargetsIndexName="queryTargetsIndex",it.queryTargetsKeyPath=["canonicalId","targetId"];class En{constructor(e,t,s){this.targetId=e,this.path=t,this.sequenceNumber=s}}En.store="targetDocuments",En.keyPath=["targetId","path"],En.documentTargetsIndex="documentTargetsIndex",En.documentTargetsKeyPath=["path","targetId"];class Hi{constructor(e,t,s,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=s,this.targetCount=a}}Hi.key="targetGlobalKey",Hi.store="targetGlobal";class Us{constructor(e,t){this.collectionId=e,this.parent=t}}Us.store="collectionParents",Us.keyPath=["collectionId","parent"];class vc{constructor(e,t,s,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=s,this.inForeground=a}}vc.store="clientMetadata",vc.keyPath="clientId";class jl{constructor(e,t,s){this.bundleId=e,this.createTime=t,this.version=s}}jl.store="bundles",jl.keyPath="bundleId";class $l{constructor(e,t,s){this.name=e,this.readTime=t,this.bundledQuery=s}}$l.store="namedQueries",$l.keyPath="name";const BM=[Bl.store,gn.store,St.store,kn.store,it.store,Mi.store,Hi.store,En.store,vc.store,hu.store,Us.store,jl.store,$l.store],SI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,s)=>{t(e)})}static reject(e){return new Te((t,s)=>{s(e)})}static waitFor(e){return new Te((t,s)=>{let a=0,l=0,f=!1;e.forEach(y=>{++a,y.next(()=>{++l,f&&l===a&&t()},w=>s(w))}),f=!0,l===a&&t()})}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next(a=>a?Te.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}}class Fn{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Ur,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Qp(e,t.error)):this.It.resolve()},this.transaction.onerror=s=>{const a=Yb(s.target.error);this.It.reject(new Qp(e,a))}}static open(e,t,s,a){try{return new Fn(t,e.transaction(a,s))}catch(l){throw new Qp(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Kb(t)}}class br{constructor(e,t,s){this.name=e,this.version=t,this.Rt=s,12.2===br.bt((0,yt.z$)())&&Sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,yt.hl)())return!1;if(br.vt())return!0;const e=(0,yt.z$)(),t=br.bt(e),s=0<t&&t<10,a=br.Vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Ct(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{s(f.target.result)},l.onblocked=()=>{a(new Qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const y=f.target.error;a("VersionError"===y.name?new Me(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Me(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new Qp(e,y))},l.onupgradeneeded=f=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Rt.Nt(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=s=>t.kt(s)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var l=this;return(0,_e.Z)(function*(){const f="readonly"===t;let y=0;for(;;){++y;try{l.db=yield l.Ct(e);const w=Fn.open(l.db,e,f?"readonly":"readwrite",s),A=a(w).catch(M=>(w.abort(M),Te.reject(M))).toPromise();return A.catch(()=>{}),yield w.At,A}catch(w){const A="FirebaseError"!==w.name&&y<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",A),l.close(),!A)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class RI{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return ho(this.$t.delete())}}class Qp extends Me{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function bc(n){return"IndexedDbTransactionError"===n.name}class Kb{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ho(s)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))}get(e){return ho(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),ho(this.store.count())}Bt(e,t){const s=this.cursor(this.options(e,t)),a=[];return this.Ut(s,(l,f)=>{a.push(f)}).next(()=>a)}qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Kt=!1;const a=this.cursor(s);return this.Ut(a,(l,f,y)=>y.delete())}jt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Ut(a,t)}Qt(e){const t=this.cursor({});return new Te((s,a)=>{t.onerror=l=>{const f=Yb(l.target.error);a(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(y=>{y?f.continue():s()}):s()}})}Ut(e,t){const s=[];return new Te((a,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const y=f.target.result;if(!y)return void a();const w=new RI(y),A=t(y.primaryKey,y.value,w);if(A instanceof Te){const M=A.catch(k=>(w.done(),Te.reject(k)));s.push(M)}w.isDone?a():null===w.Ft?y.continue():y.continue(w.Ft)}}).next(()=>Te.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Kt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ho(n){return new Te((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=Yb(s.target.error);t(a)}})}let $h=!1;function Yb(n){const e=br.bt((0,yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $h||($h=!0,setTimeout(()=>{throw s},0)),s}}return n}class Ec extends xI{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function hs(n,e){const t=He(n);return br.Dt(t.Wt,e)}class U_{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&oI(l,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&R_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&R_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(bt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(t,s)=>jS(t,s))&&Nh(this.baseMutations,e.baseMutations,(t,s)=>jS(t,s))}}class Jp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){gt(e.mutations.length===s.length);let a=Hb();const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new Jp(e,t,s,a)}}class fo{constructor(e,t,s,a,l=bt.min(),f=bt.min(),y=xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=y}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class B_{constructor(e){this.Gt=e}}function j_(n,e){if(e.document)return WS(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=tt.fromSegments(e.noDocument.path),s=Zl(e.noDocument.readTime),a=er.newNoDocument(t,s);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=tt.fromSegments(e.unknownDocument.path),s=Zl(e.unknownDocument.version);return er.newUnknownDocument(t,s)}return nt()}function Hl(n,e,t){const s=Qb(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:Gp(y=n.Gt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:du(y,w.version.toTimestamp())};return new kn(null,null,l,e.hasCommittedMutations,s,a)}var y,w;if(e.isNoDocument()){const l=e.key.path.toArray(),f=ql(e.version),y=e.hasCommittedMutations;return new kn(null,new yc(l,f),null,y,s,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),f=ql(e.version);return new kn(new jh(l,f),null,null,!0,s,a)}return nt()}function Qb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xp(n){const e=new Qr(n[0],n[1]);return bt.fromTimestamp(e)}function ql(n){const e=n.toTimestamp();return new V_(e.seconds,e.nanoseconds)}function Zl(n){const e=new Qr(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Gl(n,e){const t=(e.baseMutations||[]).map(l=>EI(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const s=e.mutations.map(l=>EI(n.Gt,l)),a=Qr.fromMillis(e.localWriteTimeMs);return new U_(e.batchId,a,t,s)}function wc(n){const e=Zl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zl(n.lastLimboFreeSnapshotVersion):bt.min();let s;var a;return void 0!==n.query.documents?(gt(1===(a=n.query).documents.length),s=ds(gc(yI(a.documents[0])))):s=ds(Wb(n.query)),new fo(s,n.targetId,0,n.lastListenSequenceNumber,e,t,xr.fromBase64String(n.resumeToken))}function MI(n,e){const t=ql(e.snapshotVersion),s=ql(e.lastLimboFreeSnapshotVersion);let a;a=C_(e.target)?Kp(n.Gt,e.target):_c(n.Gt,e.target);const l=e.resumeToken.toBase64();return new it(e.targetId,Lh(e.target),t,l,e.sequenceNumber,s,a)}function eg(n){const e=Wb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?QC(e,e.limit,"L"):e}class Jb{getBundleMetadata(e,t){return ex(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:Zl(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return ex(e).put({bundleId:(s=t).id,createTime:ql(di(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return tx(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:eg(a.bundledQuery),readTime:Zl(a.readTime)};var a})}saveNamedQuery(e,t){return tx(e).put({name:(s=t).name,readTime:ql(di(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ex(n){return hs(n,jl.store)}function tx(n){return hs(n,$l.store)}class It{constructor(){this.zt=new NI}addToCollectionParentIndex(e,t){return this.zt.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.zt.getEntries(t))}}class NI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new vr(ln.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new vr(ln.comparator)).toArray()}}class tg{constructor(){this.Ht=new NI}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:s,parent:Zo(a)};return OI(e).put(l)}return Te.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[jC(t),""],!1,!0);return OI(e).Bt(a).next(l=>{for(const f of l){if(f.collectionId!==t)break;s.push(Ta(f.parent))}return s})}}function OI(n){return hs(n,Us.store)}const PI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new fs(e,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nx(n,e,t){const s=n.store(gn.store),a=n.store(St.store),l=[],f=IDBKeyRange.only(t.batchId);let y=0;const w=s.jt({range:f},(M,k,q)=>(y++,q.delete()));l.push(w.next(()=>{gt(1===y)}));const A=[];for(const M of t.mutations){const k=St.key(e,M.key.path,t.batchId);l.push(a.delete(k)),A.push(M.key)}return Te.waitFor(l).next(()=>A)}function Xb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class eE{constructor(e,t,s,a){this.userId=e,this.k=t,this.Jt=s,this.referenceDelegate=a,this.Yt={}}static Xt(e,t,s,a){gt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new eE(l,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).jt({index:gn.userMutationsIndex,range:s},(a,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const l=Hh(e),f=Cc(e);return f.add({}).next(y=>{gt("number"==typeof y);const w=new U_(y,t,s,a),A=function(q,X,fe){const Pe=fe.baseMutations.map(Mt=>L_(q.Gt,Mt)),Ue=fe.mutations.map(Mt=>L_(q.Gt,Mt));return new gn(X,fe.batchId,fe.localWriteTime.toMillis(),Pe,Ue)}(this.k,this.userId,w),M=[];let k=new vr((q,X)=>Le(q.canonicalString(),X.canonicalString()));for(const q of a){const X=St.key(this.userId,q.key.path,y);k=k.add(q.key.path.popLast()),M.push(f.put(A)),M.push(l.put(X,St.PLACEHOLDER))}return k.forEach(q=>{M.push(this.Jt.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Yt[y]=w.keys()}),Te.waitFor(M).next(()=>w)})}lookupMutationBatch(e,t){return Cc(e).get(t).next(s=>s?(gt(s.userId===this.userId),Gl(this.k,s)):null)}Zt(e,t){return this.Yt[t]?Te.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.Yt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let l=null;return Cc(e).jt({index:gn.userMutationsIndex,range:a},(f,y,w)=>{y.userId===this.userId&&(gt(y.batchId>=s),l=Gl(this.k,y)),w.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Cc(e).jt({index:gn.userMutationsIndex,range:t,reverse:!0},(a,l,f)=>{s=l.batchId,f.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cc(e).Bt(gn.userMutationsIndex,t).next(s=>s.map(a=>Gl(this.k,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=St.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(s),l=[];return Hh(e).jt({range:a},(f,y,w)=>{const[A,M,k]=f,q=Ta(M);if(A===this.userId&&t.path.isEqual(q))return Cc(e).get(k).next(X=>{if(!X)throw nt();gt(X.userId===this.userId),l.push(Gl(this.k,X))});w.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new vr(Le);const a=[];return t.forEach(l=>{const f=St.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(f),w=Hh(e).jt({range:y},(A,M,k)=>{const[q,X,fe]=A,Pe=Ta(X);q===this.userId&&l.path.isEqual(Pe)?s=s.add(fe):k.done()});a.push(w)}),Te.waitFor(a).next(()=>this.te(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,l=St.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(l);let y=new vr(Le);return Hh(e).jt({range:f},(w,A,M)=>{const[k,q,X]=w,fe=Ta(q);k===this.userId&&s.isPrefixOf(fe)?fe.length===a&&(y=y.add(X)):M.done()}).next(()=>this.te(e,y))}te(e,t){const s=[],a=[];return t.forEach(l=>{a.push(Cc(e).get(l).next(f=>{if(null===f)throw nt();gt(f.userId===this.userId),s.push(Gl(this.k,f))}))}),Te.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return nx(e.Wt,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Te.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Te.resolve();const s=IDBKeyRange.lowerBound(St.prefixForUser(this.userId)),a=[];return Hh(e).jt({range:s},(l,f,y)=>{if(l[0]===this.userId){const w=Ta(l[1]);a.push(w)}else y.done()}).next(()=>{gt(0===a.length)})})}containsKey(e,t){return hi(e,this.userId,t)}ne(e){return $_(e).get(this.userId).next(t=>t||new Bl(this.userId,-1,""))}}function hi(n,e,t){const s=St.prefixForPath(e,t.path),a=s[1],l=IDBKeyRange.lowerBound(s);let f=!1;return Hh(n).jt({range:l,Kt:!0},(y,w,A)=>{const[M,k,q]=y;M===e&&k===a&&(f=!0),A.done()}).next(()=>f)}function Cc(n){return hs(n,gn.store)}function Hh(n){return hs(n,St.store)}function $_(n){return hs(n,Bl.store)}class Wl{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Wl(0)}static re(){return new Wl(-1)}}class rx{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const s=new Wl(t.highestTargetId);return t.highestTargetId=s.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>bt.fromTimestamp(new Qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.oe(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.ce(e,a)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(s=>(s.targetCount+=1,this.ue(t,s),this.ce(e,s))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>qh(e).delete(t.targetId)).next(()=>this.oe(e)).next(s=>(gt(s.targetCount>0),s.targetCount-=1,this.ce(e,s)))}removeTargets(e,t,s){let a=0;const l=[];return qh(e).jt((f,y)=>{const w=wc(y);w.sequenceNumber<=t&&null===s.get(w.targetId)&&(a++,l.push(this.removeTargetData(e,w)))}).next(()=>Te.waitFor(l)).next(()=>a)}forEachTarget(e,t){return qh(e).jt((s,a)=>{const l=wc(a);t(l)})}oe(e){return kI(e).get(Hi.key).next(t=>(gt(null!==t),t))}ce(e,t){return kI(e).put(Hi.key,t)}ae(e,t){return qh(e).put(MI(this.k,t))}ue(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Lh(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let l=null;return qh(e).jt({range:a,index:it.queryTargetsIndexName},(f,y,w)=>{const A=wc(y);w_(t,A.target)&&(l=A,w.done())}).next(()=>l)}addMatchingKeys(e,t,s){const a=[],l=Ic(e);return t.forEach(f=>{const y=Zo(f.path);a.push(l.put(new En(s,y))),a.push(this.referenceDelegate.addReference(e,s,f))}),Te.waitFor(a)}removeMatchingKeys(e,t,s){const a=Ic(e);return Te.forEach(t,l=>{const f=Zo(l.path);return Te.waitFor([a.delete([s,f]),this.referenceDelegate.removeReference(e,s,l)])})}removeMatchingKeysForTargetId(e,t){const s=Ic(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ic(e);let l=bn();return a.jt({range:s,Kt:!0},(f,y,w)=>{const A=Ta(f[1]),M=new tt(A);l=l.add(M)}).next(()=>l)}containsKey(e,t){const s=Zo(t.path),a=IDBKeyRange.bound([s],[jC(s)],!1,!0);let l=0;return Ic(e).jt({index:En.documentTargetsIndex,Kt:!0,range:a},([f,y],w,A)=>{0!==f&&(l++,A.done())}).next(()=>l>0)}Et(e,t){return qh(e).get(t).next(s=>s?wc(s):null)}}function qh(n){return hs(n,it.store)}function kI(n){return hs(n,Hi.store)}function Ic(n){return hs(n,En.store)}function zl(n){return ng.apply(this,arguments)}function ng(){return(ng=(0,_e.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==SI)throw n;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function FI([n,e],[t,s]){const a=Le(n,t);return 0===a?Le(e,s):a}class ix{constructor(e){this.he=e,this.buffer=new vr(FI),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();FI(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const s=this.we?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,_e.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){bc(a)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield zl(a)}yield t.me(e)}))}}class tE{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Te.resolve(ls.I);const s=new ix(t);return this.ge.forEachTarget(e,a=>s.de(a.sequenceNumber)).next(()=>this.ge.pe(e,a=>s.de(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.ge.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(PI)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PI):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let s,a,l,f,y,w,A;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),a=this.params.maximumSequenceNumbersToCollect):a=k,f=Date.now(),this.nthSequenceNumber(e,a))).next(k=>(s=k,y=Date.now(),this.removeTargets(e,s,t))).next(k=>(l=k,w=Date.now(),this.removeOrphanedDocuments(e,s))).next(k=>(A=Date.now(),Ab()<=tc.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-M}ms\n\tDetermined least recently used ${a} in `+(y-f)+`ms\n\tRemoved ${l} targets in `+(w-y)+`ms\n\tRemoved ${k} documents in `+(A-w)+`ms\nTotal Duration: ${A-M}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:k})))}}class sx{constructor(e,t){this.db=e,this.garbageCollector=new tE(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Ee(e){let t=0;return this.pe(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(s,a)=>t(a))}addReference(e,t,s){return nE(e,s)}removeReference(e,t,s){return nE(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return nE(e,t)}Ae(e,t){return function(s,a){let l=!1;return $_(s).Qt(f=>hi(s,f,a).next(y=>(y&&(l=!0),Te.resolve(!y)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ie(e,(f,y)=>{if(y<=t){const w=this.Ae(e,f).next(A=>{if(!A)return l++,s.getEntry(e,f).next(()=>(s.removeEntry(f),Ic(e).delete([0,Zo(f.path)])))});a.push(w)}}).next(()=>Te.waitFor(a)).next(()=>s.apply(e)).next(()=>l)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return nE(e,t)}Ie(e,t){const s=Ic(e);let a,l=ls.I;return s.jt({index:En.documentTargetsIndex},([f,y],{path:w,sequenceNumber:A})=>{0===f?(l!==ls.I&&t(new tt(Ta(a)),l),l=A,a=w):l=ls.I}).next(()=>{l!==ls.I&&t(new tt(Ta(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nE(n,e){return Ic(n).put((s=n.currentSequenceNumber,new En(0,Zo(e.path),s)));var s}class Zh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[s]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),!0;return!1}forEach(e){ya(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Rp(this.inner)}}class VI{constructor(){this.changes=new Zh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:bt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:er.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Te.resolve(s.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ox{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,s){return Tc(e).put(Dc(t),s)}removeEntry(e,t){const s=Tc(e),a=Dc(t);return s.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Re(e,s)))}getEntry(e,t){return Tc(e).get(Dc(t)).next(s=>this.be(t,s))}Pe(e,t){return Tc(e).get(Dc(t)).next(s=>({document:this.be(t,s),size:Xb(s)}))}getEntries(e,t){let s=lo();return this.ve(e,t,(a,l)=>{const f=this.be(a,l);s=s.insert(a,f)}).next(()=>s)}Ve(e,t){let s=lo(),a=new cr(tt.comparator);return this.ve(e,t,(l,f)=>{const y=this.be(l,f);s=s.insert(l,y),a=a.insert(l,Xb(f))}).next(()=>({documents:s,Se:a}))}ve(e,t,s){if(t.isEmpty())return Te.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let f=l.getNext();return Tc(e).jt({range:a},(y,w,A)=>{const M=tt.fromSegments(y);for(;f&&tt.comparator(f,M)<0;)s(f,null),f=l.getNext();f&&f.isEqual(M)&&(s(f,w),f=l.hasNext()?l.getNext():null),f?A.Lt(f.path.toArray()):A.done()}).next(()=>{for(;f;)s(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,s){let a=lo();const l=t.path.length+1,f={};if(s.isEqual(bt.min())){const y=t.path.toArray();f.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),w=Qb(s);f.range=IDBKeyRange.lowerBound([y,w],!0),f.index=kn.collectionReadTimeIndex}return Tc(e).jt(f,(y,w,A)=>{if(y.length!==l)return;const M=j_(this.k,w);t.path.isPrefixOf(M.key.path)?Vp(t,M)&&(a=a.insert(M.key,M)):A.done()}).next(()=>a)}newChangeBuffer(e){return new ax(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return UI(e).get(hu.key).next(t=>(gt(!!t),t))}Re(e,t){return UI(e).put(hu.key,t)}be(e,t){if(t){const s=j_(this.k,t);if(!s.isNoDocument()||!s.version.isEqual(bt.min()))return s}return er.newInvalidDocument(e)}}class ax extends VI{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Zh(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new vr((l,f)=>Le(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const y=this.Ce.get(l);if(f.document.isValidDocument()){const w=Hl(this.De.k,f.document,this.getReadTime(l));a=a.add(l.path.popLast()),s+=Xb(w)-y,t.push(this.De.addEntry(e,l,w))}else if(s-=y,this.trackRemovals){const w=Hl(this.De.k,er.newNoDocument(l,bt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,w))}else t.push(this.De.removeEntry(e,l))}),a.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,s)),Te.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(s=>(this.Ce.set(t,s.size),s.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:s,Se:a})=>(a.forEach((l,f)=>{this.Ce.set(l,f)}),s))}}function UI(n){return hs(n,hu.store)}function Tc(n){return hs(n,kn.store)}function Dc(n){return n.path.toArray()}class ux{constructor(e){this.k=e}Nt(e,t,s,a){gt(s<a&&s>=0&&a<=11);const l=new Fn("createOrUpgrade",t);var y;s<1&&a>=1&&(e.createObjectStore(Mi.store),(y=e).createObjectStore(Bl.store,{keyPath:Bl.keyPath}),y.createObjectStore(gn.store,{keyPath:gn.keyPath,autoIncrement:!0}).createIndex(gn.userMutationsIndex,gn.userMutationsKeyPath,{unique:!0}),y.createObjectStore(St.store),BI(e),function(y){y.createObjectStore(kn.store)}(e));let f=Te.resolve();return s<3&&a>=3&&(0!==s&&(function(y){y.deleteObjectStore(En.store),y.deleteObjectStore(it.store),y.deleteObjectStore(Hi.store)}(e),BI(e)),f=f.next(()=>function(y){const w=y.store(Hi.store),A=new Hi(0,0,bt.min().toTimestamp(),0);return w.put(Hi.key,A)}(l))),s<4&&a>=4&&(0!==s&&(f=f.next(()=>function(y,w){return w.store(gn.store).Bt().next(A=>{y.deleteObjectStore(gn.store),y.createObjectStore(gn.store,{keyPath:gn.keyPath,autoIncrement:!0}).createIndex(gn.userMutationsIndex,gn.userMutationsKeyPath,{unique:!0});const M=w.store(gn.store),k=A.map(q=>M.put(q));return Te.waitFor(k)})}(e,l))),f=f.next(()=>{!function(y){y.createObjectStore(vc.store,{keyPath:vc.keyPath})}(e)})),s<5&&a>=5&&(f=f.next(()=>this.Ne(l))),s<6&&a>=6&&(f=f.next(()=>(function(y){y.createObjectStore(hu.store)}(e),this.ke(l)))),s<7&&a>=7&&(f=f.next(()=>this.xe(l))),s<8&&a>=8&&(f=f.next(()=>this.$e(e,l))),s<9&&a>=9&&(f=f.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const w=y.objectStore(kn.store);w.createIndex(kn.readTimeIndex,kn.readTimeIndexPath,{unique:!1}),w.createIndex(kn.collectionReadTimeIndex,kn.collectionReadTimeIndexPath,{unique:!1})}(t)})),s<10&&a>=10&&(f=f.next(()=>this.Oe(l))),s<11&&a>=11&&(f=f.next(()=>{(function(y){y.createObjectStore(jl.store,{keyPath:jl.keyPath})})(e),function(y){y.createObjectStore($l.store,{keyPath:$l.keyPath})}(e)})),f}ke(e){let t=0;return e.store(kn.store).jt((s,a)=>{t+=Xb(a)}).next(()=>{const s=new hu(t);return e.store(hu.store).put(hu.key,s)})}Ne(e){const t=e.store(Bl.store),s=e.store(gn.store);return t.Bt().next(a=>Te.forEach(a,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return s.Bt(gn.userMutationsIndex,f).next(y=>Te.forEach(y,w=>{gt(w.userId===l.userId);const A=Gl(this.k,w);return nx(e,l.userId,A).next(()=>{})}))}))}xe(e){const t=e.store(En.store),s=e.store(kn.store);return e.store(Hi.store).get(Hi.key).next(a=>{const l=[];return s.jt((f,y)=>{const w=new ln(f),A=[0,Zo(w)];l.push(t.get(A).next(M=>M?Te.resolve():t.put(new En(0,Zo(w),a.highestListenSequenceNumber))))}).next(()=>Te.waitFor(l))})}$e(e,t){e.createObjectStore(Us.store,{keyPath:Us.keyPath});const s=t.store(Us.store),a=new NI,l=f=>{if(a.add(f)){const y=f.lastSegment(),w=f.popLast();return s.put({collectionId:y,parent:Zo(w)})}};return t.store(kn.store).jt({Kt:!0},(f,y)=>{const w=new ln(f);return l(w.popLast())}).next(()=>t.store(St.store).jt({Kt:!0},([f,y,w],A)=>{const M=Ta(y);return l(M.popLast())}))}Oe(e){const t=e.store(it.store);return t.jt((s,a)=>{const l=wc(a),f=MI(this.k,l);return t.put(f)})}}function BI(n){n.createObjectStore(En.store,{keyPath:En.keyPath}).createIndex(En.documentTargetsIndex,En.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(it.store,{keyPath:it.keyPath}).createIndex(it.queryTargetsIndexName,it.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Hi.store)}const H_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kl{constructor(e,t,s,a,l,f,y,w,A,M){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Me=l,this.window=f,this.document=y,this.Fe=A,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=k=>Promise.resolve(),!Kl.Pt())throw new Me(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sx(this,a),this.Ge=t+"main",this.k=new B_(w),this.ze=new br(this.Ge,11,new ux(this.k)),this.He=new rx(this.referenceDelegate,this.k),this.Jt=new tg,this.Je=new ox(this.k,this.Jt),this.Ye=new Jb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&Sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(he.FAILED_PRECONDITION,H_);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new ls(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var s=(0,_e.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,_e.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>rg(e).put(new vc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(bc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return q_(e).get(Mi.key).next(t=>Te.resolve(this.un(t)))}hn(e){return rg(e).delete(this.clientId)}ln(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=hs(s,vc.store);return a.Bt().next(l=>{const f=e.dn(l,18e5),y=l.filter(w=>-1===f.indexOf(w));return Te.forEach(y,w=>a.delete(w.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Xe)for(const s of t)e.Xe.removeItem(e.wn(s.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Te.resolve(!0):q_(e).get(Mi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Me(he.FAILED_PRECONDITION,H_);return!1}}return!(!this.networkEnabled||!this.inForeground)||rg(e).Bt().next(s=>void 0===this.dn(s,5e3).find(a=>{if(this.clientId!==a.clientId){const f=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||f&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Mi.store,vc.store],t=>{const s=new Ec(t,ls.I);return e.cn(s).next(()=>e.hn(s))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(s=>this.fn(s.updateTimeMs,t)&&!this._n(s.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>rg(e).Bt().next(t=>this.dn(t,18e5).map(s=>s.clientId)))}get started(){return this.Ue}getMutationQueue(e){return eE.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,s){let l;return Fe("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",BM,f=>(l=new Ec(f,this.Be?this.Be.next():ls.I),"readwrite-primary"===t?this.rn(l).next(y=>!!y||this.on(l)).next(y=>{if(!y)throw Sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Me(he.FAILED_PRECONDITION,SI);return s(l)}).next(y=>this.an(l).next(()=>y)):this.En(l).next(()=>s(l)))).then(f=>(l.raiseOnCommittedEvent(),f))}En(e){return q_(e).get(Mi.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(he.FAILED_PRECONDITION,H_)})}an(e){const t=new Mi(this.clientId,this.allowTabSynchronization,Date.now());return q_(e).put(Mi.key,t)}static Pt(){return br.Pt()}cn(e){const t=q_(e);return t.get(Mi.key).next(s=>this.un(s)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete(Mi.key)):Te.resolve())}fn(e,t){const s=Date.now();return!(e<s-t||e>s&&(Sr(`Detected an update time that is in the future: ${e} > ${s}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const s=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Sr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Sr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function q_(n){return hs(n,Mi.store)}function rg(n){return hs(n,vc.store)}function rE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class cx{constructor(e,t){this.progress=e,this.In=t}}class jI{constructor(e,t,s){this.Je=e,this.An=t,this.Jt=s}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.bn(e,t,s))}bn(e,t,s){return this.Je.getEntry(e,t).next(a=>{for(const l of s)l.applyToLocalView(a);return a})}Pn(e,t){e.forEach((s,a)=>{for(const l of t)l.applyToLocalView(a)})}vn(e,t){return this.Je.getEntries(e,t).next(s=>this.Vn(e,s).next(()=>s))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.Pn(t,s))}getDocumentsMatchingQuery(e,t,s){return tt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Sn(e,t.path):kb(t)?this.Dn(e,t,s):this.Cn(e,t,s);var a}Sn(e,t){return this.Rn(e,new tt(t)).next(s=>{let a=O_();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}Dn(e,t,s){const a=t.collectionGroup;let l=O_();return this.Jt.getCollectionParents(e,a).next(f=>Te.forEach(f,y=>{const w=(A=t,M=y.child(a),new Ea(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,M;return this.Cn(e,w,s).next(A=>{A.forEach((M,k)=>{l=l.insert(M,k)})})}).next(()=>l))}Cn(e,t,s){let a,l;return this.Je.getDocumentsMatchingQuery(e,t,s).next(f=>(a=f,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(f=>(l=f,this.Nn(e,l,a).next(y=>{a=y;for(const w of l)for(const A of w.mutations){const M=A.key;let k=a.get(M);null==k&&(k=er.newInvalidDocument(M),a=a.insert(M,k)),R_(A,k,w.localWriteTime),k.isFoundDocument()||(a=a.remove(M))}}))).next(()=>(a.forEach((f,y)=>{Vp(t,y)||(a=a.remove(f))}),a))}Nn(e,t,s){let a=bn();for(const f of t)for(const y of f.mutations)y instanceof Ll&&null===s.get(y.key)&&(a=a.add(y.key));let l=s;return this.Je.getEntries(e,a).next(f=>(f.forEach((y,w)=>{w.isFoundDocument()&&(l=l.insert(y,w))}),l))}}class iE{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.kn=s,this.xn=a}static $n(e,t){let s=bn(),a=bn();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new iE(e,t.fromCache,s,a)}}class $I{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,s,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||s.isEqual(bt.min())?this.Fn(e,t):this.Mn.vn(e,a).next(l=>{const f=this.Ln(t,l);return(T_(t)||Lp(t))&&this.Bn(t.limitType,f,a,s)?this.Fn(e,t):(Ab()<=tc.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fb(t)),this.Mn.getDocumentsMatchingQuery(e,t,s).next(y=>(f.forEach(w=>{y=y.insert(w.key,w)}),y)))});var l}Ln(e,t){let s=new vr(XC(e));return t.forEach((a,l)=>{Vp(e,l)&&(s=s.add(l))}),s}Bn(e,t,s,a){if(s.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return Ab()<=tc.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Fb(t)),this.Mn.getDocumentsMatchingQuery(e,t,bt.min())}}class HI{constructor(e,t,s,a){this.persistence=e,this.Un=t,this.k=a,this.qn=new cr(Le),this.Kn=new Zh(l=>Lh(l),w_),this.jn=bt.min(),this.An=e.getMutationQueue(s),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new jI(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function qI(n,e,t,s){return new HI(n,e,t,s)}function ZI(n,e){return GI.apply(this,arguments)}function GI(){return(GI=(0,_e.Z)(function*(n,e){const t=He(n);let s=t.An,a=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",f=>{let y;return t.An.getAllMutationBatches(f).next(w=>(y=w,s=t.persistence.getMutationQueue(e),a=new jI(t.Qn,s,t.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(w=>{const A=[],M=[];let k=bn();for(const q of y){A.push(q.batchId);for(const X of q.mutations)k=k.add(X.key)}for(const q of w){M.push(q.batchId);for(const X of q.mutations)k=k.add(X.key)}return a.vn(f,k).next(q=>({Gn:q,removedBatchIds:A,addedBatchIds:M}))})});return t.An=s,t.Wn=a,t.Un.On(t.Wn),l})).apply(this,arguments)}function jM(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(f,y,w,A){const M=w.batch,k=M.keys();let q=Te.resolve();return k.forEach(X=>{q=q.next(()=>A.getEntry(y,X)).next(fe=>{const Pe=w.docVersions.get(X);gt(null!==Pe),fe.version.compareTo(Pe)<0&&(M.applyToRemoteDocument(fe,w),fe.isValidDocument()&&A.addEntry(fe,w.commitVersion))})}),q.next(()=>f.An.removeMutationBatch(y,M))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.An.performConsistencyCheck(s)).next(()=>t.Wn.vn(s,a))})}function lx(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function sE(n,e){const t=He(n),s=e.snapshotVersion;let a=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Qn.newChangeBuffer({trackRemovals:!0});a=t.qn;const y=[];e.targetChanges.forEach((A,M)=>{const k=a.get(M);if(!k)return;y.push(t.He.removeMatchingKeys(l,A.removedDocuments,M).next(()=>t.He.addMatchingKeys(l,A.addedDocuments,M)));let q=k.withSequenceNumber(l.currentSequenceNumber);var X,fe,Pe;e.targetMismatches.has(M)?q=q.withResumeToken(xr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),a=a.insert(M,q),fe=q,Pe=A,(0===(X=k).resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&y.push(t.He.updateTargetData(l,q))});let w=lo();if(e.documentUpdates.forEach((A,M)=>{e.resolvedLimboDocuments.has(A)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(l,A))}),y.push(WI(l,f,e.documentUpdates,s,void 0).next(A=>{w=A})),!s.isEqual(bt.min())){const A=t.He.getLastRemoteSnapshotVersion(l).next(M=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,s));y.push(A)}return Te.waitFor(y).next(()=>f.apply(l)).next(()=>t.Wn.Vn(l,w)).next(()=>w)}).then(l=>(t.qn=a,l))}function WI(n,e,t,s,a){let l=bn();return t.forEach(f=>l=l.add(f)),e.getEntries(n,l).next(f=>{let y=lo();return t.forEach((w,A)=>{const M=f.get(w),k=(null==a?void 0:a.get(w))||s;A.isNoDocument()&&A.version.isEqual(bt.min())?(e.removeEntry(w,k),y=y.insert(w,A)):!M.isValidDocument()||A.version.compareTo(M.version)>0||0===A.version.compareTo(M.version)&&M.hasPendingWrites?(e.addEntry(A,k),y=y.insert(w,A)):Fe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",M.version," Watch version:",A.version)}),y})}function dx(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(s,e)))}function Gh(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.He.getTargetData(s,e).next(l=>l?(a=l,Te.resolve(a)):t.He.allocateTargetId(s).next(f=>(a=new fo(e,f,0,s.currentSequenceNumber),t.He.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.qn.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.qn=t.qn.insert(s.targetId,s),t.Kn.set(e,s.targetId)),s})}function Wh(n,e,t){return oE.apply(this,arguments)}function oE(){return(oE=(0,_e.Z)(function*(n,e,t){const s=He(n),a=s.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!bc(f))throw f;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.qn=s.qn.remove(e),s.Kn.delete(a.target)})).apply(this,arguments)}function Z_(n,e,t){const s=He(n);let a=bt.min(),l=bn();return s.persistence.runTransaction("Execute query","readonly",f=>function(y,w,A){const M=He(y),k=M.Kn.get(A);return void 0!==k?Te.resolve(M.qn.get(k)):M.He.getTargetData(w,A)}(s,f,ds(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,s.He.getMatchingKeysForTargetId(f,y.targetId).next(w=>{l=w})}).next(()=>s.Un.getDocumentsMatchingQuery(f,e,t?a:bt.min(),t?l:bn())).next(y=>({documents:y,zn:l})))}function aE(n,e){const t=He(n),s=He(t.He),a=t.qn.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>s.Et(l,e).next(f=>f?f.target:null))}function G_(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(s,a,l){const f=He(s);let y=lo(),w=Qb(l);const A=Tc(a),M=IDBKeyRange.lowerBound(w,!0);return A.jt({index:kn.readTimeIndex,range:M},(k,q)=>{const X=j_(f.k,q);y=y.insert(X.key,X),w=q.readTime}).next(()=>({In:y,readTime:Xp(w)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:s})=>(e.jn=s,t))}function Ac(){return(Ac=(0,_e.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(s){const a=Tc(s);let l=bt.min();return a.jt({index:kn.readTimeIndex,reverse:!0},(f,y,w)=>{y.readTime&&(l=Xp(y.readTime)),w.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function W_(){return(W_=(0,_e.Z)(function*(n,e,t,s){const a=He(n);let l=bn(),f=lo(),y=Hb();for(const M of t){const k=e.Hn(M.metadata.name);M.document&&(l=l.add(k)),f=f.insert(k,e.Jn(M)),y=y.insert(k,e.Yn(M.metadata.readTime))}const w=a.Qn.newChangeBuffer({trackRemovals:!0}),A=yield Gh(a,(M=s,ds(gc(ln.fromString(`__bundle__/docs/${M}`)))));var M;return a.persistence.runTransaction("Apply bundle documents","readwrite",M=>WI(M,w,f,bt.min(),y).next(k=>(w.apply(M),k)).next(k=>a.He.removeMatchingKeysForTargetId(M,A.targetId).next(()=>a.He.addMatchingKeys(M,l,A.targetId)).next(()=>a.Wn.Vn(M,k)).next(()=>k)))})).apply(this,arguments)}function Go(n,e){return ig.apply(this,arguments)}function ig(){return(ig=(0,_e.Z)(function*(n,e,t=bn()){const s=yield Gh(n,ds(eg(e.bundledQuery))),a=He(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const f=di(e.readTime);if(s.snapshotVersion.compareTo(f)>=0)return a.Ye.saveNamedQuery(l,e);const y=s.withResumeToken(xr.EMPTY_BYTE_STRING,f);return a.qn=a.qn.insert(y.targetId,y),a.He.updateTargetData(l,y).next(()=>a.He.removeMatchingKeysForTargetId(l,s.targetId)).next(()=>a.He.addMatchingKeys(l,t,s.targetId)).next(()=>a.Ye.saveNamedQuery(l,e))})})).apply(this,arguments)}class fx{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Te.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var s;return this.Xn.set(t.id,{id:(s=t).id,version:s.version,createTime:di(s.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(s=t).name,query:eg(s.bundledQuery),readTime:di(s.readTime)}),Te.resolve();var s}}class z_{constructor(){this.ts=new vr(jr.es),this.ns=new vr(jr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const s=new jr(e,t);this.ts=this.ts.add(s),this.ns=this.ns.add(s)}rs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.os(new jr(e,t))}cs(e,t){e.forEach(s=>this.removeReference(s,t))}us(e){const t=new tt(new ln([])),s=new jr(t,e),a=new jr(t,e+1),l=[];return this.ns.forEachInRange([s,a],f=>{this.os(f),l.push(f.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new tt(new ln([])),s=new jr(t,e),a=new jr(t,e+1);let l=bn();return this.ns.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new jr(e,0),s=this.ts.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class jr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return tt.comparator(e.key,t.key)||Le(e.fs,t.fs)}static ss(e,t){return Le(e.fs,t.fs)||tt.comparator(e.key,t.key)}}class zI{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new vr(jr.es)}checkEmpty(e){return Te.resolve(0===this.An.length)}addMutationBatch(e,t,s,a){const l=this.ds;this.ds++;const f=new U_(l,t,s,a);this.An.push(f);for(const y of a)this.ws=this.ws.add(new jr(y.key,l)),this.Jt.addToCollectionParentIndex(e,y.key.path.popLast());return Te.resolve(f)}lookupMutationBatch(e,t){return Te.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.gs(t+1),l=a<0?0:a;return Te.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Te.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jr(t,0),a=new jr(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([s,a],f=>{const y=this._s(f.fs);l.push(y)}),Te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new vr(Le);return t.forEach(a=>{const l=new jr(a,0),f=new jr(a,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,f],y=>{s=s.add(y.fs)})}),Te.resolve(this.ys(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;tt.isDocumentKey(l)||(l=l.child(""));const f=new jr(new tt(l),0);let y=new vr(Le);return this.ws.forEachWhile(w=>{const A=w.key.path;return!!s.isPrefixOf(A)&&(A.length===a&&(y=y.add(w.fs)),!0)},f),Te.resolve(this.ys(y))}ys(e){const t=[];return e.forEach(s=>{const a=this._s(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){gt(0===this.ps(t.batchId,"removed")),this.An.shift();let s=this.ws;return Te.forEach(t.mutations,a=>{const l=new jr(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ws=s})}ee(e){}containsKey(e,t){const s=new jr(t,0),a=this.ws.firstAfterOrEqual(s);return Te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Te.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class px{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new cr(tt.comparator),this.size=0}addEntry(e,t,s){const a=t.key,l=this.docs.get(a),f=l?l.size:0,y=this.Ts(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:y,readTime:s}),this.size+=y-f,this.Jt.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let s=lo();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():er.newInvalidDocument(a))}),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s){let a=lo();const l=new tt(t.path.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:y,value:{document:w,readTime:A}}=f.getNext();if(!t.path.isPrefixOf(y.path))break;A.compareTo(s)<=0||Vp(t,w)&&(a=a.insert(w.key,w.mutableCopy()))}return Te.resolve(a)}Es(e,t){return Te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new gx(this)}getSize(e){return Te.resolve(this.size)}}class gx extends VI{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.document.isValidDocument()?t.push(this.De.addEntry(e,a.document,this.getReadTime(s))):this.De.removeEntry(s)}),Te.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class mx{constructor(e){this.persistence=e,this.Is=new Zh(t=>Lh(t),w_),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.As=0,this.Rs=new z_,this.targetCount=0,this.bs=Wl.ie()}forEachTarget(e,t){return this.Is.forEach((s,a)=>t(a)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.As&&(this.As=t),Te.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.ae(t),Te.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Is.forEach((f,y)=>{y.sequenceNumber<=t&&null===s.get(y.targetId)&&(this.Is.delete(f),l.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),Te.waitFor(l).next(()=>a)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Is.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.Rs.rs(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.Rs.cs(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Rs.ls(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.Rs.containsKey(t))}}class KI{constructor(e,t){this.Ps={},this.Be=new ls(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new mx(this),this.Jt=new It,this.Je=new px(this.Jt,s=>this.referenceDelegate.vs(s)),this.k=new B_(t),this.Ye=new fx(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new zI(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,s){Fe("MemoryPersistence","Starting transaction:",e);const a=new _x(this.Be.next());return this.referenceDelegate.Vs(),s(a).next(l=>this.referenceDelegate.Ss(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ds(e,t){return Te.or(Object.values(this.Ps).map(s=>()=>s.containsKey(e,t)))}}class _x extends xI{constructor(e){super(),this.currentSequenceNumber=e}}class YI{constructor(e){this.persistence=e,this.Cs=new z_,this.Ns=null}static ks(e){return new YI(e)}get xs(){if(this.Ns)return this.Ns;throw nt()}addReference(e,t,s){return this.Cs.addReference(s,t),this.xs.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Cs.removeReference(s,t),this.xs.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(a=>this.xs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,s=>{const a=tt.fromPath(s);return this.$s(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(s=>{s?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Te.or([()=>Te.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function QI(n,e){return`firestore_clients_${n}_${e}`}function JI(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Sc(n,e){return`firestore_targets_${n}_${e}`}class uE{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Os(e,t,s){const a=JSON.parse(s);let l,f="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Me(a.error.code,a.error.message))),f?new uE(e,t,a.state,l):(Sr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zh{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Os(e,t){const s=JSON.parse(t);let a,l="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return l&&s.error&&(l="string"==typeof s.error.message&&"string"==typeof s.error.code,l&&(a=new Me(s.error.code,s.error.message))),l?new zh(e,s.state,a):(Sr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class K_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,l=P_();for(let f=0;a&&f<s.activeTargetIds.length;++f)a=Np(s.activeTargetIds[f]),l=l.add(s.activeTargetIds[f]);return a?new K_(e,l):(Sr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XI{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XI(t.clientId,t.onlineState):(Sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Y_{constructor(){this.activeTargetIds=P_()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cE{constructor(e,t,s,a,l){this.window=e,this.Me=t,this.persistenceKey=s,this.Bs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new cr(Le),this.started=!1,this.js=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=QI(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Y_),this.Gs=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Tn();for(const a of t){if(a===e.Bs)continue;const l=e.getItem(QI(e.persistenceKey,a));if(l){const f=K_.Os(a,l);f&&(e.Ks=e.Ks.insert(f.clientId,f))}}e.Xs();const s=e.storage.getItem(e.Js);if(s){const a=e.Zs(s);a&&e.ti(a)}for(const a of e.js)e.qs(a);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,s){this.ni(e,t,s),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Sc(this.persistenceKey,e));if(s){const a=zh.Os(e,s);a&&(t=a.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sc(this.persistenceKey,e))}updateQueryState(e,t,s){this.ri(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.si(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Fe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Qs)return void Sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==s.key)if(t.Gs.test(s.key)){if(null==s.newValue){const a=t.ai(s.key);return t.ui(a,null)}{const a=t.hi(s.key,s.newValue);if(a)return t.ui(a.clientId,a)}}else if(t.zs.test(s.key)){if(null!==s.newValue){const a=t.li(s.key,s.newValue);if(a)return t.fi(a)}}else if(t.Hs.test(s.key)){if(null!==s.newValue){const a=t.di(s.key,s.newValue);if(a)return t.wi(a)}}else if(s.key===t.Js){if(null!==s.newValue){const a=t.Zs(s.newValue);if(a)return t.ti(a)}}else if(s.key===t.Ws){const a=function(l){let f=ls.I;if(null!=l)try{const y=JSON.parse(l);gt("number"==typeof y),f=y}catch(y){Sr("SharedClientState","Failed to read sequence number from WebStorage",y)}return f}(s.newValue);a!==ls.I&&t.sequenceNumberHandler(a)}else if(s.key===t.Ys)return t.syncEngine._i()}else t.js.push(s)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,s){const a=new uE(this.currentUser,e,t,s),l=JI(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Ms())}si(e){const t=JI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,s){const a=Sc(this.persistenceKey,e),l=new zh(e,t,s);this.setItem(a,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const s=this.ai(e);return K_.Os(s,t)}li(e,t){const s=this.zs.exec(e),a=Number(s[1]);return uE.Os(new ci(void 0!==s[2]?s[2]:null),a,t)}di(e,t){const s=this.Hs.exec(e),a=Number(s[1]);return zh.Os(a,t)}Zs(e){return XI.Os(e)}fi(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const s=t?this.Ks.insert(e,t):this.Ks.remove(e),a=this.ei(this.Ks),l=this.ei(s),f=[],y=[];return l.forEach(w=>{a.has(w)||f.push(w)}),a.forEach(w=>{l.has(w)||y.push(w)}),this.syncEngine.yi(f,y).then(()=>{this.Ks=s})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=P_();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Q_{constructor(){this.pi=new Y_,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,s){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Y_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class eT{Ei(e){}shutdown(){}}class lE{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vx{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class bx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,s,a,l){const f=this.Ui(e,t);Fe("RestConnection","Sending: ",f,s);const y={};return this.qi(y,a,l),this.Ki(e,f,y,s).then(w=>(Fe("RestConnection","Received: ",w),w),w=>{throw Rh("RestConnection",`${e} failed with error: `,w,"url: ",f,"request:",s),w})}ji(e,t,s,a,l){return this.Bi(e,t,s,a,l)}qi(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+xh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}Ui(e,t){return`${this.Fi}/v1/${t}:${yx[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,s,a){return new Promise((l,f)=>{const y=new CS;y.listenOnce(bS.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Db.NO_ERROR:const A=y.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(A)),l(A);break;case Db.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),f(new Me(he.DEADLINE_EXCEEDED,"Request time out"));break;case Db.HTTP_ERROR:const M=y.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',M,"response text:",y.getResponseText()),M>0){const k=y.getResponseJson().error;if(k&&k.status&&k.message){const q=function(X){const fe=X.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(fe)>=0?fe:he.UNKNOWN}(k.status);f(new Me(q,k.message))}else f(new Me(he.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Me(he.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);y.send(t,"POST",w,s,15)})}Qi(e,t,s){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=yS(),f=vS(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(y.xmlHttpFactory=new wS({})),this.qi(y.initMessageHeaders,t,s),(0,yt.uI)()||(0,yt.b$)()||(0,yt.d)()||(0,yt.w1)()||(0,yt.Mn)()||(0,yt.ru)()||(y.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");Fe("Connection","Creating WebChannel: "+w,y);const A=l.createWebChannel(w,y);let M=!1,k=!1;const q=new vx({Vi:fe=>{k?Fe("Connection","Not sending because WebChannel is closed:",fe):(M||(Fe("Connection","Opening WebChannel transport."),A.open(),M=!0),Fe("Connection","WebChannel sending:",fe),A.send(fe))},Si:()=>A.close()}),X=(fe,Pe,Ue)=>{fe.listen(Pe,Mt=>{try{Ue(Mt)}catch(xt){setTimeout(()=>{throw xt},0)}})};return X(A,p_.EventType.OPEN,()=>{k||Fe("Connection","WebChannel transport opened.")}),X(A,p_.EventType.CLOSE,()=>{k||(k=!0,Fe("Connection","WebChannel transport closed"),q.Oi())}),X(A,p_.EventType.ERROR,fe=>{k||(k=!0,Rh("Connection","WebChannel transport errored:",fe),q.Oi(new Me(he.UNAVAILABLE,"The operation could not be completed")))}),X(A,p_.EventType.MESSAGE,fe=>{var Pe;if(!k){const Ue=fe.data[0];gt(!!Ue);const Mt=Ue,xt=Mt.error||(null===(Pe=Mt[0])||void 0===Pe?void 0:Pe.error);if(xt){Fe("Connection","WebChannel received error:",xt);const Lt=xt.status;let lt=function(Pi){const Ef=Nr[Pi];if(void 0!==Ef)return $S(Ef)}(Lt),Cn=xt.message;void 0===lt&&(lt=he.INTERNAL,Cn="Unknown error status: "+Lt+" with message "+xt.message),k=!0,q.Oi(new Me(lt,Cn)),A.close()}else Fe("Connection","WebChannel received:",Ue),q.Mi(Ue)}}),X(f,ES.STAT_EVENT,fe=>{fe.stat===FC.PROXY?Fe("Connection","Detected buffering proxy"):fe.stat===FC.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.$i()},0),q}}function tT(){return"undefined"!=typeof window?window:null}function J_(){return"undefined"!=typeof document?document:null}function sg(n){return new F_(n,!0)}class dE{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=s,this.Gi=a,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),s=Math.max(0,Date.now()-this.Yi),a=Math.max(0,t-s);a>0&&Fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,a,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class nT{constructor(e,t,s,a,l,f,y,w){this.Me=e,this.nr=s,this.sr=a,this.ir=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=y,this.listener=w,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new dE(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,_e.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,_e.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var s=this;return(0,_e.Z)(function*(){s.yr(),s.pr(),s.ur.cancel(),s.rr++,4!==e?s.ur.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),s.ur.Xi()):t&&t.code===he.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Tr(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.rr===t&&this.Ir(s,a)},s=>{e(()=>{const a=new Me(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ar(a)})})}Ir(e,t){const s=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{s(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(a=>{s(()=>this.Ar(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}dr(){var e=this;this.state=5,this.ur.Zi((0,_e.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends nT{constructor(e,t,s,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:nt(),a=e.targetChange.targetIds||[],l=function(w,A){return w.C?(gt(void 0===A||"string"==typeof A),xr.fromBase64String(A||"")):(gt(void 0===A||A instanceof Uint8Array),xr.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,y=f&&function(w){const A=void 0===w.code?he.UNKNOWN:$S(w.code);return new Me(A,w.message||"")}(f);t=new dI(s,a,l,y||null)}else if("documentChange"in e){const s=e.documentChange,a=Ia(n,s.document.name),l=di(s.document.updateTime),f=new xi({mapValue:{fields:s.document.fields}}),y=er.newFoundDocument(a,l,f);t=new qp(s.targetIds||[],s.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const s=e.documentDelete,a=Ia(n,s.document),l=s.readTime?di(s.readTime):bt.min(),f=er.newNoDocument(a,l);t=new qp([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Ia(n,s.document);t=new qp([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return nt();{const s=e.filter,l=new UM(s.count||0);t=new qb(s.targetId,l)}}var w;return t}(this.k,e),s=function(a){if(!("targetChange"in a))return bt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?bt.min():l.readTime?di(l.readTime):bt.min()}(e);return this.listener.br(t,s)}Pr(e){const t={};t.database=Wp(this.k),t.addTarget=function(a,l){let f;const y=l.target;return f=C_(y)?{documents:Kp(a,y)}:{query:_c(a,y)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=mI(a,l.resumeToken):l.snapshotVersion.compareTo(bt.min())>0&&(f.readTime=du(a,l.snapshotVersion.toTimestamp())),f}(this.k,e);const s=function(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.gr(t)}vr(e){const t={};t.database=Wp(this.k),t.removeTarget=e,this.gr(t)}}class rT extends nT{constructor(e,t,s,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(s,a){let l=di(s.updateTime?s.updateTime:a);return l.isEqual(bt.min())&&(l=di(a)),new Vb(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=di(e.commitTime);return this.listener.Cr(s,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Wp(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>L_(this.k,s))};this.gr(t)}}class iT extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=s,this.k=a,this.$r=!1}Or(){if(this.$r)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.Bi(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(he.UNKNOWN,a.toString())})}ji(e,t,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.ir.ji(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(he.UNKNOWN,a.toString())})}terminate(){this.$r=!0}}class sT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Sr(t),this.Lr=!1):Fe("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class oT{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(y=>{s.enqueueAndForget((0,_e.Z)(function*(){var w;xc(f)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,_e.Z)(function*(A){const M=He(A);M.Gr.add(4),yield Yh(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield Kh(M)}),function(A){return w.apply(this,arguments)})(f))}))}),this.Jr=new sT(s,a)}}function Kh(n){return hE.apply(this,arguments)}function hE(){return(hE=(0,_e.Z)(function*(n){if(xc(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function Yh(n){return fE.apply(this,arguments)}function fE(){return(fE=(0,_e.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function X_(n,e){const t=He(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),Ql(t)?Yl(t):Jl(t).lr()&&pE(t,e))}function ag(n,e){const t=He(n),s=Jl(t);t.Wr.delete(e),s.lr()&&aT(t,e),0===t.Wr.size&&(s.lr()?s._r():xc(t)&&t.Jr.set("Unknown"))}function pE(n,e){n.Yr.X(e.targetId),Jl(n).Pr(e)}function aT(n,e){n.Yr.X(e),Jl(n).vr(e)}function Yl(n){n.Yr=new fI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Jl(n).start(),n.Jr.Br()}function Ql(n){return xc(n)&&!Jl(n).hr()&&n.Wr.size>0}function xc(n){return 0===He(n).Gr.size}function ey(n){n.Yr=void 0}function Da(n){return gE.apply(this,arguments)}function gE(){return(gE=(0,_e.Z)(function*(n){n.Wr.forEach((e,t)=>{pE(n,e)})})).apply(this,arguments)}function ty(n,e){return mE.apply(this,arguments)}function mE(){return(mE=(0,_e.Z)(function*(n,e){ey(n),Ql(n)?(n.Jr.Kr(e),Yl(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function Ex(n,e,t){return uT.apply(this,arguments)}function uT(){return(uT=(0,_e.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof dI&&2===e.state&&e.cause)try{yield(s=(0,_e.Z)(function*(a,l){const f=l.cause;for(const y of l.targetIds)a.Wr.has(y)&&(yield a.remoteSyncer.rejectListen(y,f),a.Wr.delete(y),a.Yr.removeTarget(y))}),function(a,l){return s.apply(this,arguments)})(n,e)}catch(s){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Qh(n,s)}else if(e instanceof qp?n.Yr.ot(e):e instanceof qb?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(bt.min()))try{const s=yield lx(n.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Yr.gt(l);return f.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const A=a.Wr.get(w);A&&a.Wr.set(w,A.withResumeToken(y.resumeToken,l))}}),f.targetMismatches.forEach(y=>{const w=a.Wr.get(y);if(!w)return;a.Wr.set(y,w.withResumeToken(xr.EMPTY_BYTE_STRING,w.snapshotVersion)),aT(a,y);const A=new fo(w.target,y,1,w.sequenceNumber);pE(a,A)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(s){Fe("RemoteStore","Failed to raise snapshot:",s),yield Qh(n,s)}var s})).apply(this,arguments)}function Qh(n,e,t){return ug.apply(this,arguments)}function ug(){return(ug=(0,_e.Z)(function*(n,e,t){if(!bc(e))throw e;n.Gr.add(1),yield Yh(n),n.Jr.set("Offline"),t||(t=()=>lx(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Kh(n)}))})).apply(this,arguments)}function _E(n,e){return e().catch(t=>Qh(n,t,e))}function Rc(n){return cg.apply(this,arguments)}function cg(){return(cg=(0,_e.Z)(function*(n){const e=He(n),t=Mc(e);let s=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;wx(e);)try{const a=yield dx(e.localStore,s);if(null===a){0===e.Qr.length&&t._r();break}s=a.batchId,Cx(e,a)}catch(a){yield Qh(e,a)}cT(e)&&lT(e)})).apply(this,arguments)}function wx(n){return xc(n)&&n.Qr.length<10}function Cx(n,e){n.Qr.push(e);const t=Mc(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function cT(n){return xc(n)&&!Mc(n).hr()&&n.Qr.length>0}function lT(n){Mc(n).start()}function dT(n){return lg.apply(this,arguments)}function lg(){return(lg=(0,_e.Z)(function*(n){Mc(n).kr()})).apply(this,arguments)}function hT(n){return yE.apply(this,arguments)}function yE(){return(yE=(0,_e.Z)(function*(n){const e=Mc(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function fT(n,e,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,_e.Z)(function*(n,e,t){const s=n.Qr.shift(),a=Jp.from(s,e,t);yield _E(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Rc(n)})).apply(this,arguments)}function Ix(n,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,_e.Z)(function*(n,e){var t;e&&Mc(n).Sr&&(yield(t=(0,_e.Z)(function*(s,a){if(Bb(l=a.code)&&l!==he.ABORTED){const f=s.Qr.shift();Mc(s).wr(),yield _E(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Rc(s)}var l}),function(s,a){return t.apply(this,arguments)})(n,e)),cT(n)&&lT(n)})).apply(this,arguments)}function iy(n,e){return vE.apply(this,arguments)}function vE(){return(vE=(0,_e.Z)(function*(n,e){const t=He(n);e?(t.Gr.delete(2),yield Kh(t)):e||(t.Gr.add(2),yield Yh(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function Jl(n){return n.Xr||(n.Xr=function(e,t,s){const a=He(e);return a.Or(),new og(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,s)}(n.datastore,n.asyncQueue,{Di:Da.bind(null,n),Ni:ty.bind(null,n),br:Ex.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Xr.wr(),Ql(n)?Yl(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),ey(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Mc(n){return n.Zr||(n.Zr=function(e,t,s){const a=He(e);return a.Or(),new rT(t,a.ir,a.authCredentials,a.appCheckCredentials,a.k,s)}(n.datastore,n.asyncQueue,{Di:dT.bind(null,n),Ni:Ix.bind(null,n),Nr:hT.bind(null,n),Cr:fT.bind(null,n)}),n.zr.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Zr.wr(),yield Rc(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class pT{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,y=new pT(e,t,f,a,l);return y.start(s),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Or(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),bc(n))return new Me(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Wo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||tt.comparator(t.key,s.key):(t,s)=>tt.comparator(t.key,s.key),this.keyedMap=O_(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Wo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class gT{constructor(){this.eo=new cr(tt.comparator)}track(e){const t=e.doc.key,s=this.eo.get(t);s?0!==e.type&&3===s.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==s.type?this.eo=this.eo.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.eo=this.eo.remove(t):1===e.type&&2===s.type?this.eo=this.eo.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):nt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,s)=>{e.push(s)}),e}}class Jh{constructor(e,t,s,a,l,f,y,w){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=y,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,s,a){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Jh(e,t,Wo.emptySet(t),l,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class $M{constructor(){this.so=void 0,this.listeners=[]}}class dg{constructor(){this.queries=new Zh(e=>JC(e),Uh),this.onlineState="Unknown",this.io=new Set}}function bE(n,e){return hg.apply(this,arguments)}function hg(){return(hg=(0,_e.Z)(function*(n,e){const t=He(n),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new $M),a)try{l.so=yield t.onListen(s)}catch(f){const y=Or(f,`Initialization of query '${Fb(e.query)}' failed`);return void e.onError(y)}t.queries.set(s,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&fg(t)})).apply(this,arguments)}function EE(n,e){return sy.apply(this,arguments)}function sy(){return(sy=(0,_e.Z)(function*(n,e){const t=He(n),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)})).apply(this,arguments)}function Tx(n,e){const t=He(n);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const y of f.listeners)y.oo(a)&&(s=!0);f.so=a}}s&&fg(t)}function Dx(n,e,t){const s=He(n),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function fg(n){n.io.forEach(e=>{e.next()})}class oy{constructor(e,t,s){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=s||{}}oo(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Jh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class mT{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class pg{constructor(e){this.k=e}Hn(e){return Ia(this.k,e)}Jn(e){return e.metadata.exists?WS(this.k,e.document,!1):er.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return di(e)}}class wE{constructor(e,t,s){this.mo=e,this.localStore=t,this.k=s,this.queries=[],this.documents=[],this.progress=Ax(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,s=new pg(this.k);for(const a of e)if(a.metadata.queries){const l=s.Hn(a.metadata.name);for(const f of a.metadata.queries){const y=(t.get(f)||bn()).add(l);t.set(f,y)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function(n,e,t,s){return W_.apply(this,arguments)}(e.localStore,new pg(e.k),e.documents,e.mo.id),s=e.po(e.documents);for(const a of e.queries)yield Go(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",new cx(Object.assign({},e.progress),t)})()}}function Ax(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class CE{constructor(e){this.key=e}}class _T{constructor(e){this.key=e}}class IE{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=bn(),this.mutatedKeys=bn(),this.Ao=XC(e),this.Ro=new Wo(this.Ao)}get bo(){return this.To}Po(e,t){const s=t?t.vo:new gT,a=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,y=!1;const w=T_(this.query)&&a.size===this.query.limit?a.last():null,A=Lp(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((M,k)=>{const q=a.get(M),X=Vp(this.query,k)?k:null,fe=!!q&&this.mutatedKeys.has(q.key),Pe=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Ue=!1;q&&X?q.data.isEqual(X.data)?fe!==Pe&&(s.track({type:3,doc:X}),Ue=!0):this.Vo(q,X)||(s.track({type:2,doc:X}),Ue=!0,(w&&this.Ao(X,w)>0||A&&this.Ao(X,A)<0)&&(y=!0)):!q&&X?(s.track({type:0,doc:X}),Ue=!0):q&&!X&&(s.track({type:1,doc:q}),Ue=!0,(w||A)&&(y=!0)),Ue&&(X?(f=f.add(X),l=Pe?l.add(M):l.delete(M)):(f=f.delete(M),l=l.delete(M)))}),T_(this.query)||Lp(this.query))for(;f.size>this.query.limit;){const M=T_(this.query)?f.last():f.first();f=f.delete(M.key),l=l.delete(M.key),s.track({type:1,doc:M})}return{Ro:f,vo:s,Bn:y,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((A,M)=>function(k,q){const X=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return X(k)-X(q)}(A.type,M.type)||this.Ao(A.doc,M.doc)),this.So(s);const f=t?this.Do():[],y=0===this.Io.size&&this.current?1:0,w=y!==this.Eo;return this.Eo=y,0!==l.length||w?{snapshot:new Jh(this.query,e.Ro,a,l,e.mutatedKeys,0===y,w,!1),Co:f}:{Co:f}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new gT,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=bn(),this.Ro.forEach(s=>{this.No(s.key)&&(this.Io=this.Io.add(s.key))});const t=[];return e.forEach(s=>{this.Io.has(s)||t.push(new _T(s))}),this.Io.forEach(s=>{e.has(s)||t.push(new CE(s))}),t}ko(e){this.To=e.zn,this.Io=bn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Jh.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class ay{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yT{constructor(e){this.key=e,this.$o=!1}}class Sx{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Oo={},this.Mo=new Zh(y=>JC(y),Uh),this.Fo=new Map,this.Lo=new Set,this.Bo=new cr(tt.comparator),this.Uo=new Map,this.qo=new z_,this.Ko={},this.jo=new Map,this.Qo=Wl.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function TE(n,e){return gg.apply(this,arguments)}function gg(){return(gg=(0,_e.Z)(function*(n,e){const t=kE(n);let s,a;const l=t.Mo.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.xo();else{const f=yield Gh(t.localStore,ds(e)),y=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield DE(t,e,s,"current"===y),t.isPrimaryClient&&X_(t.remoteStore,f)}return a})).apply(this,arguments)}function DE(n,e,t,s){return AE.apply(this,arguments)}function AE(){return(AE=(0,_e.Z)(function*(n,e,t,s){n.Go=(M,k,q)=>{return(X=(0,_e.Z)(function*(fe,Pe,Ue,Mt){let xt=Pe.view.Po(Ue);xt.Bn&&(xt=yield Z_(fe.localStore,Pe.query,!1).then(({documents:Cn})=>Pe.view.Po(Cn,xt)));const Lt=Mt&&Mt.targetChanges.get(Pe.targetId),lt=Pe.view.applyChanges(xt,fe.isPrimaryClient,Lt);return IT(fe,Pe.targetId,lt.Co),lt.snapshot}),function(fe,Pe,Ue,Mt){return X.apply(this,arguments)})(n,M,k,q);var X};const a=yield Z_(n.localStore,e,!0),l=new IE(e,a.zn),f=l.Po(a.documents),y=Bh.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),w=l.applyChanges(f,n.isPrimaryClient,y);IT(n,t,w.Co);const A=new ay(e,t,l);return n.Mo.set(e,A),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),w.snapshot})).apply(this,arguments)}function vT(n,e){return uy.apply(this,arguments)}function uy(){return(uy=(0,_e.Z)(function*(n,e){const t=He(n),s=t.Mo.get(e),a=t.Fo.get(s.targetId);if(a.length>1)return t.Fo.set(s.targetId,a.filter(l=>!Uh(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Wh(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ag(t.remoteStore,s.targetId),Xl(t,s.targetId)}).catch(zl))):(Xl(t,s.targetId),yield Wh(t.localStore,s.targetId,!0))})).apply(this,arguments)}function SE(){return(SE=(0,_e.Z)(function*(n,e,t){const s=kT(n);try{const a=yield function(l,f){const y=He(l),w=Qr.now(),A=f.reduce((k,q)=>k.add(q.key),bn());let M;return y.persistence.runTransaction("Locally write mutations","readwrite",k=>y.Wn.vn(k,A).next(q=>{M=q;const X=[];for(const fe of f){const Pe=aI(fe,M.get(fe.key));null!=Pe&&X.push(new Ll(fe.key,Pe,xS(Pe.value.mapValue),Mr.exists(!0)))}return y.An.addMutationBatch(k,w,X,f)})).then(k=>(k.applyToLocalDocumentSet(M),{batchId:k.batchId,changes:M}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,y){let w=l.Ko[l.currentUser.toKey()];w||(w=new cr(Le)),w=w.insert(f,y),l.Ko[l.currentUser.toKey()]=w}(s,a.batchId,t),yield Nc(s,a.changes),yield Rc(s.remoteStore)}catch(a){const l=Or(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function xE(n,e){return cy.apply(this,arguments)}function cy(){return(cy=(0,_e.Z)(function*(n,e){const t=He(n);try{const s=yield sE(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.Uo.get(l);f&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.$o=!0:a.modifiedDocuments.size>0?gt(f.$o):a.removedDocuments.size>0&&(gt(f.$o),f.$o=!1))}),yield Nc(t,s,e)}catch(s){yield zl(s)}})).apply(this,arguments)}function ET(n,e,t){const s=He(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.Mo.forEach((l,f)=>{const y=f.view.ro(e);y.snapshot&&a.push(y.snapshot)}),function(l,f){const y=He(l);y.onlineState=f;let w=!1;y.queries.forEach((A,M)=>{for(const k of M.listeners)k.ro(f)&&(w=!0)}),w&&fg(y)}(s.eventManager,e),a.length&&s.Oo.br(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function xx(n,e,t){return ly.apply(this,arguments)}function ly(){return(ly=(0,_e.Z)(function*(n,e,t){const s=He(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Uo.get(e),l=a&&a.key;if(l){let f=new cr(tt.comparator);f=f.insert(l,er.newNoDocument(l,bt.min()));const y=bn().add(l),w=new Hp(bt.min(),new Map,new vr(Le),f,y);yield xE(s,w),s.Bo=s.Bo.remove(l),s.Uo.delete(e),TT(s)}else yield Wh(s.localStore,e,!1).then(()=>Xl(s,e,t)).catch(zl)})).apply(this,arguments)}function Rx(n,e){return dy.apply(this,arguments)}function dy(){return(dy=(0,_e.Z)(function*(n,e){const t=He(n),s=e.batch.batchId;try{const a=yield jM(t.localStore,e);NE(t,s,null),ME(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Nc(t,a)}catch(a){yield zl(a)}})).apply(this,arguments)}function wT(n,e,t){return hy.apply(this,arguments)}function hy(){return(hy=(0,_e.Z)(function*(n,e,t){const s=He(n);try{const a=yield function(l,f){const y=He(l);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return y.An.lookupMutationBatch(w,f).next(M=>(gt(null!==M),A=M.keys(),y.An.removeMutationBatch(w,M))).next(()=>y.An.performConsistencyCheck(w)).next(()=>y.Wn.vn(w,A))})}(s.localStore,e);NE(s,e,t),ME(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Nc(s,a)}catch(a){yield zl(a)}})).apply(this,arguments)}function RE(){return(RE=(0,_e.Z)(function*(n,e){const t=He(n);xc(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(l){const f=He(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>f.An.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===s)return void e.resolve();const a=t.jo.get(s)||[];a.push(e),t.jo.set(s,a)}catch(s){const a=Or(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function ME(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function NE(n,e,t){const s=He(n);let a=s.Ko[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Ko[s.currentUser.toKey()]=a}}function Xl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Fo.get(e))n.Mo.delete(s),t&&n.Oo.zo(s,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(s=>{n.qo.containsKey(s)||Mx(n,s)})}function Mx(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(ag(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),TT(n))}function IT(n,e,t){for(const s of t)s instanceof CE?(n.qo.addReference(s.key,e),HM(n,s)):s instanceof _T?(Fe("SyncEngine","Document no longer in limbo: "+s.key),n.qo.removeReference(s.key,e),n.qo.containsKey(s.key)||Mx(n,s.key)):nt()}function HM(n,e){const t=e.key,s=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(s)||(Fe("SyncEngine","New document in limbo: "+t),n.Lo.add(s),TT(n))}function TT(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new tt(ln.fromString(e)),s=n.Qo.next();n.Uo.set(s,new yT(t)),n.Bo=n.Bo.insert(t,s),X_(n.remoteStore,new fo(ds(gc(t.path)),s,2,ls.I))}}function Nc(n,e,t){return DT.apply(this,arguments)}function DT(){return(DT=(0,_e.Z)(function*(n,e,t){const s=He(n),a=[],l=[],f=[];var y;s.Mo.isEmpty()||(s.Mo.forEach((y,w)=>{f.push(s.Go(w,e,t).then(A=>{if(A){s.isPrimaryClient&&s.sharedClientState.updateQueryState(w.targetId,A.fromCache?"not-current":"current"),a.push(A);const M=iE.$n(w.targetId,A);l.push(M)}}))}),yield Promise.all(f),s.Oo.br(a),yield(y=(0,_e.Z)(function*(w,A){const M=He(w);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Te.forEach(A,q=>Te.forEach(q.kn,X=>M.persistence.referenceDelegate.addReference(k,q.targetId,X)).next(()=>Te.forEach(q.xn,X=>M.persistence.referenceDelegate.removeReference(k,q.targetId,X)))))}catch(k){if(!bc(k))throw k;Fe("LocalStore","Failed to update sequence numbers: "+k)}for(const k of A){const q=k.targetId;if(!k.fromCache){const X=M.qn.get(q),Pe=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);M.qn=M.qn.insert(q,Pe)}}}),function(w,A){return y.apply(this,arguments)})(s.localStore,l))})).apply(this,arguments)}function qM(n,e){return AT.apply(this,arguments)}function AT(){return(AT=(0,_e.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const s=yield ZI(t.localStore,e);t.currentUser=e,(a=t).jo.forEach(f=>{f.forEach(y=>{y.reject(new Me(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.jo.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Nc(t,s.Gn)}var a})).apply(this,arguments)}function ZM(n,e){const t=He(n),s=t.Uo.get(e);if(s&&s.$o)return bn().add(s.key);{let a=bn();const l=t.Fo.get(e);if(!l)return a;for(const f of l){const y=t.Mo.get(f);a=a.unionWith(y.view.bo)}return a}}function GM(n,e){return ST.apply(this,arguments)}function ST(){return(ST=(0,_e.Z)(function*(n,e){const t=He(n),s=yield Z_(t.localStore,e.query,!0),a=e.view.ko(s);return t.isPrimaryClient&&IT(t,e.targetId,a.Co),a})).apply(this,arguments)}function WM(n){return xT.apply(this,arguments)}function xT(){return(xT=(0,_e.Z)(function*(n){const e=He(n);return G_(e.localStore).then(t=>Nc(e,t))})).apply(this,arguments)}function zM(n,e,t,s){return RT.apply(this,arguments)}function RT(){return(RT=(0,_e.Z)(function*(n,e,t,s){const a=He(n),l=yield function(f,y){const w=He(f),A=He(w.An);return w.persistence.runTransaction("Lookup mutation documents","readonly",M=>A.Zt(M,y).next(k=>k?w.Wn.vn(M,k):Te.resolve(null)))}(a.localStore,e);var y;null!==l?("pending"===t?yield Rc(a.remoteStore):"acknowledged"===t||"rejected"===t?(NE(a,e,s||null),ME(a,e),y=e,He(He(a.localStore).An).ee(y)):nt(),yield Nc(a,l)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function MT(){return(MT=(0,_e.Z)(function*(n,e){const t=He(n);if(kE(t),kT(t),!0===e&&!0!==t.Wo){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield NT(t,s.toArray());t.Wo=!0,yield iy(t.remoteStore,!0);for(const l of a)X_(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const s=[];let a=Promise.resolve();t.Fo.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?s.push(f):a=a.then(()=>(Xl(t,f),Wh(t.localStore,f,!0))),ag(t.remoteStore,f)}),yield a,yield NT(t,s),function(l){const f=He(l);f.Uo.forEach((y,w)=>{ag(f.remoteStore,w)}),f.qo.hs(),f.Uo=new Map,f.Bo=new cr(tt.comparator)}(t),t.Wo=!1,yield iy(t.remoteStore,!1)}})).apply(this,arguments)}function NT(n,e,t){return OE.apply(this,arguments)}function OE(){return(OE=(0,_e.Z)(function*(n,e,t){const s=He(n),a=[],l=[];for(const f of e){let y;const w=s.Fo.get(f);if(w&&0!==w.length){y=yield Gh(s.localStore,ds(w[0]));for(const A of w){const M=s.Mo.get(A),k=yield GM(s,M);k.snapshot&&l.push(k.snapshot)}}else{const A=yield aE(s.localStore,f);y=yield Gh(s.localStore,A),yield DE(s,OT(A),f,!1)}a.push(y)}return s.Oo.br(l),a})).apply(this,arguments)}function OT(n){return YC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YM(n){const e=He(n);return He(He(e.localStore).persistence).Tn()}function QM(n,e,t,s){return PT.apply(this,arguments)}function PT(){return(PT=(0,_e.Z)(function*(n,e,t,s){const a=He(n);if(a.Wo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield G_(a.localStore),f=Hp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nc(a,l,f);break}case"rejected":yield Wh(a.localStore,e,!0),Xl(a,e,s);break;default:nt()}})).apply(this,arguments)}function Nx(n,e,t){return PE.apply(this,arguments)}function PE(){return(PE=(0,_e.Z)(function*(n,e,t){const s=kE(n);if(s.Wo){for(const a of e){if(s.Fo.has(a)){Fe("SyncEngine","Adding an already active target "+a);continue}const l=yield aE(s.localStore,a),f=yield Gh(s.localStore,l);yield DE(s,OT(l),f.targetId,!1),X_(s.remoteStore,f)}for(const a of t)s.Fo.has(a)&&(yield Wh(s.localStore,a,!1).then(()=>{ag(s.remoteStore,a),Xl(s,a)}).catch(zl))}})).apply(this,arguments)}function kE(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xx.bind(null,e),e.Oo.br=Tx.bind(null,e.eventManager),e.Oo.zo=Dx.bind(null,e.eventManager),e}function kT(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wT.bind(null,e),e}class Ox{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.k=sg(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return qI(this.persistence,new $I,e.initialUser,this.k)}Yo(e){return new KI(YI.ks,this.k)}Jo(e){return new Q_}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Px extends Ox{constructor(e,t,s){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,_e.Z)(function*(){yield t().call(s,e),yield function(n){return Ac.apply(this,arguments)}(s.localStore),yield s.tc.initialize(s,e),yield kT(s.tc.syncEngine),yield Rc(s.tc.remoteStore),yield s.persistence.sn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Zo(e){return qI(this.persistence,new $I,e.initialUser,this.k)}Xo(e){return new LI(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=rE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?fs.withCacheSize(this.cacheSizeBytes):fs.DEFAULT;return new Kl(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,tT(),J_(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Q_}}class kx extends Px{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,_e.Z)(function*(){yield t().call(s,e);const a=s.tc.syncEngine;s.sharedClientState instanceof cE&&(s.sharedClientState.syncEngine={mi:zM.bind(null,a),gi:QM.bind(null,a),yi:Nx.bind(null,a),Tn:YM.bind(null,a),_i:WM.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.sn(function(){var l=(0,_e.Z)(function*(f){yield function(n,e){return MT.apply(this,arguments)}(s.tc.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}Jo(e){const t=tT();if(!cE.Pt(t))throw new Me(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=rE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cE(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class FT{initialize(e,t){var s=this;return(0,_e.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>ET(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,s.syncEngine),yield iy(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dg}createDatastore(e){const t=sg(e.databaseInfo.databaseId),s=new bx(e.databaseInfo);return new iT(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=y=>ET(this.syncEngine,y,0),f=lE.Pt()?new lE:new eT,new oT(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,y,w,A){const M=new Sx(s,a,l,f,y,w);return A&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const s=He(t);Fe("RemoteStore","RemoteStore shutting down."),s.Gr.add(5),yield Yh(s),s.Hr.shutdown(),s.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function LT(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Xh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ef{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Ur,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(s=>{s&&s._o()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.oc();if(null===t)return null;const s=e.ic.decode(t),a=Number(s);isNaN(a)&&e.cc(`length string (${s}) is not valid number`);const l=yield e.ac(a);return new mT(JSON.parse(l),t.length+a)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,_e.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ac(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const s=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.sc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class VT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,_e.Z)(function*(l,f){const y=He(l),w=Wp(y.k)+"/documents",A={documents:f.map(X=>Gp(y.k,X))},M=yield y.ji("BatchGetDocuments",w,A),k=new Map;M.forEach(X=>{const fe=function(n,e){return"found"in e?function(t,s){gt(!!s.found);const a=Ia(t,s.found.name),l=di(s.found.updateTime),f=new xi({mapValue:{fields:s.found.fields}});return er.newFoundDocument(a,l,f)}(n,e):"missing"in e?function(t,s){gt(!!s.missing),gt(!!s.readTime);const a=Ia(t,s.missing),l=di(s.readTime);return er.newNoDocument(a,l)}(n,e):nt()}(y.k,X);k.set(fe.key.toString(),fe)});const q=[];return f.forEach(X=>{const fe=k.get(X.toString());gt(!!fe),q.push(fe)}),q}),function(l,f){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ca(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const l=tt.fromPath(a);e.mutations.push(new Ub(l,e.precondition(l)))}),yield(s=(0,_e.Z)(function*(a,l){const f=He(a),y=Wp(f.k)+"/documents",w={writes:l.map(A=>L_(f.k,A))};yield f.Bi("Commit",y,w)}),function(a,l){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=bt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Me(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Mr.updateTime(t):Mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Me(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mr.updateTime(t)}return Mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Fx{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.lc=5,this.ur=new dE(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,_e.Z)(function*(){const t=new VT(e.datastore),s=e.dc(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.wc(l)}))}).catch(a=>{e.wc(a)})}))}dc(e){try{const t=this.updateFunction(e);return!Nl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bb(t)}return!1}}class Lx{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=ci.UNAUTHENTICATED,this.clientId=SS.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,_e.Z)(function*(y){Fe("FirestoreClient","Received user=",y.uid),yield l.authCredentialListener(y),l.user=y});return function(y){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Or(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function fy(n,e){return py.apply(this,arguments)}function py(){return(py=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(l){s.isEqual(l)||(yield ZI(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function FE(n,e){return gy.apply(this,arguments)}function gy(){return(gy=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield UT(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>{return(l=(0,_e.Z)(function*(f,y){const w=He(f);w.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const A=xc(w);w.Gr.add(3),yield Yh(w),A&&w.Jr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(y),w.Gr.delete(3),yield Kh(w)}),function(f,y){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function UT(n){return my.apply(this,arguments)}function my(){return(my=(0,_e.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield fy(n,new Ox)),n.offlineComponents})).apply(this,arguments)}function ed(n){return _y.apply(this,arguments)}function _y(){return(_y=(0,_e.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield FE(n,new FT)),n.onlineComponents})).apply(this,arguments)}function Vx(n){return UT(n).then(e=>e.persistence)}function BT(n){return UT(n).then(e=>e.localStore)}function Ux(n){return ed(n).then(e=>e.remoteStore)}function LE(n){return ed(n).then(e=>e.syncEngine)}function mg(n){return tf.apply(this,arguments)}function tf(){return(tf=(0,_e.Z)(function*(n){const e=yield ed(n),t=e.eventManager;return t.onListen=TE.bind(null,e.syncEngine),t.onUnlisten=vT.bind(null,e.syncEngine),t})).apply(this,arguments)}function yy(n,e,t={}){const s=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,f,y,w){const A=new Xh({next:k=>{l.enqueueAndForget(()=>EE(a,M));const q=k.docs.has(f);!q&&k.fromCache?w.reject(new Me(he.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&k.fromCache&&y&&"server"===y.source?w.reject(new Me(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(k)},error:k=>w.reject(k)}),M=new oy(gc(f.path),A,{includeMetadataChanges:!0,wo:!0});return bE(a,M)}(yield mg(n),n.asyncQueue,e,t,s)})),s.promise}function $x(n,e,t={}){const s=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,f,y,w){const A=new Xh({next:k=>{l.enqueueAndForget(()=>EE(a,M)),k.fromCache&&"server"===y.source?w.reject(new Me(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(k)},error:k=>w.reject(k)}),M=new oy(f,A,{includeMetadataChanges:!0,wo:!0});return bE(a,M)}(yield mg(n),n.asyncQueue,e,t,s)})),s.promise}class qx{constructor(e,t,s,a,l,f,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=y,this.useFetchStreams=w}}class _g{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _g&&e.projectId===this.projectId&&e.database===this.database}}const Zx=new Map;function VE(n,e,t){if(!t)throw new Me(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nf(n,e,t,s){if(!0===e&&!0===s)throw new Me(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $T(n){if(!tt.isDocumentKey(n))throw new Me(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HT(n){if(tt.isDocumentKey(n))throw new Me(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vy(n);throw new Me(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qT(n,e){if(e<=0)throw new Me(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ps{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yg{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ps({}),this._settingsFrozen=!1,e instanceof _g?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Me(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _g(a.options.projectId)}(e))}get app(){if(!this._app)throw new Me(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ps(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new UC;switch(t.type){case"gapi":const s=t.client;return gt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Mh(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zx.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),Zx.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Oi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class po extends Oi{constructor(e,t,s){super(e,t,gc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new tt(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function BE(n,e,...t){if(n=(0,yt.m9)(n),VE("collection","path",e),n instanceof yg){const s=ln.fromString(e,...t);return HT(s),new po(n,null,s)}{if(!(n instanceof $n||n instanceof po))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ln.fromString(e,...t));return HT(s),new po(n.firestore,null,s)}}function by(n,e,...t){if(n=(0,yt.m9)(n),1===arguments.length&&(e=SS.A()),VE("doc","path",e),n instanceof yg){const s=ln.fromString(e,...t);return $T(s),new $n(n,null,new tt(s))}{if(!(n instanceof $n||n instanceof po))throw new Me(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(ln.fromString(e,...t));return $T(s),new $n(n.firestore,n instanceof po?n.converter:null,new tt(s))}}function jE(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),(n instanceof $n||n instanceof po)&&(e instanceof $n||e instanceof po)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $E(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),n instanceof Oi&&e instanceof Oi&&n.firestore===e.firestore&&Uh(n._query,e._query)&&n.converter===e.converter}class Gx{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new dE(this,"async_queue_retry"),this.bc=()=>{const t=J_();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=J_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=J_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Ur;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!bc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(s=>{throw this.Ec=s,this.Ic=!1,Sr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Ic=!1,s))));return this.mc=t,t}enqueueAfterDelay(e,t,s){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const a=pT.createAndSchedule(this,e,t,s,l=>this.Sc(l));return this.Tc.push(a),a}Pc(){this.Ec&&nt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function HE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class qE{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends yg{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new Gx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||zT(this),this._firestoreClient.terminate()}}function mn(n){return n._firestoreClient||zT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function zT(n){var e;const t=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qx(n._databaseId,l,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var l,y;n._firestoreClient=new Lx(n._authCredentials,n._appCheckCredentials,n._queue,s)}function zx(n,e,t){const s=new Ur;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield fy(n,t),yield FE(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===he.FAILED_PRECONDITION||l.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var l})).then(()=>s.promise)}function YT(n){if(n._initialized||n._terminated)throw new Me(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Aa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fu(xr.fromBase64String(e))}catch(t){throw new Me(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fu(xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oc{constructor(e){this._methodName=e}}class vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}const Xx=/^__.*__$/;class eR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Ll(e,this.data,this.fieldMask,t,this.fieldTransforms):new wa(e,this.data,t,this.fieldTransforms)}}class ZE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ll(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rf(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class sf{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.k=s,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new sf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:s,Fc:!1});return a.Lc(e),a}Bc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Oc({path:s,Fc:!1});return a.xc(),a}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return Eg(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(rf(this.$c)&&Xx.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class QT{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=s||sg(e)}Qc(e,t,s,a=!1){return new sf({$c:e,methodName:t,jc:s,path:Br.emptyPath(),Fc:!1,Kc:a},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function td(n){const e=n._freezeSettings(),t=sg(n._databaseId);return new QT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ey(n,e,t,s,a,l={}){const f=n.Qc(l.merge||l.mergeFields?2:0,e,t,a);zE("Data must be an object, but it was:",f,s);const y=rR(s,f);let w,A;if(l.merge)w=new Oh(f.fieldMask),A=f.fieldTransforms;else if(l.mergeFields){const M=[];for(const k of l.mergeFields){const q=bg(e,k,t);if(!f.contains(q))throw new Me(he.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);KE(M,q)||M.push(q)}w=new Oh(M),A=f.fieldTransforms.filter(k=>w.covers(k.field))}else w=null,A=f.fieldTransforms;return new eR(new xi(y),w,A)}class wy extends Oc{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wy}}function tR(n,e,t){return new sf({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class JT extends Oc{_toFieldTransform(e){return new Bp(e.path,new Pl)}isEqual(e){return e instanceof JT}}class XT extends Oc{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=tR(this,e,!0),s=this.Wc.map(l=>Pc(l,t)),a=new kl(s);return new Bp(e.path,a)}isEqual(e){return this===e}}class eD extends Oc{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=tR(this,e,!0),s=this.Wc.map(l=>Pc(l,t)),a=new Fl(s);return new Bp(e.path,a)}isEqual(e){return this===e}}class nR extends Oc{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new mc(e.k,nI(e.k,this.Gc));return new Bp(e.path,t)}isEqual(e){return this===e}}function GE(n,e,t,s){const a=n.Qc(1,e,t);zE("Data must be an object, but it was:",a,s);const l=[],f=xi.empty();ya(s,(w,A)=>{const M=nD(e,w,t);A=(0,yt.m9)(A);const k=a.Bc(M);if(A instanceof wy)l.push(M);else{const q=Pc(A,k);null!=q&&(l.push(M),f.set(M,q))}});const y=new Oh(l);return new ZE(f,y,a.fieldTransforms)}function WE(n,e,t,s,a,l){const f=n.Qc(1,e,t),y=[bg(e,s,t)],w=[a];if(l.length%2!=0)throw new Me(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<l.length;q+=2)y.push(bg(e,l[q])),w.push(l[q+1]);const A=[],M=xi.empty();for(let q=y.length-1;q>=0;--q)if(!KE(A,y[q])){const X=y[q];let fe=w[q];fe=(0,yt.m9)(fe);const Pe=f.Bc(X);if(fe instanceof wy)A.push(X);else{const Ue=Pc(fe,Pe);null!=Ue&&(A.push(X),M.set(X,Ue))}}const k=new Oh(A);return new ZE(M,k,f.fieldTransforms)}function tD(n,e,t,s=!1){return Pc(t,n.Qc(s?4:3,e))}function Pc(n,e){if(iR(n=(0,yt.m9)(n)))return zE("Unsupported field value:",e,n),rR(n,e);if(n instanceof Oc)return function(t,s){if(!rf(s.$c))throw s.qc(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let y=Pc(f,s.Uc(l));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nI(s.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Qr.fromDate(t);return{timestampValue:du(s.k,a)}}if(t instanceof Qr){const a=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:du(s.k,a)}}if(t instanceof vg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof fu)return{bytesValue:mI(s.k,t._byteString)};if(t instanceof $n){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zb(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.qc(`Unsupported field value: ${vy(t)}`)}(n,e)}function rR(n,e){const t={};return Rp(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(s,a)=>{const l=Pc(a,e.Mc(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function iR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qr||n instanceof vg||n instanceof fu||n instanceof $n||n instanceof Oc)}function zE(n,e,t){if(!iR(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=vy(t);throw e.qc("an object"===s?n+" a custom object":n+" "+s)}var s}function bg(n,e,t){if((e=(0,yt.m9)(e))instanceof Aa)return e._internalPath;if("string"==typeof e)return nD(n,e);throw Eg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Jr=new RegExp("[~\\*/\\[\\]]");function nD(n,e,t){if(e.search(Jr)>=0)throw Eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Aa(...e.split("."))._internalPath}catch(s){throw Eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Eg(n,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(l||f)&&(w+=" (found",l&&(w+=` in field ${s}`),f&&(w+=` in document ${a}`),w+=")"),new Me(he.INVALID_ARGUMENT,y+n+w)}function KE(n,e){return n.some(t=>t.isEqual(e))}class wg{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cy extends wg{data(){return super.data()}}function Iy(n,e){return"string"==typeof e?nD(n,e):e instanceof Aa?e._internalPath:e._delegate._internalPath}class nd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sa extends wg{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class zo extends Sa{data(e={}){return super.data(e)}}class pu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nd(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new zo(this._firestore,this._userDataWriter,s.key,s,new nd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new zo(s._firestore,s._userDataWriter,f.doc.key,f.doc,new nd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const y=new zo(s._firestore,s._userDataWriter,f.doc.key,f.doc,new nd(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,A=-1;return 0!==f.type&&(w=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),A=l.indexOf(f.doc.key)),{type:YE(f.type),doc:y,oldIndex:w,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function Ty(n,e){return n instanceof Sa&&e instanceof Sa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pu&&e instanceof pu&&n._firestore===e._firestore&&$E(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function rD(n){if(Lp(n)&&0===n.explicitOrderBy.length)throw new Me(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kc{}function Fc(n,...e){for(const t of e)n=t._apply(n);return n}class QE extends kc{constructor(e,t,s){super(),this.zc=e,this.Hc=t,this.Jc=s,this.type="where"}_apply(e){const t=td(e.firestore),s=function(a,l,f,y,w,A,M){let k;if(w.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){uD(M,A);const X=[];for(const fe of M)X.push(aD(y,a,fe));k={arrayValue:{values:X}}}else k=aD(y,a,M)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||uD(M,A),k=tD(f,"where",M,"in"===A||"not-in"===A);const q=Ri.create(w,A,k);return function(X,fe){if(fe.V()){const Ue=Pb(X);if(null!==Ue&&!Ue.isEqual(fe.field))throw new Me(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ue.toString()}' and '${fe.field.toString()}'`);const Mt=D_(X);null!==Mt&&cD(0,fe.field,Mt)}const Pe=function(Ue,Mt){for(const xt of Ue.filters)if(Mt.indexOf(xt.op)>=0)return xt.op;return null}(X,function(Ue){switch(Ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(fe.op));if(null!==Pe)throw new Me(he.INVALID_ARGUMENT,Pe===fe.op?`Invalid query. You cannot use more than one '${fe.op.toString()}' filter.`:`Invalid query. You cannot use '${fe.op.toString()}' filters with '${Pe.toString()}' filters.`)}(a,q),q}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Oi(e.firestore,e.converter,function(a,l){const f=a.filters.concat([l]);return new Ea(a.path,a.collectionGroup,a.explicitOrderBy.slice(),f,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class Xr extends kc{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Me(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Ol(a,l);return function(y,w){if(null===D_(y)){const A=Pb(y);null!==A&&cD(0,A,w.field)}}(s,f),f}(e._query,this.zc,this.Yc);return new Oi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Ea(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class sD extends kc{constructor(e,t,s){super(),this.type=e,this.Xc=t,this.Zc=s}_apply(e){return new Oi(e.firestore,e.converter,QC(e._query,this.Xc,this.Zc))}}class Cg extends kc{constructor(e,t,s){super(),this.type=e,this.ta=t,this.ea=s}_apply(e){const t=oD(e,this.type,this.ta,this.ea);return new Oi(e.firestore,e.converter,(a=t,new Ea((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class aR extends kc{constructor(e,t,s){super(),this.type=e,this.ta=t,this.ea=s}_apply(e){const t=oD(e,this.type,this.ta,this.ea);return new Oi(e.firestore,e.converter,(a=t,new Ea((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function oD(n,e,t,s){if(t[0]=(0,yt.m9)(t[0]),t[0]instanceof wg)return function(a,l,f,y,w){if(!y)throw new Me(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const A=[];for(const M of Vh(a))if(M.field.isKeyField())A.push(y_(l,y.key));else{const k=y.data.field(M.field);if(xb(k))throw new Me(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const q=M.field.canonicalString();throw new Me(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}A.push(k)}return new ba(A,w)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=td(n.firestore);return function(l,f,y,w,A,M){const k=l.explicitOrderBy;if(A.length>k.length)throw new Me(he.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let X=0;X<A.length;X++){const fe=A[X];if(k[X].field.isKeyField()){if("string"!=typeof fe)throw new Me(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof fe}`);if(!kb(l)&&-1!==fe.indexOf("/"))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${fe}' contains a slash.`);const Pe=l.path.child(ln.fromString(fe));if(!tt.isDocumentKey(Pe))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Pe}' is not because it contains an odd number of segments.`);const Ue=new tt(Pe);q.push(y_(f,Ue))}else{const Pe=tD(y,w,fe);q.push(Pe)}}return new ba(q,M)}(n._query,n.firestore._databaseId,a,e,t,s)}}function aD(n,e,t){if("string"==typeof(t=(0,yt.m9)(t))){if(""===t)throw new Me(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kb(e)&&-1!==t.indexOf("/"))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ln.fromString(t));if(!tt.isDocumentKey(s))throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return y_(n,new tt(s))}if(t instanceof $n)return y_(n,t._key);throw new Me(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vy(t)}.`)}function uD(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function cD(n,e,t){if(!t.isEqual(e))throw new Me(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class lD{convertValue(e,t="none"){switch(pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ph(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const s={};return ya(e.fields,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new vg(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=kh(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ln.fromString(e);gt(TI(s));const a=new _g(s.get(1),s.get(3)),l=new tt(s.popFirst(5));return a.isEqual(t)||Sr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Dy(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class cR extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class dD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=td(e)}set(e,t,s){this._verifyNotCommitted();const a=rd(e,this._firestore),l=Dy(a.converter,t,s),f=Ey(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,s);return this._mutations.push(f.toMutation(a._key,Mr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=rd(e,this._firestore);let f;return f="string"==typeof(t=(0,yt.m9)(t))||t instanceof Aa?WE(this._dataReader,"WriteBatch.update",l._key,t,s,a):GE(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,Mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rd(e,this._firestore);return this._mutations=this._mutations.concat(new Ca(t._key,Mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rd(n,e){if((n=(0,yt.m9)(n)).firestore!==e)throw new Me(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class id extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function hD(n,e,t){n=zt(n,$n);const s=zt(n.firestore,qn),a=Dy(n.converter,e,t);return af(s,[Ey(td(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Mr.none())])}function fD(n,e,t,...s){n=zt(n,$n);const a=zt(n.firestore,qn),l=td(a);let f;return f="string"==typeof(e=(0,yt.m9)(e))||e instanceof Aa?WE(l,"updateDoc",n._key,e,t,s):GE(l,"updateDoc",n._key,e),af(a,[f.toMutation(n._key,Mr.exists(!0))])}function mR(n,...e){var t,s,a;n=(0,yt.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||HE(e[f])||(l=e[f],f++);const y={includeMetadataChanges:l.includeMetadataChanges};if(HE(e[f])){const k=e[f];e[f]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[f+1]=null===(s=k.error)||void 0===s?void 0:s.bind(k),e[f+2]=null===(a=k.complete)||void 0===a?void 0:a.bind(k)}let w,A,M;if(n instanceof $n)A=zt(n.firestore,qn),M=gc(n._key.path),w={next:k=>{e[f]&&e[f](JE(A,n,k))},error:e[f+1],complete:e[f+2]};else{const k=zt(n,Oi);A=zt(k.firestore,qn),M=k._query;const q=new id(A);w={next:X=>{e[f]&&e[f](new pu(A,q,k,X))},error:e[f+1],complete:e[f+2]},rD(n._query)}return function(k,q,X,fe){const Pe=new Xh(fe),Ue=new oy(q,Pe,X);return k.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return bE(yield mg(k),Ue)})),()=>{Pe.nc(),k.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return EE(yield mg(k),Ue)}))}}(mn(A),M,y,w)}function af(n,e){return function(t,s){const a=new Ur;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e,t){return SE.apply(this,arguments)}(yield LE(t),s,a)})),a.promise}(mn(n),e)}function JE(n,e,t){const s=t.docs.get(e._key),a=new id(n);return new Sa(n,a,e._key,s,new nd(t.hasPendingWrites,t.fromCache),e.converter)}class Ig extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=td(e)}get(e){const t=rd(e,this._firestore),s=new cR(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return nt();const l=a[0];if(l.isFoundDocument())return new wg(this._firestore,s,l.key,l,t.converter);if(l.isNoDocument())return new wg(this._firestore,s,t._key,null,t.converter);throw nt()})}set(e,t,s){const a=rd(e,this._firestore),l=Dy(a.converter,t,s),f=Ey(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,s);return this._transaction.set(a._key,f),this}update(e,t,s,...a){const l=rd(e,this._firestore);let f;return f="string"==typeof(t=(0,yt.m9)(t))||t instanceof Aa?WE(this._dataReader,"Transaction.update",l._key,t,s,a):GE(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=rd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rd(e,this._firestore),s=new id(this._firestore);return super.get(e).then(a=>new Sa(this._firestore,s,t._key,a._document,new nd(!1,!1),t.converter))}}function XE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ER(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function mD(){if("undefined"==typeof atob)throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){xh=Uo.SDK_VERSION,(0,Uo._registerComponent)(new sh.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),l=new qn(a,new TS(t.getProvider("auth-internal")),new Sb(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC")),(0,Uo.registerVersion)(LC,"3.4.3",n),(0,Uo.registerVersion)(LC,"3.4.3","esm2017")}();class Tg{constructor(e){this._delegate=e}static fromBase64String(e){return mD(),new Tg(fu.fromBase64String(e))}static fromUint8Array(e){return ER(),new Tg(fu.fromUint8Array(e))}toBase64(){return mD(),this._delegate.toBase64()}toUint8Array(){return ER(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ew(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of["next","error","complete"])if(s in t&&"function"==typeof t[s])return!0;return!1}(n)}class _1{enableIndexedDbPersistence(e,t){return function(n,e){YT(n=zt(n,qn));const t=mn(n),s=n._freezeSettings(),a=new FT;return zx(t,a,new Px(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){YT(n=zt(n,qn));const e=mn(n),t=n._freezeSettings(),s=new FT;return zx(e,s,new kx(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Me(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ur;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(s){if(!br.Pt())return Promise.resolve();const a=s+"main";yield br.delete(a)}),function(s){return t.apply(this,arguments)})(rE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class tw{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof _g||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function(n,e,t,s={}){var a;const l=(n=zt(n,yg))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,y;if("string"==typeof s.mockUserToken)f=s.mockUserToken,y=ci.MOCK_USER;else{f=(0,yt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Me(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ci(w)}n._authCredentials=new Ml(new m_(f,y))}}(this._delegate,e,t,s)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Vx(n),t=yield Ux(n);return e.setNetworkEnabled(!0),function(s){const a=He(s);return a.Gr.delete(0),Kh(a)}(t)}))}(mn(n=zt(n,qn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Vx(n),t=yield Ux(n);return e.setNetworkEnabled(!1),(s=(0,_e.Z)(function*(a){const l=He(a);l.Gr.add(0),yield Yh(l),l.Jr.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(mn(n=zt(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,nf("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Ur;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,e){return RE.apply(this,arguments)}(yield LE(e),t)})),t.promise}(mn(n=zt(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Xh(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return s=yield mg(n),a=t,He(s).io.add(a),void a.next();var s,a})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return s=yield mg(n),a=t,void He(s).io.delete(a);var s,a}))}}(mn(n=zt(n,qn)),HE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new lf(this,BE(this._delegate,e))}catch(t){throw fi(t,"collection()","Firestore.collection()")}}doc(e){try{return new gs(this,by(this._delegate,e))}catch(t){throw fi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qi(this,function(n,e){if(n=zt(n,yg),VE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(n,null,(t=e,new Ea(ln.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const s=yield(a=n,ed(a).then(l=>l.datastore));var a;new Fx(n.asyncQueue,s,e,t).run()})),t.promise}(mn(n=zt(n,qn)),t=>e(new Ig(n,t)))}(this._delegate,t=>e(new nw(this,t)))}batch(){return mn(this._delegate),new rw(new dD(this._delegate,e=>af(this._delegate,e)))}loadBundle(e){return function(n,e){const t=mn(n=zt(n,qn)),s=new qE;return function(n,e,t,s){const a=function(l,f){let y;return y="string"==typeof l?(new TextEncoder).encode(l):l,w=function(w,A){if(w instanceof Uint8Array)return LT(w,A);if(w instanceof ArrayBuffer)return LT(new Uint8Array(w),A);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new ef(w,f);var w}(t,sg(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,e,t){const s=He(n);var a;(a=(0,_e.Z)(function*(l,f,y){try{const w=yield f.getMetadata();if(yield function(q,X){const fe=He(q),Pe=di(X.createTime);return fe.persistence.runTransaction("hasNewerBundle","readonly",Ue=>fe.Ye.getBundleMetadata(Ue,X.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Pe)>=0)}(l.localStore,w))return yield f.close(),void y._completeWith((q=w,{taskState:"Success",documentsLoaded:q.totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}));y._updateProgress(Ax(w));const A=new wE(w,l.localStore,f.k);let M=yield f.Ho();for(;M;){const q=yield A.yo(M);q&&y._updateProgress(q),M=yield f.Ho()}const k=yield A.complete();yield Nc(l,k.In,void 0),yield function(q,X){const fe=He(q);return fe.persistence.runTransaction("Save bundle","readwrite",Pe=>fe.Ye.saveBundleMetadata(Pe,X))}(l.localStore,w),y._completeWith(k.progress)}catch(w){Rh("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w)}var q}),function(l,f,y){return a.apply(this,arguments)})(s,e,t).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield LE(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,s){const a=He(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Ye.getNamedQuery(l,s))}(yield BT(n),e)}))}(mn(n=zt(n,qn)),e).then(t=>t?new Oi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qi(this,t):null)}}class Ay extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tg(new fu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gs.forKey(t,this.firestore,null)}}class nw{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ay(e)}get(e){const t=sd(e);return this._delegate.get(t).then(s=>new uf(this._firestore,new Sa(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=sd(e);return s?(XE("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=sd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=sd(e);return this._delegate.delete(t),this}}class rw{constructor(e){this._delegate=e}set(e,t,s){const a=sd(e);return s?(XE("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const l=sd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,s,...a),this}delete(e){const t=sd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class gu{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new zo(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cf(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=gu.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let l=a.get(t);return l||(l=new gu(e,new Ay(e),t),a.set(t,l)),l}}gu.INSTANCES=new WeakMap;class gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ay(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gs(t,new $n(t._delegate,s,new tt(e)))}static forKey(e,t,s){return new gs(t,new $n(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new lf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new lf(this.firestore,BE(this._delegate,e))}catch(t){throw fi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yt.m9)(e))instanceof $n&&jE(this._delegate,e)}set(e,t){t=XE("DocumentReference.set",t);try{return t?hD(this._delegate,e,t):hD(this._delegate,e)}catch(s){throw fi(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?fD(this._delegate,e):fD(this._delegate,e,t,...s)}catch(a){throw fi(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return af(zt(n.firestore,qn),[new Ca(n._key,Mr.none())])}(this._delegate)}onSnapshot(...e){const t=Dg(e),s=Ag(e,a=>new uf(this.firestore,new Sa(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return mR(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=zt(n,$n);const e=zt(n.firestore,qn),t=mn(e),s=new id(e);return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(s=(0,_e.Z)(function*(a,l,f){try{const y=yield function(w,A){const M=He(w);return M.persistence.runTransaction("read document","readonly",k=>M.Wn.Rn(k,A))}(a,l);y.isFoundDocument()?f.resolve(y):y.isNoDocument()?f.resolve(null):f.reject(new Me(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=Or(y,`Failed to get document '${l} from cache`);f.reject(w)}}),function(a,l,f){return s.apply(this,arguments)})(yield BT(n),e,t);var s})),t.promise}(t,n._key).then(a=>new Sa(e,s,n._key,a,new nd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=zt(n,$n);const e=zt(n.firestore,qn);return yy(mn(e),n._key,{source:"server"}).then(t=>JE(e,n,t))}(this._delegate):function(n){n=zt(n,$n);const e=zt(n.firestore,qn);return yy(mn(e),n._key).then(t=>JE(e,n,t))}(this._delegate),t.then(s=>new uf(this.firestore,new Sa(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new gs(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function fi(n,e,t){return n.message=n.message.replace(e,t),n}function Dg(n){for(const e of n)if("object"==typeof e&&!ew(e))return e;return{}}function Ag(n,e){var t,s;let a;return a=ew(n[0])?n[0]:ew(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class uf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ty(this._delegate,e._delegate)}}class cf extends uf{data(e){const t=this._delegate.data(e);return function(n,e){n||nt()}(void 0!==t),t}}class qi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ay(e)}where(e,t,s){try{return new qi(this.firestore,Fc(this._delegate,function(n,e,t){const s=e,a=Iy("where",n);return new QE(a,s,t)}(e,t,s)))}catch(a){throw fi(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qi(this.firestore,Fc(this._delegate,function(n,e="asc"){const t=e,s=Iy("orderBy",n);return new Xr(s,t)}(e,t)))}catch(s){throw fi(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qi(this.firestore,Fc(this._delegate,function(n){return qT("limit",n),new sD("limit",n,"F")}(e)))}catch(t){throw fi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qi(this.firestore,Fc(this._delegate,function(n){return qT("limitToLast",n),new sD("limitToLast",n,"L")}(e)))}catch(t){throw fi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qi(this.firestore,Fc(this._delegate,function(...n){return new Cg("startAt",n,!0)}(...e)))}catch(t){throw fi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qi(this.firestore,Fc(this._delegate,function(...n){return new Cg("startAfter",n,!1)}(...e)))}catch(t){throw fi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qi(this.firestore,Fc(this._delegate,function(...n){return new aR("endBefore",n,!0)}(...e)))}catch(t){throw fi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qi(this.firestore,Fc(this._delegate,function(...n){return new aR("endAt",n,!1)}(...e)))}catch(t){throw fi(t,"endAt()","Query.endAt()")}}isEqual(e){return $E(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=zt(n,Oi);const e=zt(n.firestore,qn),t=mn(e),s=new id(e);return function(n,e){const t=new Ur;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(s=(0,_e.Z)(function*(a,l,f){try{const y=yield Z_(a,l,!0),w=new IE(l,y.zn),A=w.Po(y.documents),M=w.applyChanges(A,!1);f.resolve(M.snapshot)}catch(y){const w=Or(y,`Failed to execute query '${l} against cache`);f.reject(w)}}),function(a,l,f){return s.apply(this,arguments)})(yield BT(n),e,t);var s})),t.promise}(t,n._query).then(a=>new pu(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=zt(n,Oi);const e=zt(n.firestore,qn),t=mn(e),s=new id(e);return $x(t,n._query,{source:"server"}).then(a=>new pu(e,s,n,a))}(this._delegate):function(n){n=zt(n,Oi);const e=zt(n.firestore,qn),t=mn(e),s=new id(e);return rD(n._query),$x(t,n._query).then(a=>new pu(e,s,n,a))}(this._delegate),t.then(s=>new Sy(this.firestore,new pu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Dg(e),s=Ag(e,a=>new Sy(this.firestore,new pu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return mR(this._delegate,t,s)}withConverter(e){return new qi(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}class wR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sy{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new cf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new wR(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new cf(this._firestore,s))})}isEqual(e){return Ty(this._delegate,e._delegate)}}class lf extends qi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gs(this.firestore,e):null}doc(e){try{return new gs(this.firestore,void 0===e?by(this._delegate):by(this._delegate,e))}catch(t){throw fi(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=zt(n.firestore,qn),s=by(n),a=Dy(n.converter,e);return af(t,[Ey(td(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,Mr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new gs(this.firestore,t))}isEqual(e){return jE(this._delegate,e._delegate)}withConverter(e){return new lf(this.firestore,this._delegate.withConverter(e?gu.getInstance(this.firestore,e):null))}}function sd(n){return zt(n,$n)}class iw{constructor(...e){this._delegate=new Aa(...e)}static documentId(){return new iw(Br.keyField().canonicalString())}isEqual(e){return(e=(0,yt.m9)(e))instanceof Aa&&this._delegate._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._delegate=e}static serverTimestamp(){const e=new JT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new mu(e)}static delete(){const e=new wy("deleteField");return e._methodName="FieldValue.delete",new mu(e)}static arrayUnion(...e){const t=function(...n){return new XT("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mu(t)}static arrayRemove(...e){const t=function(...n){return new eD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mu(t)}static increment(e){const t=function(n){return new nR("increment",n)}(e);return t._methodName="FieldValue.increment",new mu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const CR={Firestore:tw,GeoPoint:vg,Timestamp:Qr,Blob:Tg,Transaction:nw,WriteBatch:rw,DocumentReference:gs,DocumentSnapshot:uf,Query:qi,QueryDocumentSnapshot:cf,QuerySnapshot:Sy,CollectionReference:lf,FieldPath:iw,FieldValue:mu,setLogLevel:function(n){!function(n){fc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function sw(n,e){return function(n,e=R0.z){return new Kt.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function xg(n,e){return sw(n,e).pipe((0,pt.U)(t=>({payload:t,type:"query"})))}function Rg(n,e){return xg(n,e).pipe(Hu(void 0),Ov(),(0,pt.U)(([t,s])=>{const a=s.payload.docChanges(),l=a.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,y)=>{const w=a.find(M=>M.doc.ref.isEqual(f.ref)),A=null==t?void 0:t.payload.docs.find(M=>M.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&A&&JSON.stringify(A.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:f}})}),l}))}function Mg(n,e,t){return Rg(n,t).pipe(Mo((s,a)=>function(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ow(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ow(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ow(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(l=>l.payload),e),[]),t=>t.lift(new KA(void 0,void 0)),(0,pt.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function ow(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function yD(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new sh.wA("firestore-compat",t=>((e,t)=>new tw(e,t,new _1))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},CR)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(M0.Z);class aw{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Rg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,pt.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Hu(void 0),Ov(),is(([s,a])=>a.length>0||!s),(0,pt.U)(([s,a])=>a),yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mo((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=yD(e);return Mg(this.query,t,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return xg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),yr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(yr.iC)}add(e){return this.ref.add(e)}doc(e){return new vD(this.ref.doc(e),this.afs)}}class vD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:l}=bD(s,t);return new aw(a,l,this.afs)}snapshotChanges(){return function(n,e){return sw(n,e).pipe(Hu(void 0),Ov(),(0,pt.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,un.D)(this.ref.get(e)).pipe(yr.iC)}}class DR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Rg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),is(t=>t.length>0),yr.iC):Rg(this.query,this.afs.schedulers.outsideAngular).pipe(yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mo((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=yD(e);return Mg(this.query,t,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return xg(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),yr.iC)}get(e){return(0,un.D)(this.query.get(e)).pipe(yr.iC)}}const AR=new d.OlP("angularfire2.enableFirestorePersistence"),Lc=new d.OlP("angularfire2.firestore.persistenceSettings"),Ng=new d.OlP("angularfire2.firestore.settings"),uw=new d.OlP("angularfire2.firestore.use-emulator");function bD(n,e=(t=>t)){return{query:e(n),ref:n}}let ED=(()=>{class n{constructor(t,s,a,l,f,y,w,A,M,k,q,X,fe,Pe,Ue,Mt,xt){this.schedulers=w;const Lt=(0,ii.on)(t,y,s),lt=M;k&&x0(Lt,y,q,fe,Pe,Ue,X,Mt),[this.firestore,this.persistenceEnabled$]=(0,ii.cc)(`${Lt.name}.firestore`,"AngularFirestore",Lt.name,()=>{const Cn=y.runOutsideAngular(()=>Lt.firestore());if(l&&Cn.settings(l),lt&&Cn.useEmulator(...lt),a&&!bo(f)){const Pi=()=>{try{return(0,un.D)(Cn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(Ef){return"undefined"!=typeof console&&console.warn(Ef),(0,Xe.of)(!1)}};return[Cn,y.runOutsideAngular(Pi)]}return[Cn,(0,Xe.of)(!1)]},[l,lt,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=bD(a,s),y=this.schedulers.ngZone.run(()=>l);return new aw(y,f,this)}collectionGroup(t,s){const a=s||(f=>f),l=this.firestore.collectionGroup(t);return new DR(a(l),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new vD(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(AR,8),d.LFG(Ng,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(yr.HU),d.LFG(Lc,8),d.LFG(uw,8),d.LFG($m,8),d.LFG(Mv,8),d.LFG(D0,8),d.LFG(Nv,8),d.LFG(A0,8),d.LFG(jm,8),d.LFG(S0,8),d.LFG(Sv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class SR{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new wD(e,this.dueTime,this.scheduler))}}class wD extends Qn.L{constructor(e,t,s){super(e),this.dueTime=t,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(CD,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function CD(n){n.debouncedNext()}const ID="firebasestorage.googleapis.com",TD="storageBucket";class Ln extends yt.ZR{constructor(e,t){super(Vc(e),`Firebase Storage: ${t} (${Vc(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ln.prototype)}_codeEquals(e){return Vc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Vc(n){return"storage/"+n}function df(){return new Ln("unknown","An unknown error occurred, please check the error payload for server response.")}function lw(){return new Ln("canceled","User canceled the upload/download.")}function xD(){return new Ln("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Uc(n){return new Ln("invalid-argument",n)}function MD(){return new Ln("app-deleted","The Firebase app was deleted.")}function ND(n){return new Ln("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function My(n,e){return new Ln("invalid-format","String does not match format '"+n+"': "+e)}function Ny(n){throw new Ln("internal-error","Internal error: "+n)}class Gi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Gi.makeFromUrl(e,t)}catch(a){return new Gi(e,"")}if(""===s.path)return s;throw function(n){return new Ln("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+a+"(/(.*))?$","i");function A(lt){lt.path_=decodeURIComponent(lt.path)}const k=t.replace(/[.]/g,"\\."),Lt=[{regex:y,indices:{bucket:1,path:3},postModify:function(lt){"/"===lt.path.charAt(lt.path.length-1)&&(lt.path_=lt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${k}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:A},{regex:new RegExp(`^https?://${t===ID?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:A}];for(let lt=0;lt<Lt.length;lt++){const Cn=Lt[lt],Pi=Cn.regex.exec(e);if(Pi){let ww=Pi[Cn.indices.path];ww||(ww=""),s=new Gi(Pi[Cn.indices.bucket],ww),Cn.postModify(s);break}}if(null==s)throw function(n){return new Ln("invalid-url","Invalid URL '"+n+"'.")}(e);return s}}class v1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function hw(n){return"string"==typeof n||n instanceof String}function OD(n){return PD()&&n instanceof Blob}function PD(){return"undefined"!=typeof Blob}function kD(n,e,t,s){if(s<e)throw Uc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Uc(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bc(n,e,t){let s=e;return null==t&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function FR(n){const e=encodeURIComponent;let t="?";for(const s in n)n.hasOwnProperty(s)&&(t=t+(e(s)+"=")+e(n[s])+"&");return t=t.slice(0,-1),t}var r=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(r||(r={})),r))();class i{constructor(e,t,s,a,l,f,y,w,A,M,k){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=w,this.timeout_=A,this.progressCallback_=M,this.connectionFactory_=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((q,X)=>{this.resolve_=q,this.reject_=X,this.start_()})}start_(){const t=(s,a)=>{const l=this.resolve_,f=this.reject_,y=a.connection;if(a.wasSuccessCode)try{const w=this.callback_(y,y.getResponse());!function(n){return void 0!==n}(w)?l():l(w)}catch(w){f(w)}else if(null!==y){const w=df();w.serverResponse=y.getErrorText(),f(this.errorCallback_?this.errorCallback_(y,w):w)}else f(a.canceled?this.appDelete_?MD():lw():new Ln("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new o(!1,null,!0)):this.backoffId_=function(n,e,t){let s=1,a=null,l=null,f=!1,y=0;function w(){return 2===y}let A=!1;function M(...Ue){A||(A=!0,e.apply(null,Ue))}function k(Ue){a=setTimeout(()=>{a=null,n(X,w())},Ue)}function q(){l&&clearTimeout(l)}function X(Ue,...Mt){if(A)return void q();if(Ue)return q(),void M.call(null,Ue,...Mt);if(w()||f)return q(),void M.call(null,Ue,...Mt);let Lt;s<64&&(s*=2),1===y?(y=2,Lt=0):Lt=1e3*(s+Math.random()),k(Lt)}let fe=!1;function Pe(Ue){fe||(fe=!0,q(),!A&&(null!==a?(Ue||(y=2),clearTimeout(a),k(0)):Ue||(y=1)))}return k(0),l=setTimeout(()=>{f=!0,Pe(!0)},t),Pe}((s,a)=>{if(a)return void s(!1,new o(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const f=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(f),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(f),this.pendingConnection_=null;const y=l.getErrorCode()===r.NO_ERROR,w=l.getStatus();if(!y||this.isRetryStatusCode_(w)){const M=l.getErrorCode()===r.ABORT;return void s(!1,new o(!1,null,M))}const A=-1!==this.successCodes_.indexOf(w);s(!0,new o(A,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,a=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||a||l}}class o{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function I(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}if(PD())return new Blob(n);throw new Ln("unsupported-environment","This browser doesn't seem to support creating Blobs")}const P={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class j{constructor(e,t){this.data=e,this.contentType=t||null}}function z(n,e){switch(n){case P.RAW:return new j(ce(e));case P.BASE64:case P.BASE64URL:return new j(Oe(n,e));case P.DATA_URL:return new j(function(n){const e=new Ee(n);return e.base64?Oe(P.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw My(P.DATA_URL,"Malformed data URL.")}return ce(e)}(e.rest)}(e),function(n){return new Ee(n).contentType}(e))}throw df()}function ce(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);s<=127?e.push(s):s<=2047?e.push(192|s>>6,128|63&s):55296==(64512&s)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(s=65536|(1023&s)<<10|1023&n.charCodeAt(++t),e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):e.push(239,191,189):56320==(64512&s)?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(e)}function Oe(n,e){switch(n){case P.BASE64:{const a=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(a||l)throw My(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case P.BASE64URL:{const a=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(a||l)throw My(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(a){throw My(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class Ee{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw My(P.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;null!=s&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=e.substring(e.indexOf(",")+1)}}class wn{constructor(e,t){let s=0,a="";OD(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(OD(this.data_)){const a=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===a?null:new wn(a)}{const s=new Uint8Array(this.data_.buffer,e,t-e);return new wn(s,!0)}}static getBlob(...e){if(PD()){const t=e.map(s=>s instanceof wn?s.data_:s);return new wn(I.apply(null,t))}{const t=e.map(f=>hw(f)?z(P.RAW,f).data:f.data_);let s=0;t.forEach(f=>{s+=f.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(f=>{for(let y=0;y<f.length;y++)a[l++]=f[y]}),new wn(a,!0)}}uploadData(){return this.data_}}function ms(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function ad(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function pf(n,e){return e}class pi{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||pf}}let gf=null;function ud(){if(gf)return gf;const n=[];n.push(new pi("bucket")),n.push(new pi("generation")),n.push(new pi("metageneration")),n.push(new pi("name","fullPath",!0));const t=new pi("name");t.xform=function(l,f){return function(n){return!hw(n)||n.length<2?n:ad(n)}(f)},n.push(t);const a=new pi("size");return a.xform=function(l,f){return void 0!==f?Number(f):f},n.push(a),n.push(new pi("timeCreated")),n.push(new pi("updated")),n.push(new pi("md5Hash",null,!0)),n.push(new pi("cacheControl",null,!0)),n.push(new pi("contentDisposition",null,!0)),n.push(new pi("contentEncoding",null,!0)),n.push(new pi("contentLanguage",null,!0)),n.push(new pi("contentType",null,!0)),n.push(new pi("metadata","customMetadata",!0)),gf=n,gf}function C1(n,e,t){const s=ms(e);return null===s?null:function(n,e,t){const s={type:"file"},a=t.length;for(let l=0;l<a;l++){const f=t[l];s[f.local]=f.xform(s,e[f.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const l=new Gi(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(s,n),s}(n,s,t)}function LR(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const I1="prefixes";class jc{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $c(n){if(!n)throw df()}function FD(n,e){return function(s,a){const l=C1(n,a,e);return $c(null!==l),l}}function Oy(n){return function(t,s){let a;return a=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Ln("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ln("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Ln("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Ln("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):s,a.serverResponse=s.serverResponse,a}}function gw(n){const e=Oy(n);return function(s,a){let l=e(s,a);return 404===s.getStatus()&&(l=function(n){return new Ln("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=a.serverResponse,l}}function D1(n,e,t){const a=Bc(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new jc(a,"GET",FD(n,t),f);return y.errorHandler=gw(e),y}function oO(n,e,t,s,a){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),s&&(l.pageToken=s),a&&(l.maxResults=a);const y=Bc(e.bucketOnlyServerUrl(),n.host,n._protocol),A=n.maxOperationRetryTime,M=new jc(y,"GET",function(n,e){return function(s,a){const l=function(n,e,t){const s=ms(t);return null===s?null:function(n,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[I1])for(const a of t[I1]){const l=a.replace(/\/$/,""),f=n._makeStorageReference(new Gi(e,l));s.prefixes.push(f)}if(t.items)for(const a of t.items){const l=n._makeStorageReference(new Gi(e,a.name));s.items.push(l)}return s}(n,e,s)}(n,e,a);return $c(null!==l),l}}(n,e.bucket),A);return M.urlParams=l,M.errorHandler=Oy(e),M}function S1(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),s}class LD{constructor(e,t,s,a){this.current=e,this.total=t,this.finalized=!!s,this.metadata=a||null}}function VR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){$c(!1)}return $c(!!t&&-1!==(e||["active"]).indexOf(t)),t}const pO={STATE_CHANGED:"state_changed"},Bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UR(n){switch(n){case"running":case"pausing":case"canceling":return Bs.RUNNING;case"paused":return Bs.PAUSED;case"success":return Bs.SUCCESS;case"canceled":return Bs.CANCELED;case"error":default:return Bs.ERROR}}class gO{constructor(e,t,s){if(function(n){return"function"==typeof n}(e)||null!=t||null!=s)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=s?s:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Py(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class _O extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=r.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=r.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=r.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a){if(this.sent_)throw Ny("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==a)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ny("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ny("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ny("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ny("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function yu(){return new _O}class N1{constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=ud(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const s=function(n,e,t,s,a){const l=e.bucketOnlyServerUrl(),f=S1(e,s,a),y={name:f.fullPath},w=Bc(l,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},k=LR(f,t),fe=new jc(w,"POST",function(Pe){let Ue;VR(Pe);try{Ue=Pe.getResponseHeader("X-Goog-Upload-URL")}catch(Mt){$c(!1)}return $c(hw(Ue)),Ue},n.maxUploadRetryTime);return fe.urlParams=y,fe.headers=M,fe.body=k,fe.errorHandler=Oy(e),fe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,yu,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const a=function(n,e,t,s){const w=new jc(t,"POST",function(A){const M=VR(A,["active","final"]);let k=null;try{k=A.getResponseHeader("X-Goog-Upload-Size-Received")}catch(X){$c(!1)}k||$c(!1);const q=Number(k);return $c(!isNaN(q)),new LD(q,s.size(),"final"===M)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Oy(e),w}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,yu,t,s);this._request=l,l.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new LD(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((a,l)=>{let f;try{f=function(n,e,t,s,a,l,f,y){const w=new LD(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=s.size()),s.size()!==w.total)throw new Ln("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const A=w.total-w.current;let M=A;a>0&&(M=Math.min(M,a));const k=w.current,fe={"X-Goog-Upload-Command":M===A?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},Pe=s.slice(k,k+M);if(null===Pe)throw xD();const Lt=new jc(t,"POST",function(lt,Cn){const Pi=VR(lt,["active","final"]),Ef=w.current+M,ww=s.size();let cM;return cM="final"===Pi?FD(e,l)(lt,Cn):null,new LD(Ef,ww,"final"===Pi,cM)},e.maxUploadRetryTime);return Lt.headers=fe,Lt.body=Pe.uploadData(),Lt.progressCallback=y||null,Lt.errorHandler=Oy(n),Lt}(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const y=this._ref.storage._makeRequest(f,yu,a,l);this._request=y,y.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=D1(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(s,yu,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=function(n,e,t,s,a){const l=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Lt="";for(let lt=0;lt<2;lt++)Lt+=Math.random().toString().slice(2);return Lt}();f["Content-Type"]="multipart/related; boundary="+w;const A=S1(e,s,a),M=LR(A,t),X=wn.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+w+"\r\nContent-Type: "+A.contentType+"\r\n\r\n",s,"\r\n--"+w+"--");if(null===X)throw xD();const fe={name:A.fullPath},Pe=Bc(l,n.host,n._protocol),Mt=n.maxUploadRetryTime,xt=new jc(Pe,"POST",FD(n,t),Mt);return xt.urlParams=fe,xt.headers=f,xt.body=X.uploadData(),xt.errorHandler=Oy(e),xt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(s,yu,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lw(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=UR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,a){const l=new gO(t||void 0,s||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(UR(this._state)){case Bs.SUCCESS:Py(this._resolve.bind(null,this.snapshot))();break;case Bs.CANCELED:case Bs.ERROR:Py(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UR(this._state)){case Bs.RUNNING:case Bs.PAUSED:e.next&&Py(e.next.bind(e,this.snapshot))();break;case Bs.SUCCESS:e.complete&&Py(e.complete.bind(e))();break;case Bs.CANCELED:case Bs.ERROR:e.error&&Py(e.error.bind(e,this._error))();break;default:e.error&&Py(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Pg{constructor(e,t){this._service=e,this._location=t instanceof Gi?t:Gi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pg(e,t)}get root(){const e=new Gi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ad(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Gi(this._location.bucket,e);return new Pg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw ND(e)}}function P1(n,e,t){return BR.apply(this,arguments)}function BR(){return(BR=(0,_e.Z)(function*(n,e,t){const a=yield k1(n,{pageToken:t});e.prefixes.push(...a.prefixes),e.items.push(...a.items),null!=a.nextPageToken&&(yield P1(n,e,a.nextPageToken))})).apply(this,arguments)}function k1(n,e){null!=e&&"number"==typeof e.maxResults&&kD("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=oO(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(s,yu)}function xO(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const a=Bc(e.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new jc(a,"GET",function(n,e){return function(s,a){const l=C1(n,a,e);return $c(null!==l),function(n,e,t,s){const a=ms(e);if(null===a||!hw(a.downloadTokens))return null;const l=a.downloadTokens;if(0===l.length)return null;const f=encodeURIComponent;return l.split(",").map(A=>{const k=n.fullPath;return Bc("/b/"+f(n.bucket)+"/o/"+f(k),t,s)+FR({alt:"media",token:A})})[0]}(l,a,n.host,n._protocol)}}(n,t),f);return y.errorHandler=gw(e),y}(n.storage,n._location,ud());return n.storage.makeRequestWithTokens(e,yu).then(t=>{if(null===t)throw new Ln("no-download-url","The given file does not have any download URLs.");return t})}function F1(n,e){const t=function(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),s=new Gi(n._location.bucket,t);return new Pg(n.storage,s)}function L1(n,e){if(n instanceof jR){const t=n;if(null==t._bucket)throw new Ln("no-default-bucket","No default bucket found. Did you set the '"+TD+"' property when initializing the app?");const s=new Pg(t,t._bucket);return null!=e?L1(s,e):s}return void 0!==e?F1(n,e):n}function OO(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof jR)return function(n,e){return new Pg(n,e)}(n,e);throw Uc("To use ref(service, url), the first argument must be a Storage instance.")}return L1(n,e)}function V1(n,e){const t=null==e?void 0:e[TD];return null==t?null:Gi.makeFromBucketSpec(t,n)}class jR{constructor(e,t,s,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=ID,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Gi.makeFromBucketSpec(a,this._host):V1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Gi.makeFromBucketSpec(this._url,e):V1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const s=yield t.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pg(this,e)}_makeRequest(e,t,s,a){if(this._deleted)return new v1(MD());{const l=function(n,e,t,s,a,l){const f=FR(n.urlParams),y=n.url+f,w=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,l),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,s),new i(y,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(e,this._appId,s,a,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var s=this;return(0,_e.Z)(function*(){const[a,l]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(e,t,a,l).getPromise()})()}}const U1="@firebase/storage";function $1(n,e){return OO(n=(0,yt.m9)(n),e)}(0,Uo._registerComponent)(new sh.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new jR(t,s,a,e,Uo.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(U1,"0.9.1",""),(0,Uo.registerVersion)(U1,"0.9.1","esm2017");class VD{constructor(e,t,s){this._delegate=e,this.task=t,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class H1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(s=>{if(e)return e(new VD(s,this,this._ref))},t)}on(e,t,s,a){let l;return t&&(l="function"==typeof t?f=>t(new VD(f,this,this._ref)):{next:t.next?f=>t.next(new VD(f,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,s||void 0,a||void 0)}}class q1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new cd(e,this._service))}get items(){return this._delegate.items.map(e=>new cd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class cd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return F1(n,e)}(this._delegate,e);return new cd(t,this.storage)}get root(){return new cd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new cd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new H1(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new N1(n,new wn(e),t)}(n=(0,yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=P.RAW,s){this._throwIfRoot("putString");const a=z(t,e),l=Object.assign({},s);return null==l.contentType&&null!=a.contentType&&(l.contentType=a.contentType),new H1(new N1(this._delegate,new wn(a.data,!0),l),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return P1(n,e).then(()=>e)}(n=(0,yt.m9)(n))}(this._delegate).then(e=>new q1(e,this.storage))}list(e){return function(n,e){return k1(n=(0,yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new q1(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=D1(n.storage,n._location,ud());return n.storage.makeRequestWithTokens(e,yu)}(n=(0,yt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,s){const l=Bc(e.fullServerUrl(),n.host,n._protocol),y=LR(t,s),A=n.maxOperationRetryTime,M=new jc(l,"PATCH",FD(n,s),A);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=y,M.errorHandler=gw(e),M}(n.storage,n._location,e,ud());return n.storage.makeRequestWithTokens(t,yu)}(n=(0,yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function(n){return xO(n=(0,yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const s=Bc(e.fullServerUrl(),n.host,n._protocol),y=new jc(s,"DELETE",function(w,A){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=gw(e),y}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,yu)}(n=(0,yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw ND(e)}}class Z1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(G1(e))throw Uc("ref() expected a child path but got a URL, use refFromURL instead.");return new cd($1(this._delegate,e),this)}refFromURL(e){if(!G1(e))throw Uc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gi.makeFromUrl(e,this._delegate.host)}catch(t){throw Uc("refFromUrl() expected a valid full URL but got an invalid one.")}return new cd($1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,s={}){!function(n,e,t,s={}){!function(n,e,t,s={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=s;a&&(n._overrideAuthToken="string"==typeof a?a:(0,yt.Sg)(a,n.app.options.projectId))}(n,e,t,s)}(this._delegate,e,t,s)}}function G1(n){return/^[A-Za-z]+:\/\//.test(n)}function KO(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),s=n.getProvider("storage").getImmediate({identifier:e});return new Z1(t,s)}function W1(n){const e=function(n){return new Kt.y(e=>{const t=f=>e.next(f);t(n.snapshot);const l=n.on("state_changed",t);return n.then(f=>{t(f),e.complete()},f=>{t(n.snapshot),(f=>{e.error(f)})(f)}),function(){l()}}).pipe(function(n,e=R0.P){return t=>t.lift(new SR(n,e))}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,pt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function UD(n){return{getDownloadURL:()=>(0,Xe.of)(void 0).pipe(yr.fc,Jn(()=>n.getDownloadURL()),yr.iC),getMetadata:()=>(0,Xe.of)(void 0).pipe(yr.fc,Jn(()=>n.getMetadata()),yr.iC),delete:()=>(0,un.D)(n.delete()),child:e=>UD(n.child(e)),updateMetadata:e=>(0,un.D)(n.updateMetadata(e)),put:(e,t)=>W1(n.put(e,t)),putString:(e,t,s)=>W1(n.putString(e,t,s)),list:e=>(0,un.D)(n.list(e)),listAll:()=>(0,un.D)(n.listAll())}}!function(n){const e={TaskState:Bs,TaskEvent:pO,StringFormat:P,Storage:Z1,Reference:cd};n.INTERNAL.registerComponent(new sh.wA("storage-compat",KO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.9")}(M0.Z);const JO=new d.OlP("angularfire2.storageBucket"),XO=new d.OlP("angularfire2.storage.maxUploadRetryTime"),eP=new d.OlP("angularfire2.storage.maxOperationRetryTime"),tP=new d.OlP("angularfire2.storage.use-emulator");let $R=(()=>{class n{constructor(t,s,a,l,f,y,w,A,M,k){const q=(0,ii.on)(t,f,s);this.storage=(0,ii.cc)(`${q.name}.storage.${a}`,"AngularFireStorage",q.name,()=>{const X=f.runOutsideAngular(()=>q.storage(a||void 0)),fe=M;return fe&&X.useEmulator(...fe),w&&X.setMaxUploadRetryTime(w),A&&X.setMaxOperationRetryTime(A),X},[w,A])}ref(t){return UD(this.storage.ref(t))}refFromURL(t){return UD(this.storage.refFromURL(t))}upload(t,s,a){return UD(this.storage.ref(t)).put(s,a)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(JO,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(yr.HU),d.LFG(XO,8),d.LFG(eP,8),d.LFG(tP,8),d.LFG(Sv,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BD=(()=>{class n{constructor(t,s){this.afs=t,this.fireStorage=s}addStudent(t){return t.id=this.afs.createId(),this.afs.collection("/Students").add(t)}getAllStudents(){return this.afs.collection("/Students").snapshotChanges()}deleteStudent(t){this.afs.doc("/Students/"+t.id).delete()}updateStudent(t){this.deleteStudent(t),this.addStudent(t)}addCategorie(t){return t.id=this.afs.createId(),this.afs.collection("/categories").add(t)}getAllCategories(){return this.afs.collection("/categories").snapshotChanges()}deleteCategorie(t){return this.afs.doc("/categories"+t.id).delete()}updateCategorie(t){this.deleteCategorie(t),this.addCategorie(t)}addProduiction(t){return t.id=this.afs.createId(),this.afs.collection("/Produictions").add(t)}getAllProduictions(){return this.afs.collection("/Produictions").snapshotChanges()}deleteProduiction(t){return this.afs.doc("/Produiction/"+t.id).delete()}updateProduiction(t){this.deleteProduiction(t),this.addProduiction(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ED),d.LFG($R))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nP=function(){return["/Angular-Firebase-crud/frontedashboard"]},rP=function(){return["/Angular-Firebase-crud/dashboard"]},iP=function(){return["Angular-Firebase-crud/produit"]},sP=function(){return["Angular-Firebase-crud/categories"]};let jD=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-accueill"]],decls:16,vars:8,consts:[[1,"sidebar"],[3,"routerLink"],[1,"fa","fa-fw","fa-home"],[1,"fa","fa-fw","fa-user"],[1,"fa","fa-fw","fa-wrench"],["href","#"],[1,"fa","fa-power-off"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"a",1),d._UZ(2,"i",2),d._uU(3," Home"),d.qZA(),d.TgZ(4,"a",1),d._UZ(5,"i",3),d._uU(6," Utilisateur"),d.qZA(),d.TgZ(7,"a",1),d._UZ(8,"i",3),d._uU(9," Produit"),d.qZA(),d.TgZ(10,"a",1),d._UZ(11,"i",4),d._uU(12," Categories"),d.qZA(),d.TgZ(13,"a",5),d._UZ(14,"i",6),d._uU(15," Deconexion"),d.qZA(),d.qZA()),2&t&&(d.xp6(1),d.Q6J("routerLink",d.DdM(4,nP)),d.xp6(3),d.Q6J("routerLink",d.DdM(5,rP)),d.xp6(3),d.Q6J("routerLink",d.DdM(6,iP)),d.xp6(3),d.Q6J("routerLink",d.DdM(7,sP)))},directives:[Kf],styles:[".sidebar[_ngcontent-%COMP%]{height:100%;width:160px;position:fixed;z-index:1;top:0;left:0;background-color:#111;overflow-x:hidden;padding-top:16px}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 8px 6px 16px;text-decoration:none;font-size:20px;color:#818181;display:block}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.fa-power-off[_ngcontent-%COMP%]{padding-top:400px}@media only screen and (max-width:458px){.sidebar[_ngcontent-%COMP%]{height:100%;width:60px;position:fixed;z-index:1;top:0;left:0;background-color:#111;overflow-x:hidden;padding-top:16px}a[_ngcontent-%COMP%]{display:none}}"]}),n})();var oP=F(1555);function $D(n,e){return new Kt.y(t=>{const s=n.length;if(0===s)return void t.complete();const a=new Array(s);let l=0,f=0;for(let y=0;y<s;y++){const w=(0,un.D)(n[y]);let A=!1;t.add(w.subscribe({next:M=>{A||(A=!0,f++),a[y]=M},error:M=>t.error(M),complete:()=>{l++,(l===s||!A)&&(f===s&&t.next(e?e.reduce((M,k,q)=>(M[k]=a[q],M),{}):a),t.complete())}}))}})}let z1=(()=>{class n{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),kg=(()=>{class n extends z1{}return n.\u0275fac=function(){let e;return function(s){return(e||(e=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Hc=new d.OlP("NgValueAccessor"),cP={provide:Hc,useExisting:(0,d.Gpc)(()=>ld),multi:!0},dP=new d.OlP("CompositionEventMode");let ld=(()=>{class n extends z1{constructor(t,s,a){super(t,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(dP,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,s){1&t&&d.NdJ("input",function(l){return s._handleInput(l.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(l){return s._compositionEnd(l.target.value)})},features:[d._Bn([cP]),d.qOj]}),n})();const _s=new d.OlP("NgValidators"),_f=new d.OlP("NgAsyncValidators");function sN(n){return null!=n}function oN(n){const e=(0,d.QGY)(n)?(0,un.D)(n):n;return(0,d.CqO)(e),e}function aN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function uN(n,e){return e.map(t=>t(n))}function cN(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function HR(n){return null!=n?function(n){if(!n)return null;const e=n.filter(sN);return 0==e.length?null:function(t){return aN(uN(t,e))}}(cN(n)):null}function qR(n){return null!=n?function(n){if(!n)return null;const e=n.filter(sN);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Ss.k)(e))return $D(e,null);if((0,oP.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return $D(t.map(s=>e[s]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return $D(n=1===n.length&&(0,Ss.k)(n[0])?n[0]:n,null).pipe((0,pt.U)(t=>e(...t)))}return $D(n,null)}(uN(t,e).map(oN)).pipe((0,pt.U)(aN))}}(cN(n)):null}function hN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ZR(n){return n?Array.isArray(n)?n:[n]:[]}function HD(n,e){return Array.isArray(n)?n.includes(e):n===e}function gN(n,e){const t=ZR(e);return ZR(n).forEach(a=>{HD(t,a)||t.push(a)}),t}function mN(n,e){return ZR(e).filter(t=>!HD(n,t))}let _N=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=HR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,s){return!!this.control&&this.control.hasError(t,s)}getError(t,s){return this.control?this.control.getError(t,s):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})(),js=(()=>{class n extends _N{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(s){return(e||(e=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();class vf extends _N{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yN{constructor(e){this._cd=e}is(e){var t,s,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[e])}}let Fg=(()=>{class n extends yN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(vf,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,s){2&t&&d.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[d.qOj]}),n})(),mw=(()=>{class n extends yN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(js,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,s){2&t&&d.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[d.qOj]}),n})();function _w(n,e){zR(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vN(n,e)})}(n,e),function(n,e){const t=(s,a)=>{e.valueAccessor.writeValue(s),a&&e.viewToModelUpdate(s)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=s=>{e.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function WD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zR(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const s=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hN(s,e.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();WD(e._rawValidators,a),WD(e._rawAsyncValidators,a)}function vN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function KD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const yw="VALID",YD="INVALID",ky="PENDING",vw="DISABLED";function QR(n){return(XR(n)?n.validators:n)||null}function wN(n){return Array.isArray(n)?HR(n):n||null}function JR(n,e){return(XR(e)?e.asyncValidators:n)||null}function CN(n){return Array.isArray(n)?qR(n):n||null}function XR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class eM{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=wN(this._rawValidators),this._composedAsyncValidatorFn=CN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yw}get invalid(){return this.status===YD}get pending(){return this.status==ky}get disabled(){return this.status===vw}get enabled(){return this.status!==vw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=wN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CN(e)}addValidators(e){this.setValidators(gN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mN(e,this._rawAsyncValidators))}hasValidator(e){return HD(this._rawValidators,e)}hasAsyncValidator(e){return HD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vw,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yw,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yw||this.status===ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vw:yw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ky,this._hasOwnPendingAsyncValidator=!0;const t=oN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let s=n;return e.forEach(a=>{s=s instanceof tM?s.controls.hasOwnProperty(a)?s.controls[a]:null:s instanceof TP&&s.at(a)||null}),s}(this,e)}getError(e,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?vw:this.errors?YD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ky)?ky:this._anyControlsHaveStatus(YD)?YD:yw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){XR(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class QD extends eM{constructor(e=null,t,s){super(QR(t),JR(s,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tM extends eM{constructor(e,t,s){super(QR(t),JR(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,s={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,s)=>(e[s]=t instanceof QD?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&e(s,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const s=this.controls[t];if(this.contains(t)&&e(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,s)=>((t.enabled||this.disabled)&&(e[s]=t.value),e))}_reduceChildren(e,t){let s=e;return this._forEachChild((a,l)=>{s=t(s,a,l)}),s}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class TP extends eM{constructor(e,t,s){super(QR(t),JR(s,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,s={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((s,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((s,a)=>{s.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof QD?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,s)=>{e(t,s)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,s)=>{if(void 0===e[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const DP={provide:js,useExisting:(0,d.Gpc)(()=>Lg)},bw=(()=>Promise.resolve(null))();let Lg=(()=>{class n extends js{constructor(t,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new tM({},HR(t),qR(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bw.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),_w(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bw.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),KD(this._directives,t)})}addFormGroup(t){bw.then(()=>{const s=this._findContainer(t.path),a=new tM({});(function(n,e){zR(n,e)})(a,t),s.registerControl(t.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bw.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){bw.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(_s,10),d.Y36(_f,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,s){1&t&&d.NdJ("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([DP]),d.qOj]}),n})();const SP={provide:vf,useExisting:(0,d.Gpc)(()=>bf)},DN=(()=>Promise.resolve(null))();let bf=(()=>{class n extends vf{constructor(t,s,a,l){super(),this.control=new QD,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,s,a;return Array.isArray(e),e.forEach(l=>{l.constructor===ld?t=l:function(n){return Object.getPrototypeOf(n.constructor)===kg}(l)?s=l:a=l}),a||s||t||null}(0,l)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_w(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){DN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const s=t.isDisabled.currentValue,a=""===s||s&&"false"!==s;DN.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(js,9),d.Y36(_s,10),d.Y36(_f,10),d.Y36(Hc,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([SP]),d.qOj,d.TTD]}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),SN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),ZN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[SN]]}),n})(),JP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ZN]}),n})();function XP(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d.TgZ(10,"button",23),d.NdJ("click",function(){const l=d.CHM(t).$implicit;return d.oxw().deleteStudent(l)}),d._uU(11,"Suprimer utilisateur"),d.qZA(),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.first_name),d.xp6(2),d.Oqu(t.last_name),d.xp6(2),d.Oqu(t.email),d.xp6(2),d.Oqu(t.mobile)}}let ek=(()=>{class n{constructor(t,s){this.auth=t,this.data=s,this.studentsList=[],this.studentObj={id:"",first_name:"",last_name:"",email:"",mobile:"",length:""},this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}ngOnInit(){this.getAllStudents()}register(){this.auth.logout()}getAllStudents(){this.data.getAllStudents().subscribe(t=>{this.studentsList=t.map(s=>{const a=s.payload.doc.data();return a.id=s.payload.doc.id,a})},t=>{alert("Error while fetching student data")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}addStudent(){""!=this.first_name&&""!=this.last_name&&""!=this.mobile&&""!=this.email?(this.studentObj.id="",this.studentObj.email=this.email,this.studentObj.first_name=this.first_name,this.studentObj.last_name=this.last_name,this.studentObj.mobile=this.mobile,this.data.addStudent(this.studentObj),this.resetForm()):alert("Fill all input fields")}updateStudent(){}deleteStudent(t){window.confirm("Are you sure you want to delete "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteStudent(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cl),d.Y36(BD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-dashboard"]],decls:46,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12","col-md-4","mt-5"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","mobile","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],["for","mobile"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"col-sm-12","col-md-8","mt-2"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,s){1&t&&(d._UZ(0,"app-accueill"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"h5",5),d._uU(7,"Ajouter utilisateur"),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"input",7),d.NdJ("ngModelChange",function(l){return s.first_name=l}),d.qZA(),d.TgZ(10,"label",8),d._uU(11,"First name"),d.qZA(),d.qZA(),d.TgZ(12,"div",6),d.TgZ(13,"input",9),d.NdJ("ngModelChange",function(l){return s.last_name=l}),d.qZA(),d.TgZ(14,"label",10),d._uU(15,"Last name"),d.qZA(),d.qZA(),d.TgZ(16,"div",6),d.TgZ(17,"input",11),d.NdJ("ngModelChange",function(l){return s.email=l}),d.qZA(),d.TgZ(18,"label",12),d._uU(19,"Email address"),d.qZA(),d.qZA(),d.TgZ(20,"div",6),d.TgZ(21,"input",13),d.NdJ("ngModelChange",function(l){return s.mobile=l}),d.qZA(),d.TgZ(22,"label",14),d._uU(23,"Mobile"),d.qZA(),d.qZA(),d.TgZ(24,"button",15),d.NdJ("click",function(){return s.addStudent()}),d._uU(25,"Add utilisateur"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",16),d.TgZ(27,"h5",17),d._uU(28," Liste utilisateur"),d.qZA(),d.TgZ(29,"div",18),d.TgZ(30,"div",19),d.TgZ(31,"table",20),d.TgZ(32,"thead"),d.TgZ(33,"tr"),d.TgZ(34,"th",21),d._uU(35,"First name"),d.qZA(),d.TgZ(36,"th",21),d._uU(37,"Last name"),d.qZA(),d.TgZ(38,"th",21),d._uU(39,"Email"),d.qZA(),d.TgZ(40,"th",21),d._uU(41,"Mobile"),d.qZA(),d.TgZ(42,"th",21),d._uU(43,"Action"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"tbody"),d.YNc(45,XP,12,4,"tr",22),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Q6J("ngModel",s.first_name),d.xp6(4),d.Q6J("ngModel",s.last_name),d.xp6(4),d.Q6J("ngModel",s.email),d.xp6(4),d.Q6J("ngModel",s.mobile),d.xp6(24),d.Q6J("ngForOf",s.studentsList))},directives:[jD,ld,Fg,bf,ei],styles:['body[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff;margin:0;font-family:"Lato",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}.navbar[_ngcontent-%COMP%]{background-color:#20c997;margin:0;font-size:.875rem;font-weight:400;line-height:1.5;color:#212529}.nav-link[_ngcontent-%COMP%]{font-size:20px;font-weight:400;line-height:1.5;color:#fff}.navbar-brand[_ngcontent-%COMP%]{font-size:20px;font-weight:400;line-height:1.5;color:#fff}.row[_ngcontent-%COMP%]{padding-left:15%}']}),n})();class tk{constructor(e){this.id="",this.name="",this.size=0,this.url="",this.file=e}}let nk=(()=>{class n{constructor(t,s){this.fireStore=t,this.fireStorage=s}saveMetaDataOfFile(t){const s={id:"",name:t.name,url:t.url,size:t.size};s.id=this.fireStore.createId(),this.fireStore.collection("/Upload").add(s)}getAllFiles(){return this.fireStore.collection("/Upload").snapshotChanges()}deleteFile(t){this.fireStore.collection("/Upload").doc(t.id).delete(),this.fireStorage.ref("/Uploads/"+t.name).delete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ED),d.LFG($R))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rk(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d.TgZ(6,"a",15),d._uU(7,"Download"),d.qZA(),d.TgZ(8,"a",16),d.NdJ("click",function(){const l=d.CHM(t).$implicit;return d.oxw().deleteFile(l)}),d._uU(9,"Delete"),d.qZA(),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.name),d.xp6(2),d.Oqu(t.size),d.xp6(2),d.s9C("href",t.url,d.LSH)}}const ik=function(n){return{width:n}};let sk=(()=>{class n{constructor(t,s,a){this.fileService=t,this.fireStorage=s,this.dataService=a,this.percentage=0,this.listOfFiles=[]}ngOnInit(){this.getAllFiles()}selectFile(t){this.selectedFiles=t.target.files}uploadFile(){this.currentFileUpload=new tk(this.selectedFiles[0]);const s=this.fireStorage.ref("Uploads/"+this.currentFileUpload.file.name);s.put(this.selectedFiles[0]).snapshotChanges().pipe(Gu(()=>{s.getDownloadURL().subscribe(l=>{this.currentFileUpload.id="",this.currentFileUpload.url=l,this.currentFileUpload.size=this.currentFileUpload.file.size,this.currentFileUpload.name=this.currentFileUpload.file.name,this.fileService.saveMetaDataOfFile(this.currentFileUpload)}),this.ngOnInit()})).subscribe(l=>{this.percentage=100*l.bytesTransferred/l.totalBytes},l=>{console.log("Error occured")})}getAllFiles(){this.fileService.getAllFiles().subscribe(t=>{this.listOfFiles=t.map(s=>{const a=s.payload.doc.data();return a.id=s.payload.doc.id,a})},t=>{console.log("Error occured while fetching file meta data")})}deleteFile(t){window.confirm("Are you sure you want to delete "+t.name+"?")&&(this.fileService.deleteFile(t),this.ngOnInit())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(nk),d.Y36($R),d.Y36(BD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-fileupload"]],decls:28,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-4","mt-5"],[1,"card","border-0","shadow"],[1,"card-body"],["type","file",1,"text-nowrap","text-truncate","file",3,"change"],["type","button",1,"btn","btn-outline-warning",3,"disabled","click"],[1,"progress","mt-2"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info",3,"ngStyle"],[1,"col-md-8"],[1,"mb-3","mt-3"],[1,"text-primary"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button","download","",1,"btn","btn-outline-info",3,"href"],["type","button",1,"btn","btn-outline-danger","ms-2",3,"click"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d._uU(5,"x "),d.TgZ(6,"div"),d.TgZ(7,"input",5),d.NdJ("change",function(l){return s.selectFile(l)}),d.qZA(),d.TgZ(8,"button",6),d.NdJ("click",function(){return s.uploadFile()}),d._uU(9,"Upload"),d.qZA(),d.qZA(),d.TgZ(10,"div",7),d.TgZ(11,"div",8),d._uU(12),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"div",9),d.TgZ(14,"div",10),d.TgZ(15,"h4",11),d._uU(16,"File list"),d.qZA(),d.qZA(),d.TgZ(17,"table",12),d.TgZ(18,"thead"),d.TgZ(19,"tr"),d.TgZ(20,"th",13),d._uU(21,"File name"),d.qZA(),d.TgZ(22,"th",13),d._uU(23,"File size"),d.qZA(),d.TgZ(24,"th",13),d._uU(25,"Action"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"tbody"),d.YNc(27,rk,10,3,"tr",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("disabled",!s.selectedFiles),d.xp6(3),d.Q6J("ngStyle",d.VKq(5,ik,s.percentage+"%")),d.uIk("aria-valuenow",s.percentage),d.xp6(1),d.hij(" ",s.percentage,"% "),d.xp6(15),d.Q6J("ngForOf",s.listOfFiles))},directives:[hr,ei],styles:[""]}),n})(),ok=(()=>{class n{constructor(t){this.auth=t,this.email=""}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cl))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"form"),d.TgZ(7,"div",6),d.TgZ(8,"h4",7),d._uU(9,"Forgot password"),d.qZA(),d.qZA(),d.TgZ(10,"div",6),d.TgZ(11,"label",8),d._uU(12,"Email"),d.qZA(),d.TgZ(13,"input",9),d.NdJ("ngModelChange",function(l){return s.email=l}),d.qZA(),d.qZA(),d.TgZ(14,"button",10),d.NdJ("click",function(){return s.forgotPassword()}),d._uU(15,"Send Link"),d.qZA(),d.TgZ(16,"div",11),d.TgZ(17,"div",12),d.TgZ(18,"a",13),d._uU(19,"Back to "),d.TgZ(20,"span",14),d._uU(21,"Login"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(22,"div",2),d.qZA(),d.qZA()),2&t&&(d.xp6(13),d.Q6J("ngModel",s.email))},directives:[Ew,mw,Lg,ld,Fg,bf],styles:[""]}),n})();function lk(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d.TgZ(8,"button",20),d.NdJ("click",function(){const l=d.CHM(t).$implicit;return d.oxw().deleteCategorie(l)}),d._uU(9,"Supprimer categories"),d.qZA(),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.first_name),d.xp6(2),d.Oqu(t.last_name),d.xp6(2),d.Oqu(t.email)}}function fk(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d.TgZ(10,"button",23),d.NdJ("click",function(){const l=d.CHM(t).$implicit;return d.oxw().deleteProduiction(l)}),d._uU(11,"Suprimer produit"),d.qZA(),d.qZA(),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.first_name),d.xp6(2),d.Oqu(t.last_name),d.xp6(2),d.Oqu(t.email),d.xp6(2),d.Oqu(t.mobile)}}const pk=[{path:"",redirectTo:"Angular-Firebase-crud/login",pathMatch:"full"},{path:"Angular-Firebase-crud/login",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cl))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/Angular-Firebase-crud/register",2,"text-decoration","none"],[1,"text-danger"],["href","/Angular-Firebase-crud/forgot-password",1,"text-dark",2,"text-decoration","none"],[1,"row","mt-2"],[2,"text-decoration","none","cursor","pointer",3,"click"],[1,"card","shadow","text-center"],["src","../../../assets/icons8-google-48.png","alt","","height","24px","width","24px"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"form"),d.TgZ(7,"div",6),d.TgZ(8,"h4",7),d._uU(9,"Login"),d.qZA(),d.qZA(),d.TgZ(10,"div",6),d.TgZ(11,"label",8),d._uU(12,"Email"),d.qZA(),d.TgZ(13,"input",9),d.NdJ("ngModelChange",function(l){return s.email=l}),d.qZA(),d.qZA(),d.TgZ(14,"div",6),d.TgZ(15,"label",10),d._uU(16,"Password"),d.qZA(),d.TgZ(17,"input",11),d.NdJ("ngModelChange",function(l){return s.password=l}),d.qZA(),d.qZA(),d.TgZ(18,"button",12),d.NdJ("click",function(){return s.login()}),d._uU(19,"Login"),d.qZA(),d.TgZ(20,"div",13),d.TgZ(21,"div",14),d.TgZ(22,"a",15),d._uU(23,"Need Account ? "),d.TgZ(24,"span",16),d._uU(25,"Register"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",14),d.TgZ(27,"a",17),d._uU(28," Forgot Password ? "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",18),d.TgZ(30,"a",19),d.NdJ("click",function(){return s.signInWithGoogle()}),d.TgZ(31,"div",20),d.TgZ(32,"div",5),d._UZ(33,"img",21),d._uU(34," Sign In with Google "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(35,"div",2),d.qZA(),d.qZA()),2&t&&(d.xp6(13),d.Q6J("ngModel",s.email),d.xp6(4),d.Q6J("ngModel",s.password))},directives:[Ew,mw,Lg,ld,Fg,bf],styles:[""]}),n})()},{path:"Angular-Firebase-crud/dashboard",component:ek},{path:"Angular-Firebase-crud/register",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cl))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-register"]],decls:27,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/Angular-Firebase-crud/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"form"),d.TgZ(7,"div",6),d.TgZ(8,"h4",7),d._uU(9,"Register"),d.qZA(),d.qZA(),d.TgZ(10,"div",6),d.TgZ(11,"label",8),d._uU(12,"Email"),d.qZA(),d.TgZ(13,"input",9),d.NdJ("ngModelChange",function(l){return s.email=l}),d.qZA(),d.qZA(),d.TgZ(14,"div",6),d.TgZ(15,"label",10),d._uU(16,"Password"),d.qZA(),d.TgZ(17,"input",11),d.NdJ("ngModelChange",function(l){return s.password=l}),d.qZA(),d.qZA(),d.TgZ(18,"button",12),d.NdJ("click",function(){return s.register()}),d._uU(19,"Register"),d.qZA(),d.TgZ(20,"div",13),d.TgZ(21,"div",14),d.TgZ(22,"a",15),d._uU(23,"Have an account ? "),d.TgZ(24,"span",16),d._uU(25,"Login"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(26,"div",2),d.qZA(),d.qZA()),2&t&&(d.xp6(13),d.Q6J("ngModel",s.email),d.xp6(4),d.Q6J("ngModel",s.password))},directives:[Ew,mw,Lg,ld,Fg,bf],styles:[""]}),n})()},{path:"Angular-Firebase-crud/varify-email",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-varify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"]],template:function(t,s){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"form"),d.TgZ(7,"div",6),d.TgZ(8,"h4",7),d._uU(9,"Welcome"),d.qZA(),d.qZA(),d.TgZ(10,"div",6),d.TgZ(11,"p",8),d._uU(12,"Link has sent on your registered email. Please varify it."),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(13,"div",2),d.qZA(),d.qZA())},directives:[Ew,mw,Lg],styles:[""]}),n})()},{path:"Angular-Firebase-crud/forgot-password",component:ok},{path:"Angular-Firebase-crud/file-upload",component:sk},{path:"Angular-Firebase-crud/categories",component:(()=>{class n{constructor(t,s){this.auth=t,this.data=s,this.categoriesList=[],this.categorieObj={id:"",first_name:"",last_name:"",email:"",mobile:""},this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}ngOnInit(){this.getAllCategories()}getAllCategories(){this.data.getAllCategories().subscribe(t=>{this.categoriesList=t.map(s=>{const a=s.payload.doc.data();return a.id=s.payload.doc.id,a})},t=>{alert("erreur de votre saisi de donnee categorie")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}addCategorie(){""!=this.first_name&&""!=this.last_name&&""!=this.mobile&&""!=this.email?(this.categorieObj.id="",this.categorieObj.email=this.email,this.categorieObj.first_name=this.first_name,this.categorieObj.last_name=this.last_name,this.data.addCategorie(this.categorieObj),this.resetForm()):alert("vous avez oublier de saisir")}updateCategorie(){}deleteCategorie(t){window.confirm("etes vous sure de vouloire supprimer "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteCategorie(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cl),d.Y36(BD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-categories"]],decls:39,vars:4,consts:[[1,"row"],[1,"col-sm-12","col-md-4","mt-5"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"col-sm-12","col-md-8","mt-2"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,s){1&t&&(d._UZ(0,"app-accueill"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"h5",4),d._uU(6,"Ajouter categories"),d.qZA(),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"input",6),d.NdJ("ngModelChange",function(l){return s.first_name=l}),d.qZA(),d.TgZ(9,"label",7),d._uU(10,"Nom de categorie"),d.qZA(),d.qZA(),d.TgZ(11,"div",5),d.TgZ(12,"input",8),d.NdJ("ngModelChange",function(l){return s.last_name=l}),d.qZA(),d.TgZ(13,"label",9),d._uU(14,"Action"),d.qZA(),d.qZA(),d.TgZ(15,"div",5),d.TgZ(16,"input",10),d.NdJ("ngModelChange",function(l){return s.email=l}),d.qZA(),d.TgZ(17,"label",11),d._uU(18,"type de categories"),d.qZA(),d.qZA(),d.TgZ(19,"button",12),d.NdJ("click",function(){return s.addCategorie()}),d._uU(20,"Ajouter categories"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",13),d.TgZ(22,"h5",14),d._uU(23," Liste categories"),d.qZA(),d.TgZ(24,"div",15),d.TgZ(25,"div",16),d.TgZ(26,"table",17),d.TgZ(27,"thead"),d.TgZ(28,"tr"),d.TgZ(29,"th",18),d._uU(30,"Nom categorie"),d.qZA(),d.TgZ(31,"th",18),d._uU(32,"Action"),d.qZA(),d.TgZ(33,"th",18),d._uU(34,"type"),d.qZA(),d.TgZ(35,"th",18),d._uU(36,"numero categorie"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"tbody"),d.YNc(38,lk,10,3,"tr",19),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngModel",s.first_name),d.xp6(4),d.Q6J("ngModel",s.last_name),d.xp6(4),d.Q6J("ngModel",s.email),d.xp6(22),d.Q6J("ngForOf",s.categoriesList))},directives:[jD,ld,Fg,bf,ei],styles:[".row[_ngcontent-%COMP%]{padding-left:15%}"]}),n})()},{path:"Angular-Firebase-crud/frontedashboard",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-frontdasboard"]],decls:49,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"container"],[1,"navbar","navbar-expand-lg","bg-light","shadow","p-3","mb-5","bg-body","rounded"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["aria-hidden","true",1,"fa","fa-tachometer","fa-2x"],[1,"title"],[1,"title_paragraphe","fst-italic"],["href","#",1,"navbar-brand","text-success"],["aria-hidden","true",1,"fa","fa-home"],[1,"container","my-5","blog_dasboard"],[1,"row","row-cols-1","row-cols-md-4","g-4"],[1,"col"],[1,"card","card1"],[1,"ligne1"],["aria-hidden","true",1,"fa","fa-users","fa-3x","fa1"],[1,"mapage"],[1,"card","card2"],[1,"ligne2"],["aria-hidden","true",1,"fa","fa-thumbs-up","fa-3x","fa2"],[1,"card","card3"],[1,"ligne3"],["aria-hidden","true",1,"fa","fa-clone","fa-3x","fa3"],[1,"card","card4"],[1,"ligne4"],["aria-hidden","true",1,"fa","fa-star","fa-3x","fa4"],[1,"row","row-cols-1","row-cols-md-2","g-4","my-5"],[1,"card","card5"],[1,"card","card6"]],template:function(t,s){1&t&&(d._UZ(0,"app-accueill"),d._UZ(1,"link",0),d.TgZ(2,"div",1),d.TgZ(3,"nav",2),d.TgZ(4,"div",3),d.TgZ(5,"a",4),d._UZ(6,"i",5),d.TgZ(7,"h1",6),d._uU(8,"Angular Crude Firebase"),d.qZA(),d.TgZ(9,"p",7),d._uU(10,"Angulare crude firebase authentification"),d.qZA(),d.qZA(),d.TgZ(11,"a",8),d.TgZ(12,"i",9),d._uU(13," / Dashboard "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.TgZ(16,"div",12),d.TgZ(17,"div",13),d._UZ(18,"div",1),d.TgZ(19,"div",14),d._UZ(20,"i",15),d.qZA(),d.TgZ(21,"h6"),d._uU(22,"Utilisateur"),d.qZA(),d.TgZ(23,"h5",16),d._uU(24,"24"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(25,"div",12),d.TgZ(26,"div",17),d.TgZ(27,"div",18),d._UZ(28,"i",19),d.qZA(),d.TgZ(29,"h6"),d._uU(30,"Categories"),d.qZA(),d._UZ(31,"h5",16),d.qZA(),d.qZA(),d.TgZ(32,"div",12),d.TgZ(33,"div",20),d.TgZ(34,"div",21),d._UZ(35,"i",22),d.qZA(),d.TgZ(36,"h6"),d._uU(37,"Produit"),d.qZA(),d.TgZ(38,"h5",16),d._uU(39,"24"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(40,"div",12),d.TgZ(41,"div",23),d.TgZ(42,"div",24),d._UZ(43,"i",25),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"div",26),d.TgZ(45,"div",12),d._UZ(46,"div",27),d.qZA(),d.TgZ(47,"div",12),d._UZ(48,"div",28),d.qZA(),d.qZA(),d.qZA())},directives:[jD],styles:[".container[_ngcontent-%COMP%]{padding-left:10%}.ligne1[_ngcontent-%COMP%]{border:none;border-top:none;border-bottom:none;border-left:none;width:120px;height:100px;background-color:#009688}.ligne2[_ngcontent-%COMP%]{border:2px solid #17A2B8;height:auto;border-top:none;border-bottom:none;border-left:none;width:120px;height:100px;background-color:#17a2b8}.ligne3[_ngcontent-%COMP%]{border:2px solid #FFC107;height:auto;border-top:none;border-bottom:none;border-left:none;width:120px;height:100px;background-color:#ffc107}.ligne4[_ngcontent-%COMP%]{border:2px solid #DC3545;height:auto;border-top:none;border-bottom:none;border-left:none;width:120px;height:100px;background-color:#dc3545}.card1[_ngcontent-%COMP%], .card2[_ngcontent-%COMP%], .card3[_ngcontent-%COMP%], .card4[_ngcontent-%COMP%]{height:70px}.card5[_ngcontent-%COMP%], .card6[_ngcontent-%COMP%]{height:300px}.blog_dasboard[_ngcontent-%COMP%]{background-color:#eee;height:600px}.fa1[_ngcontent-%COMP%], .fa2[_ngcontent-%COMP%], .fa3[_ngcontent-%COMP%], .fa4[_ngcontent-%COMP%]{color:#fff;margin-left:35px;margin-top:10px}.title[_ngcontent-%COMP%]{font-size:20px;position:relative;left:50px;bottom:25px}.title_paragraphe[_ngcontent-%COMP%]{font-size:15px;position:relative;bottom:25px}h6[_ngcontent-%COMP%]{position:relative;left:150px;bottom:45px}.mapage[_ngcontent-%COMP%]{position:relative;left:150px;bottom:45px}@media only screen and (max-width:768px){.blog_dasboard[_ngcontent-%COMP%]{background-color:#eee;height:1200px}}"]}),n})()},{path:"Angular-Firebase-crud/produit",component:(()=>{class n{constructor(t,s){this.auth=t,this.data=s,this.produictionList=[],this.produictionObj={id:"",first_name:"",last_name:"",email:"",mobile:""},this.id="",this.first_name=""}ngOnInit(){this.getAllProduictions()}getAllProduictions(){this.data.getAllProduictions().subscribe(t=>{this.produictionList=t.map(s=>{const a=s.payload.doc.data();return a.id=s.payload.doc.id,a})},t=>{alert("Error while fetching produit data")})}resetForm(){this.id="",this.first_name="",this.last_name="",this.email="",this.mobile=""}addProduiction(){""!=this.first_name&&""!=this.last_name&&""!=this.mobile&&""!=this.email?(this.produictionObj.id="",this.produictionObj.email=this.email,this.produictionObj.first_name=this.last_name,this.produictionObj.last_name=this.last_name,this.data.addProduiction(this.produictionObj),this.resetForm()):alert("fill all in inputs fiels")}updateProduiction(){}deleteProduiction(t){window.confirm("Are you sure you want to delete "+t.first_name+" "+t.last_name+" ?")&&this.data.deleteProduiction(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cl),d.Y36(BD))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-produit"]],decls:46,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-sm-12","col-md-4","mt-5"],[1,"card","border-0","shadow","p-3"],[1,"form-floating","mb-3","tetx-center"],[1,"text-center","text-warning"],[1,"form-floating","mb-3"],["type","text","id","firstName","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["for","firstname"],["type","text","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","email","id","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","mobile","name","mobile",1,"form-control",3,"ngModel","ngModelChange"],["for","mobile"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"col-sm-12","col-md-8","mt-2"],[1,"text-danger"],[1,"card","p-3","shadow"],[1,"card-body"],[1,"table","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,s){1&t&&(d._UZ(0,"app-accueill"),d.TgZ(1,"div",0),d.TgZ(2,"div",1),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"h5",5),d._uU(7,"Ajouter produit"),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"input",7),d.NdJ("ngModelChange",function(l){return s.first_name=l}),d.qZA(),d.TgZ(10,"label",8),d._uU(11,"Produit"),d.qZA(),d.qZA(),d.TgZ(12,"div",6),d.TgZ(13,"input",9),d.NdJ("ngModelChange",function(l){return s.last_name=l}),d.qZA(),d.TgZ(14,"label",10),d._uU(15,"type de produit"),d.qZA(),d.qZA(),d.TgZ(16,"div",6),d.TgZ(17,"input",11),d.NdJ("ngModelChange",function(l){return s.email=l}),d.qZA(),d.TgZ(18,"label",12),d._uU(19,"Prix"),d.qZA(),d.qZA(),d.TgZ(20,"div",6),d.TgZ(21,"input",13),d.NdJ("ngModelChange",function(l){return s.mobile=l}),d.qZA(),d.TgZ(22,"label",14),d._uU(23,"Numero"),d.qZA(),d.qZA(),d.TgZ(24,"button",15),d.NdJ("click",function(){return s.addProduiction()}),d._uU(25,"Ajouter produit"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",16),d.TgZ(27,"h5",17),d._uU(28," Liste de produit"),d.qZA(),d.TgZ(29,"div",18),d.TgZ(30,"div",19),d.TgZ(31,"table",20),d.TgZ(32,"thead"),d.TgZ(33,"tr"),d.TgZ(34,"th",21),d._uU(35,"Produit"),d.qZA(),d.TgZ(36,"th",21),d._uU(37,"Qualite"),d.qZA(),d.TgZ(38,"th",21),d._uU(39,"Prix"),d.qZA(),d.TgZ(40,"th",21),d._uU(41,"Numero"),d.qZA(),d.TgZ(42,"th",21),d._uU(43,"Action"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(44,"tbody"),d.YNc(45,fk,12,4,"tr",22),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(9),d.Q6J("ngModel",s.first_name),d.xp6(4),d.Q6J("ngModel",s.last_name),d.xp6(4),d.Q6J("ngModel",s.email),d.xp6(4),d.Q6J("ngModel",s.mobile),d.xp6(24),d.Q6J("ngForOf",s.produictionList))},directives:[jD,ld,Fg,bf,ei],styles:[".row[_ngcontent-%COMP%]{padding-left:15%}"]}),n})()}];let gk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cv.forRoot(pk)],cv]}),n})(),mk=(()=>{class n{constructor(){this.title="AngularFirebaseconnect"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,s){1&t&&d._UZ(0,"router-outlet")},directives:[Em],styles:[""]}),n})();const GN_firebase={apiKey:"AIzaSyAfWTXps_kms1clZ8NvBVo5qDwbCGRSJpw",authDomain:"angular-firebase-crud-d02b0.firebaseapp.com",projectId:"angular-firebase-crud-d02b0",storageBucket:"angular-firebase-crud-d02b0.appspot.com",messagingSenderId:"424587321640",appId:"1:424587321640:web:42f4b52417a938e88eb01d"};let _k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[mk]}),n.\u0275inj=d.cJS({providers:[],imports:[[ja,gk,ii.hO.initializeApp(GN_firebase),JP]]}),n})();(0,d.G48)(),ul().bootstrapModule(_k).catch(n=>console.error(n))},3394:(et,De,F)=>{"use strict";F.d(De,{Z:()=>Ie});var d=F(3854),B=F(3910),O=F(8026),ae=F(5422);class oe{constructor(Y,ve){this._delegate=Y,this.firebase=ve,(0,O._addComponent)(Y,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=Y.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this._delegate.automaticDataCollectionEnabled=Y}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Y=>{this._delegate.checkDestroyed(),Y()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Y,ve=O._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(Y);return!pe.isInitialized()&&"EXPLICIT"===(null===(me=pe.getComponent())||void 0===me?void 0:me.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:ve})}_removeServiceInstance(Y,ve=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Y).clearInstance(ve)}_addComponent(Y){(0,O._addComponent)(this._delegate,Y)}_addOrOverwriteComponent(Y){(0,O._addOrOverwriteComponent)(this._delegate,Y)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function ne(){const ge=function(ge){const Y={},ve={__esModule:!0,initializeApp:function(ft,_n={}){const Et=O.initializeApp(ft,_n);if((0,d.r3)(Y,Et.name))return Y[Et.name];const Tt=new ge(Et,ve);return Y[Et.name]=Tt,Tt},app:pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(ft){const _n=ft.name,Et=_n.replace("-compat","");if(O._registerComponent(ft)&&"PUBLIC"===ft.type){const Tt=(dt=pe())=>{if("function"!=typeof dt[Et])throw ye.create("invalid-app-argument",{appName:_n});return dt[Et]()};void 0!==ft.serviceProps&&(0,d.ZB)(Tt,ft.serviceProps),ve[Et]=Tt,ge.prototype[Et]=function(...dt){return this._getService.bind(this,_n).apply(this,ft.multipleInstances?dt:[])}}return"PUBLIC"===ft.type?ve[Et]:null},removeApp:function(ft){delete Y[ft]},useAsService:function(ft,_n){return"serverAuth"===_n?null:_n},modularAPIs:O}};function pe(ft){if(!(0,d.r3)(Y,ft=ft||O._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:ft});return Y[ft]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function(){return Object.keys(Y).map(ft=>Y[ft])}}),pe.App=ge,ve}(oe);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function(ve){(0,d.ZB)(ge,ve)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ge}(),V=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=L;(0,O.registerVersion)("@firebase/app-compat","0.1.15",undefined)},8026:(et,De,F)=>{"use strict";F.r(De),F.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Fi,_DEFAULT_ENTRY_NAME:()=>ys,_addComponent:()=>Wi,_addOrOverwriteComponent:()=>zi,_apps:()=>lr,_clearComponents:()=>Sn,_components:()=>ki,_getProvider:()=>dn,_registerComponent:()=>gi,_removeServiceInstance:()=>Ut,deleteApp:()=>Zn,getApp:()=>Re,getApps:()=>fn,initializeApp:()=>$r,onLog:()=>Vt,registerVersion:()=>In,setLogLevel:()=>Gn});var d=F(8239),B=F(3910),O=F(5422),ae=F(3854);class oe{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function(st){const Se=st.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Bt)){const on=Bt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Bt=>Bt).join(" ")}}const ye="@firebase/app",ne=new O.Yd("@firebase/app"),ys="[DEFAULT]",go={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lr=new Map,ki=new Map;function Wi(st,Se){try{st.container.addComponent(Se)}catch(Bt){ne.debug(`Component ${Se.name} failed to register with FirebaseApp ${st.name}`,Bt)}}function zi(st,Se){st.container.addOrOverwriteComponent(Se)}function gi(st){const Se=st.name;if(ki.has(Se))return ne.debug(`There were multiple attempts to register component ${Se}.`),!1;ki.set(Se,st);for(const Bt of lr.values())Wi(Bt,st);return!0}function dn(st,Se){return st.container.getProvider(Se)}function Ut(st,Se,Bt=ys){dn(st,Se).clearInstance(Bt)}function Sn(){ki.clear()}const Xt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class hn{constructor(Se,Bt,on){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const Fi="9.6.4";function $r(st,Se={}){"object"!=typeof Se&&(Se={name:Se});const Bt=Object.assign({name:ys,automaticDataCollectionEnabled:!1},Se),on=Bt.name;if("string"!=typeof on||!on)throw Xt.create("bad-app-name",{appName:String(on)});const tn=lr.get(on);if(tn){if((0,ae.vZ)(st,tn.options)&&(0,ae.vZ)(Bt,tn.config))return tn;throw Xt.create("duplicate-app",{appName:on})}const qt=new B.H0(on);for(const Qe of ki.values())qt.addComponent(Qe);const Ge=new hn(st,Bt,qt);return lr.set(on,Ge),Ge}function Re(st=ys){const Se=lr.get(st);if(!Se)throw Xt.create("no-app",{appName:st});return Se}function fn(){return Array.from(lr.values())}function Zn(st){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(st){const Se=st.name;lr.has(Se)&&(lr.delete(Se),yield Promise.all(st.container.getProviders().map(Bt=>Bt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function In(st,Se,Bt){var on;let tn=null!==(on=go[st])&&void 0!==on?on:st;Bt&&(tn+=`-${Bt}`);const qt=tn.match(/\s|\//),Ge=Se.match(/\s|\//);if(qt||Ge){const Qe=[`Unable to register library "${tn}" with version "${Se}":`];return qt&&Qe.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),qt&&Ge&&Qe.push("and"),Ge&&Qe.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ne.warn(Qe.join(" "))}gi(new B.wA(`${tn}-version`,()=>({library:tn,version:Se}),"VERSION"))}function Vt(st,Se){if(null!==st&&"function"!=typeof st)throw Xt.create("invalid-log-argument");(0,O.Am)(st,Se)}function Gn(st){(0,O.Ub)(st)}gi(new B.wA("platform-logger",Se=>new oe(Se),"PRIVATE")),In(ye,"0.7.14",""),In(ye,"0.7.14","esm2017"),In("fire-js","")},3910:(et,De,F)=>{"use strict";F.d(De,{wA:()=>O,H0:()=>ue});var d=F(8239),B=F(3854);class O{constructor(L,V,ee){this.name=L,this.instanceFactory=V,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ae="[DEFAULT]";class oe{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const ee=new B.BH;if(this.instancesDeferred.set(V,ee),this.isInitialized(V)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:V});Q&&ee.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const ee=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),Q=null!==(V=null==L?void 0:L.optional)&&void 0!==V&&V;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(le){if(Q)return null;throw le}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(V){}for(const[V,ee]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(V);try{const le=this.getOrInitializeService({instanceIdentifier:Q});ee.resolve(le)}catch(le){}}}}clearInstance(L=ae){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,d.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...V.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ae){return this.instances.has(L)}getOptions(L=ae){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,ee=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:ee,options:V});for(const[le,Ie]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(le)&&Ie.resolve(Q);return Q}onInit(L,V){var ee;const Q=this.normalizeInstanceIdentifier(V),le=null!==(ee=this.onInitCallbacks.get(Q))&&void 0!==ee?ee:new Set;le.add(L),this.onInitCallbacks.set(Q,le);const Ie=this.instances.get(Q);return Ie&&L(Ie,Q),()=>{le.delete(L)}}invokeOnInitCallbacks(L,V){const ee=this.onInitCallbacks.get(V);if(ee)for(const Q of ee)try{Q(L,V)}catch(le){}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let ee=this.instances.get(L);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=L,ne===ae?void 0:ne),options:V}),this.instances.set(L,ee),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(ee,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ee)}catch(Q){}var ne;return ee||null}normalizeInstanceIdentifier(L=ae){return this.component?this.component.multipleInstances?L:ae:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new oe(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(et,De,F)=>{"use strict";F.d(De,{in:()=>B,Yd:()=>ye,Ub:()=>ue,Am:()=>ne});const d=[];var B=(()=>{return(L=B||(B={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",B;var L})();const O={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ae=B.INFO,oe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},se=(L,V,...ee)=>{if(V<L.logLevel)return;const Q=(new Date).toISOString(),le=oe[V];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[le](`[${Q}]  ${L.name}:`,...ee)};class ye{constructor(V){this.name=V,this._logLevel=ae,this._logHandler=se,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in B))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?O[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...V),this._logHandler(this,B.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...V),this._logHandler(this,B.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,B.INFO,...V),this._logHandler(this,B.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,B.WARN,...V),this._logHandler(this,B.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...V),this._logHandler(this,B.ERROR,...V)}}function ue(L){d.forEach(V=>{V.setLogLevel(L)})}function ne(L,V){for(const ee of d){let Q=null;V&&V.level&&(Q=O[V.level]),ee.userLogHandler=null===L?null:(le,Ie,...ge)=>{const Y=ge.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(me){return null}}).filter(ve=>ve).join(" ");Ie>=(null!=Q?Q:le.logLevel)&&L({level:B[Ie].toLowerCase(),message:Y,args:ge,type:le.name})}}}},8239:(et,De,F)=>{"use strict";function d(O,ae,oe,se,ye,ue,ne){try{var L=O[ue](ne),V=L.value}catch(ee){return void oe(ee)}L.done?ae(V):Promise.resolve(V).then(se,ye)}function B(O){return function(){var ae=this,oe=arguments;return new Promise(function(se,ye){var ue=O.apply(ae,oe);function ne(V){d(ue,se,ye,ne,L,"next",V)}function L(V){d(ue,se,ye,ne,L,"throw",V)}ne(void 0)})}}F.d(De,{Z:()=>B})}},et=>{et(et.s=6142)}]);